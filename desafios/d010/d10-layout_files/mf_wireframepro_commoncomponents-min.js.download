function MF_Rectangle(){var thisClass=this;thisClass.NAME="MF_Rectangle";thisClass.LABEL="Rectangle";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.templateID="";thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=100;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.fillColors=["#FFFFFF","#F0F0F0"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.shadowType="none";thisClass.borderColors=["#000000","#000000","#000000","#000000","#000000"];thisClass.borderWidth=[1,1,1,1,1];thisClass.borderType=["solid","solid","solid","solid","solid"];thisClass.borderShow=true;thisClass.borderRadius=[0,0,0,0,0];thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropArray("borderColors",thisClass.borderColors,"String","default");thisClass.e2xml.addPropArray("borderWidth",thisClass.borderWidth,"uint","default");thisClass.e2xml.addPropArray("borderType",thisClass.borderType,"String","default");thisClass.e2xml.addPropArray("borderRadius",thisClass.borderRadius,"uint","default");thisClass.e2xml.addPropSingle("borderShow",thisClass.borderShow,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColors!=null){thisClass.borderColors=thisClass.e2xml.settings.properties.borderColors;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderRadius!=null){thisClass.borderRadius=thisClass.e2xml.settings.properties.borderRadius;}if(thisClass.e2xml.settings.properties.borderShow!=null){thisClass.borderShow=thisClass.e2xml.settings.properties.borderShow;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=thisClass.borderWidth[0];if(thisClass.borderType[0]=="none"){thickness=0;}thisClass.delta=(1*thickness)+5;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<canvas class='mfWFCompCls'  id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="pointer-events: none; -webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+"</canvas>";if(mfpage){$("#mfPage"+mfpage.eid).append(rectCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid)).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid).width(),$("#"+thisClass.eid).height());document.getElementById(thisClass.eid).width=$("#"+thisClass.eid).width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);document.getElementById(thisClass.eid).width=cwidth;document.getElementById(thisClass.eid).height=cheight;}var rad=thisClass.width;if(thisClass.height<thisClass.width){rad=thisClass.height;}var ctx_obj=(document.getElementById(thisClass.eid)).getContext("2d");thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_obj.translate(0.5,0.5);}var startx=cwidth/2;var starty=cheight/2;ctx_obj.save();MF_ComponentUtils.setComponentShadow(ctx_obj,thisClass.shadowType);ctx_obj.beginPath();if(thisClass.borderRadius[0]==0){ctx_obj.rect(thisClass.delta,thisClass.delta,thisClass.width,thisClass.height);}else{roundedRect2(ctx_obj,thisClass.delta,thisClass.delta,thisClass.width,thisClass.height,thisClass.borderRadius[0]);}ctx_obj.closePath();var defFillColor1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var defFillColor2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,0,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-horizontal"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,0);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-diagonally"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="radial"){var grad_Circle1=ctx_obj.createRadialGradient(startx,starty,(rad/2)/2,startx,starty,rad/2);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{ctx_obj.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);}}}}ctx_obj.fill();ctx_obj.restore();ctx_obj.lineWidth=thickness;if(thisClass.borderType[0]=="dashed"){ctx_obj.setLineDash([thickness*2,4]);}if(thisClass.borderType[0]=="dotted"){ctx_obj.setLineDash([thickness,2]);}if(thisClass.borderType[0]!="none"&&thickness!=0){ctx_obj.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColors[0],1);ctx_obj.stroke();}MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_RectangleSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.backgroundSettings=null;thisClass.linkSettings=null;thisClass.borderSettings=null;thisClass.shadowSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();}}catch(e){console.log("error occured in the component MF_Rectangle.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1200px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
					
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Rectangle2(){var thisClass=this;thisClass.NAME="MF_Rectangle2";thisClass.LABEL="Rectangle2";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.templateID="";thisClass.ALLOW_MULTILINK=false;thisClass.CSSCOMP=true;thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=100;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.fillColors=["#FFFFFF","#F0F0F0"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.shadowType="none";thisClass.borderColors=["#000000","#000000","#000000","#000000","#000000"];thisClass.borderWidth=[1,1,1,1,1];thisClass.borderType=["solid","solid","solid","solid","solid"];thisClass.borderShow=true;thisClass.borderRadius=[0,0,0,0,0];thisClass.cssJson="";thisClass.cssClasses=["background_css","text_css"];thisClass.cssObj=null;thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.text="";thisClass.fontSize=12;thisClass.fontColor="#000000";thisClass.textAlign="center";thisClass.fontWeight="normal";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropArray("borderColors",thisClass.borderColors,"String","default");thisClass.e2xml.addPropArray("borderWidth",thisClass.borderWidth,"uint","default");thisClass.e2xml.addPropArray("borderType",thisClass.borderType,"String","default");thisClass.e2xml.addPropArray("borderRadius",thisClass.borderRadius,"uint","default");thisClass.e2xml.addPropSingle("borderShow",thisClass.borderShow,"default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("textAlign",thisClass.textAlign,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.cssJson!=null){thisClass.cssJson=thisClass.e2xml.settings.properties.cssJson;}if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.borderColors!=null){thisClass.borderColors=thisClass.e2xml.settings.properties.borderColors;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderRadius!=null){thisClass.borderRadius=thisClass.e2xml.settings.properties.borderRadius;}if(thisClass.e2xml.settings.properties.borderShow!=null){thisClass.borderShow=thisClass.e2xml.settings.properties.borderShow;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.textAlign!=null){thisClass.textAlign=thisClass.e2xml.settings.properties.textAlign;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}};thisClass.getMaxRadius=function(rad,w,h){var min=w;if(h<min){min=h;}if(min<rad){return min;}else{return rad;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=thisClass.borderWidth[0];if(thisClass.borderType[0]=="none"){thickness=0;}thisClass.delta=(1*thickness)/2;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<div  class='mfWFCompCls background_css_"+thisClass.eid+"' id=\""+thisClass.eid+'"  style="-webkit-transform: translateZ(0); box-sizing: border-box;   padding: 0px;  margin: 0px; background: transparent; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+'<span id="'+thisClass.eid+'_txt" class="text_css_'+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="overflow: hidden; white-space: nowrap; text-align: center;  -webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; line-height:"+(cheight).toString()+'px;  top:0px; left:0px; " > ';rectCode=rectCode+"</span>";rectCode=rectCode+"</div>";if(mfpage){$("#mfPage"+mfpage.eid).append(rectCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);}$("#"+thisClass.eid+"_txt").css("user-select","none");$("#"+thisClass.eid+"_txt").css("-webkit-user-select","none");$("#"+thisClass.eid+"_txt").css("-moz-user-select","none");var tmpBorderWidth=(thisClass.borderType[0]=="none")?0:thisClass.borderWidth[0];$("#"+thisClass.eid+"_txt").css("width",cwidth-(tmpBorderWidth*2));$("#"+thisClass.eid+"_txt").css("height",cheight-(tmpBorderWidth*2));$("#"+thisClass.eid+"_txt").css("line-height",(cheight-(tmpBorderWidth*2)).toString()+"px");var c1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var c2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){$("#"+thisClass.eid).css("background","linear-gradient("+c1+","+c2+")");}else{if(thisClass.fillType=="linear-horizontal"){$("#"+thisClass.eid).css("background","linear-gradient(90deg,"+c1+","+c2+")");}else{if(thisClass.fillType=="linear-diagonally"){$("#"+thisClass.eid).css("background","linear-gradient(45deg,"+c1+","+c2+")");}else{if(thisClass.fillType=="radial"){$("#"+thisClass.eid).css("background","radial-gradient("+c1+","+c2+")");}else{if(thisClass.fillType=="solid"){$("#"+thisClass.eid).css("background",c1);}else{$("#"+thisClass.eid).css("background","transparent");}}}}}if(thisClass.borderShow){$("#"+thisClass.eid).css("border",thisClass.borderType[0]+" "+thisClass.borderWidth[0].toString()+"px "+thisClass.borderColors[0]);$("#"+thisClass.eid).css("border-radius",thisClass.getMaxRadius(thisClass.borderRadius[0],thisClass.width,thisClass.height)+"px");$("#"+thisClass.eid).css("border-top",thisClass.borderType[1]+" "+thisClass.borderWidth[1].toString()+"px "+thisClass.borderColors[1]);$("#"+thisClass.eid).css("border-top-left-radius",thisClass.getMaxRadius(thisClass.borderRadius[1],thisClass.width,thisClass.height)+"px");$("#"+thisClass.eid).css("border-right",thisClass.borderType[2]+" "+thisClass.borderWidth[2].toString()+"px "+thisClass.borderColors[2]);$("#"+thisClass.eid).css("border-top-right-radius",thisClass.getMaxRadius(thisClass.borderRadius[2],thisClass.width,thisClass.height)+"px");$("#"+thisClass.eid).css("border-bottom",thisClass.borderType[3]+" "+thisClass.borderWidth[3].toString()+"px "+thisClass.borderColors[3]);$("#"+thisClass.eid).css("border-bottom-right-radius",thisClass.getMaxRadius(thisClass.borderRadius[3],thisClass.width,thisClass.height)+"px");$("#"+thisClass.eid).css("border-left",thisClass.borderType[4]+" "+thisClass.borderWidth[4].toString()+"px "+thisClass.borderColors[4]);$("#"+thisClass.eid).css("border-bottom-left-radius",thisClass.getMaxRadius(thisClass.borderRadius[4],thisClass.width,thisClass.height)+"px");}MF_ComponentUtils.setComponentShadowCSS(thisClass.eid,thisClass.shadowType);var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);var htext=$("#"+thisClass.eid+"_txt").html(thisClass.text).text();htext=MF_ComponentUtils.getRefactoredText(htext);$("#"+thisClass.eid+"_txt").html(htext);$("#"+thisClass.eid+"_txt").css("font-family",fontFamily);$("#"+thisClass.eid+"_txt").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"_txt").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"_txt").css("text-decoration",thisClass.textDecoration);$("#"+thisClass.eid+"_txt").css("font-size",thisClass.fontSize.toString()+"px");$("#"+thisClass.eid+"_txt").css("color",thisClass.fontColor);$("#"+thisClass.eid+"_txt").css("text-align",thisClass.textAlign);MF_Utils.rotate(thisClass.eid,thisClass.eangle);MF_ComponentUtils.applyCSS(thisClass);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_Rectangle2Settings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.backgroundSettings=null;thisClass.linkSettings=null;thisClass.borderSettings=null;thisClass.shadowSettings=null;thisClass.cssSettings=null;thisClass.fontSettings=null;thisClass.powerupSettings=null;thisClass.themeSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();thisClass.cssSettings.remove();thisClass.fontSettings.remove();thisClass.powerupSettings.remove();thisClass.themeSettings.remove();}}catch(e){console.log("error occured in the component MF_Button2.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings4();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.init(thisClass);thisClass.cssSettings=new MF_CSSSettings();thisClass.cssSettings.init(thisClass);thisClass.themeSettings=new MF_ThemeSettings();thisClass.themeSettings.init(thisClass);thisClass.powerupSettings=new MF_TextUtilitySettings();thisClass.powerupSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.cssSettings.init(thisClass);thisClass.powerupSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.themeSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1100px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
					
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						
						<div id="{{eid}}_theme"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_powerup"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
						<div id="{{eid}}_css"  style="overflow: hidden; width:100%; " >
							
						</div>
						
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);if(mf_main.DESIGNMODE){$("#"+thisClass.eid+"_powerup").hide();}thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_AdvancedDataGrid(){var thisClass=this;thisClass.NAME="MF_AdvancedDataGrid";thisClass.LABEL="Advanced DataGrid";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=false;thisClass.MULTILINE=true;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.MAX_BORDER=2;thisClass.x=0;thisClass.y=0;thisClass.width=800;thisClass.height=330;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj="";thisClass.templateID="";thisClass.pageSetLink=false;thisClass.linkArray=new Object();thisClass.subLink=false;thisClass.ALLOW_SUBLINK=false;thisClass.tempLinkItems=new Object();thisClass.assignedLinkItems=new Object();thisClass.shadowType="none";thisClass.borderColor="#000000";thisClass.borderWidth=1;thisClass.borderType="solid";thisClass.borderRadius=0;thisClass.horizontalGridLines=true;thisClass.verticalGridLines=true;thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.fillColor="#e6e6e6";thisClass.fillAlpha=1;thisClass.textPadding=0;thisClass.fontSize=13;thisClass.fontColor="#000000";thisClass.fontWeight="normal";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.textAlign="center";thisClass.iconSize=20;thisClass.selectionType="table";thisClass.selectedCellId=null;thisClass.selectedRow=null;thisClass.selectedColumn=null;thisClass.selectedColumnData=new Array();thisClass.icon=null;thisClass.minimumRowHeight=10;thisClass.minimumColumnWidth=10;thisClass.gridEditMode=false;thisClass.layoutJSON={gridLayout:[[{id:MF_Utils.guidGenerator(),fontColor:"#fff",text:"Name",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:50,width:120,fillColor:"#424242",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#fff",text:"Company",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:50,width:130,fillColor:"#424242",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#fff",text:"Email",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:50,width:180,fillColor:"#424242",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#fff",text:"Address",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:50,width:230,fillColor:"#424242",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#fff",text:"Phone Number",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:50,width:140,fillColor:"#424242",fillAlpha:1,fillType:"solid"}],[{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"Janice Monahan",icon:"",iconSize:13,link:"",fontWeight:"",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:120,fillColor:"#FAFAFA",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"Koch and Sons",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:130,fillColor:"#FAFAFA",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"Janice_Monahan@yahoo.com",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:180,fillColor:"#FAFAFA",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"Port Beulah, Iowa 90719, United States of America",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:230,fillColor:"#FAFAFA",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"969-068-8439",icon:"fa-phone",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:140,fillColor:"#E0E0E0",fillAlpha:1,fillType:"solid"}],[{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"Rollin Fadel",icon:"",iconSize:13,link:"",fontWeight:"",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:120,fillColor:"#E0E0E0",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"Steuber LLC",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:130,fillColor:"#E0E0E0",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"Rollin_Fadel@gmail.com",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:180,fillColor:"#E0E0E0",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"Lake Matilde, Tennessee 74062, United States of America",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:230,fillColor:"#E0E0E0",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"(017) 057-6055",icon:"fa-phone",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:140,fillColor:"#E0E0E0",fillAlpha:1,fillType:"solid"}],[{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"Lera Stroman",icon:"",iconSize:13,link:"",fontWeight:"",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:120,fillColor:"#FAFAFA",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"Konopelski Group",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:130,fillColor:"#FAFAFA",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"Lera_Stroman3@gmail.com",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:180,fillColor:"#FAFAFA",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"Vicentaview, Mississippi 47576-9639, United States of America",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:230,fillColor:"#FAFAFA",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"166-619-2267",icon:"fa-phone",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:140,fillColor:"#E0E0E0",fillAlpha:1,fillType:"solid"}],[{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"Adan Schiller",icon:"",iconSize:13,link:"",fontWeight:"",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:120,fillColor:"#E0E0E0",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"Harber Inc",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:130,fillColor:"#E0E0E0",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"Adan_Schiller19@yahoo.com",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:180,fillColor:"#E0E0E0",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"VonRuedenberg, Delaware 99072-4003, United States of America",icon:"",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:230,fillColor:"#E0E0E0",fillAlpha:1,fillType:"solid"},{id:MF_Utils.guidGenerator(),fontColor:"#000000",text:"(699) 824-5724",icon:"fa-phone",iconSize:13,link:"",fontWeight:"normal",fontSize:13,fontStyle:"normal",textAlign:"center",textPadding:0,textDecoration:"none",linkType:"",imageUrl:"",height:70,width:140,fillColor:"#E0E0E0",fillAlpha:1,fillType:"solid"}]]};thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("horizontalGridLines",thisClass.horizontalGridLines,"default");thisClass.e2xml.addPropSingle("verticalGridLines",thisClass.verticalGridLines,"default");thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("borderRadius",thisClass.borderRadius,"default");var layoutString=JSON.stringify(thisClass.layoutJSON);thisClass.e2xml.addPropSingle("gridLayout",layoutString,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.verticalGridLines!=null){thisClass.verticalGridLines=thisClass.e2xml.settings.properties.verticalGridLines;}if(thisClass.e2xml.settings.properties.horizontalGridLines!=null){thisClass.horizontalGridLines=thisClass.e2xml.settings.properties.horizontalGridLines;}if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderRadius!=null){thisClass.borderRadius=thisClass.e2xml.settings.properties.borderRadius;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.gridLayout!=null){try{thisClass.gridLayout=thisClass.e2xml.settings.properties.gridLayout;if(thisClass.gridLayout!=""){thisClass.layoutJSON=JSON.parse(thisClass.e2xml.settings.properties.gridLayout);}}catch(e){console.log("Error in Advanced Grid");}}};this.updateAdvancedGridDataId=function(xmlData){try{var gridData=$(xmlData).find("settings").find('property[name="gridLayout"]').text();var gridDataSource=JSON.parse(gridData);var gridData=gridDataSource.gridLayout;for(var i=0;i<gridData.length;i++){for(j=0;j<gridData[i].length;j++){gridData[i][j].id=mf_main.editorController.guidGenerator();}}$(xmlData).find("settings").find('property[name="gridLayout"]').text(JSON.stringify(gridDataSource));}catch(e){console.log("Error in Advanced Grid");}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=parseInt(thisClass.borderWidth);if(thisClass.borderType=="none"){thickness=0;}thisClass.delta=(1*thickness);var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();thisClass.gridEditMode=false;rectCode=rectCode+"<div class='mfWFCompCls'  id=\""+thisClass.eid+'" style="white-space: nowrap; line-height: 100%; -webkit-transform: translateZ(0); position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; padding: 5px; " > ';rectCode=rectCode+'<canvas id="'+thisClass.eid+'_cvs" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0); position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+'px; top:0px; left:0px; " > ';rectCode=rectCode+"</canvas>";rectCode=rectCode+'<div id="'+thisClass.eid+'_txt"  style="overflow: hidden; -webkit-transform: translateZ(0);  position:absolute; width:'+(thisClass.width).toString()+"px; height:"+(thisClass.height).toString()+"px;   top:"+(thisClass.delta).toString()+"px; left:"+(thisClass.delta).toString()+'px;  " > ';rectCode=rectCode+"</div>";rectCode=rectCode+"</div>";if(mfpage){$("#mfPage"+mfpage.eid).append(rectCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid+"_cvs").width(),$("#"+thisClass.eid+"_cvs").height());document.getElementById(thisClass.eid+"_cvs").width=$("#"+thisClass.eid+"_cvs").width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid+"_txt").css("left",thisClass.delta);$("#"+thisClass.eid+"_txt").css("top",thisClass.delta);$("#"+thisClass.eid+"_txt").css("width",thisClass.width);$("#"+thisClass.eid+"_txt").css("height",thisClass.height);document.getElementById(thisClass.eid+"_cvs").width=cwidth;document.getElementById(thisClass.eid+"_cvs").height=cheight;$("#"+thisClass.eid+"_cvs").css("width",cwidth);$("#"+thisClass.eid+"_cvs").css("height",cheight);}var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);$("#"+thisClass.eid+"_txt").empty();$("#"+thisClass.eid+"_txt").css("font-family",fontFamily);var ctx_obj=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");if(Math.abs(thickness%2)==1){ctx_obj.translate(0.5,0.5);}ctx_obj.lineWidth=thickness;ctx_obj.lineColor=thisClass.borderColor;ctx_obj.beginPath();if(thisClass.borderRadius==0){ctx_obj.rect(thisClass.delta,thisClass.delta,thisClass.width,thisClass.height);}else{roundedRect2(ctx_obj,thisClass.delta,thisClass.delta,thisClass.width,thisClass.height,thisClass.borderRadius);}ctx_obj.closePath();ctx_obj.lineWidth=thickness;ctx_obj.lineColor=thisClass.borderColor;if(thisClass.borderType=="dashed"){ctx_obj.setLineDash([thickness*2,4]);}if(thisClass.borderType=="dotted"){ctx_obj.setLineDash([thickness,2]);}if(thisClass.borderType!="none"&&thickness!=0){ctx_obj.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_obj.stroke();}ctx_obj.beginPath();var arr=thisClass.layoutJSON.gridLayout;var rowArr=new Array();rowArr=arr;var colArr=thisClass.layoutJSON.gridLayout[0];var horizontalLinePos=thisClass.delta;var verticalLinePos=thisClass.delta;var rowArrLength=rowArr.length;var colWidthDiff=1;var rowHeightDiff=1;var colHeight=(thisClass.height-thisClass.delta)/rowArrLength;var colWidth=(thisClass.width-thisClass.delta)/colArr.length;if(thisClass.prevEsize){var totalColumnWidth=0;var tempColumnCnt=0;for(i=0;i<colArr.length;i++){totalColumnWidth=totalColumnWidth+colArr[i].width;if(colArr[i].width>=thisClass.minimumColumnWidth){tempColumnCnt++;}}colWidthDiff=Math.round(thisClass.width)/Math.round(totalColumnWidth);}if(thisClass.prevEsize){var totalrowHeight=0;for(i=0;i<rowArr.length;i++){totalrowHeight=totalrowHeight+rowArr[i][0].height;}rowHeightDiff=Math.round(thisClass.height)/Math.round(totalrowHeight);}if(colWidthDiff!=1||rowHeightDiff!=1){for(var i=0;i<rowArr.length;i++){var mat=rowArr[i];for(j=0;j<mat.length;j++){arr[i][j].width=arr[i][j].width*colWidthDiff;arr[i][j].height=arr[i][j].height*rowHeightDiff;}}thisClass.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.layoutJSON),"default");if(thisClass.gridEditMode){mf_main.editorController.gridEditor.render();}}for(var i=0;i<arr.length;i++){var mat=arr[i];colHeight=mat[0].height-(thickness/rowArr.length);var hPos=thisClass.delta;for(var c=0;c<mat.length;c++){ctx_obj.beginPath();ctx_obj.fillStyle=MF_ComponentUtils.hexToRGB(mat[c].fillColor,mat[c].fillAlpha);if(i==arr.length-1){if(c==mat.length-1){thisClass.rightBottomRoundRect(ctx_obj,hPos+(thickness/2),horizontalLinePos+(thickness/2),mat[c].width-(thickness/colArr.length),mat[c].height-(thickness/rowArrLength),thisClass.borderRadius);}else{if(c==0){thisClass.leftBottomRoundRect(ctx_obj,hPos+(thickness/2),horizontalLinePos+(thickness/2),mat[c].width-(thickness/colArr.length)+1,mat[c].height-(thickness/rowArrLength),thisClass.borderRadius);}else{ctx_obj.rect(hPos+(thickness/2),horizontalLinePos+(thickness/2),mat[c].width-(thickness/colArr.length)+1,mat[c].height-(thickness/rowArrLength));}}}else{if(i==0){if(c==mat.length-1){thisClass.rightTopRoundRect(ctx_obj,hPos+(thickness/2),horizontalLinePos+(thickness/2),mat[c].width-(thickness/colArr.length),mat[c].height-(thickness/rowArrLength)+1,thisClass.borderRadius);}else{if(c==0){thisClass.leftTopRoundRect(ctx_obj,hPos+(thickness/2),horizontalLinePos+(thickness/2),mat[c].width-(thickness/colArr.length)+1,mat[c].height-(thickness/rowArrLength)+1,thisClass.borderRadius);}else{ctx_obj.rect(hPos+(thickness/2),horizontalLinePos+(thickness/2),mat[c].width-(thickness/colArr.length)+1,mat[c].height-(thickness/rowArrLength)+1);}}}else{if(c==mat.length-1){ctx_obj.rect(hPos+(thickness/2),horizontalLinePos+(thickness/2),mat[c].width-(thickness/colArr.length),mat[c].height-(thickness/rowArrLength)+1);}else{ctx_obj.rect(hPos+(thickness/2),horizontalLinePos+(thickness/2),mat[c].width-(thickness/colArr.length)+1,mat[c].height-(thickness/rowArrLength)+1);}}}ctx_obj.fill();ctx_obj.closePath();hPos=hPos+mat[c].width-(thickness/mat.length);}if(thisClass.horizontalGridLines){if(thisClass.borderType!="none"&&thickness!=0&&i!=0){ctx_obj.beginPath();ctx_obj.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_obj.moveTo(thisClass.delta,horizontalLinePos);ctx_obj.lineTo(thisClass.delta+thisClass.width,horizontalLinePos);ctx_obj.stroke();ctx_obj.closePath();}}horizontalLinePos=horizontalLinePos+colHeight;}if(thisClass.verticalGridLines){for(var i=0;i<colArr.length;i++){if(thisClass.borderType!="none"&&thickness!=0&&i!=colArr.length-1){ctx_obj.beginPath();ctx_obj.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);verticalLinePos=verticalLinePos+colArr[i].width;ctx_obj.moveTo(verticalLinePos,thisClass.delta);ctx_obj.lineTo(verticalLinePos,thisClass.height+thisClass.delta);ctx_obj.stroke();ctx_obj.closePath();}}}var horizontalLinePos=thisClass.delta;var cellCode="";for(var b=0;b<rowArr.length;b++){var cellArr=$.extend(true,[],rowArr[b]);var verticalLinePos=thisClass.delta;for(var i=0;i<cellArr.length;i++){var cont=cellArr[i].text;var fillStyle="";var bgColor=MF_ComponentUtils.hexToRGB(cellArr[i].fillColor,cellArr[i].fillAlpha);fillStyle="background: "+bgColor+"; ";fillStyle="background: none; ";var rowHeight=cellArr[i].height-(thickness/rowArr.length);var colWidth=cellArr[i].width-(thickness/colArr.length);var rowTop=horizontalLinePos-thickness/2;var colLeft=verticalLinePos-thickness/2;cellCode+="<div id="+cellArr[i].id+" class='mfDataGridCell' style='width:"+(colWidth)+"px; height:"+(rowHeight)+"px;box-sizing: border-box;position:absolute;overflow: hidden;white-space: nowrap; overflow: hidden;  text-overflow:  ellipsis;text-align: "+cellArr[i].textAlign+"; "+fillStyle+"white-space: initial; top: "+(rowTop)+"px; left:"+(colLeft)+"px;font-weight:"+cellArr[i].fontWeight+";color:"+cellArr[i].fontColor+";font-style:"+cellArr[i].fontStyle+";text-decoration:"+cellArr[i].textDecoration+";'>";cellCode+="<div style='box-sizing: border-box;padding:"+(cellArr[i].textPadding)+"px;align-items: center;position: relative;width:"+(colWidth)+"px; height:"+(rowHeight)+"px;'>";cellCode+="<div class='mfDataGridCellContainer' style='display: table;height:100%;width:100%;user-select: none;overflow: hidden;text-decoration:"+cellArr[i].textDecoration+";line-height: 1.4;overflow: hidden;vertical-align: middle;'>";if(cellArr[i].icon!=""&&cellArr[i].text!=""){var iconWidth=cellArr[i].iconSize>35?cellArr[i].iconSize:35;cellCode+="<div class='mfDataGridCellContent mfDataGridCellContentIcon' style='display:table;font-size:"+cellArr[i].iconSize+"px;width: "+iconWidth+"px;float: left;height:"+(rowHeight)+"px;align-items: center;vertical-align: middle;'><i class="+cellArr[i].icon+" style='margin: 0 auto;position: relative;vertical-align: middle;display: table-cell;'></i></div>";cellCode+="<div class='mfDataGridCellContent mfDataGridCellContentText' style='display:table;width: 100%;margin: 0 auto; padding:0px 5px; font-size:"+cellArr[i].fontSize+"px;max-width:calc(100% - "+iconWidth+"px);line-height:1.4;overflow: hidden;height:"+(rowHeight)+"px;max-height:"+(rowHeight)+"px;align-items: center;vertical-align: middle;'><span style='display: table-cell;vertical-align: middle;'>"+MF_Utils.htmlDecode(cont)+"</span></div>";}else{if(cellArr[i].icon!=""){cellCode+="<div class='mfDataGridCellContent mfDataGridCellContentIcon' style='display:table;font-size:"+cellArr[i].iconSize+"px;height: 100%;width: 100%;overflow: hidden'><i class="+cellArr[i].icon+" style='display: table-cell;vertical-align: middle;margin: 0 auto;position: relative;'></i></div>";}else{if(cellArr[i].text!=""){cellCode+="<div class='mfDataGridCellContent mfDataGridCellContentText' style='display: table-cell;vertical-align: middle;padding:0px 5px;margin: 0 auto;max-width:"+(colWidth)+"px; max-height:"+(rowHeight)+"px;font-size:"+cellArr[i].fontSize+"px;line-height:1.4;overflow:hidden'>"+MF_Utils.htmlDecode(cont)+"</div>";}}}cellCode+="</div>";cellCode+="</div></div>";verticalLinePos=verticalLinePos+colWidth;}horizontalLinePos=horizontalLinePos+rowHeight;}$("#"+thisClass.eid+"_txt").append(cellCode);ctx_obj.closePath();MF_ComponentUtils.setComponentShadowImageCSS(thisClass.eid+"_cvs",thisClass.shadowType);MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}if(mf_main.editorController.componentSelect.length==1&&!mf_main.editorController.componentSelect[0].GROUP&&mf_main.editorController.componentSelect[0].component.NAME=="MF_AdvancedDataGrid"){if(thisClass.gridEditMode){mf_main.editorController.gridEditor.initCellClickListeners();mf_main.editorController.gridEditor.updateSelection();}}};this.leftTopRoundRect=function(ctx,x,y,width,height,radius){radius=radius/2;ctx.beginPath();ctx.moveTo(x,y);ctx.lineTo(x,y+height);ctx.quadraticCurveTo(x,y+height,x,y+height);ctx.lineTo(x+width,y+height);ctx.lineTo(x+width,y);ctx.lineTo(x+radius,y);ctx.quadraticCurveTo(x,y,x,y+radius);};this.rightTopRoundRect=function(ctx,x,y,width,height,radius){radius=radius/2;ctx.beginPath();ctx.moveTo(x,y);ctx.lineTo(x,y+height);ctx.lineTo(x+width,y+height);ctx.quadraticCurveTo(x+width,y+height,x+width,y+height);ctx.lineTo(x+width,y+radius);ctx.quadraticCurveTo(x+width,y,x+width-radius,y);ctx.lineTo(x,y);};this.leftBottomRoundRect=function(ctx,x,y,width,height,radius){radius=radius/2;ctx.beginPath();ctx.moveTo(x,y+radius);ctx.lineTo(x,y+height-radius);ctx.quadraticCurveTo(x,y+height,x+radius,y+height);ctx.lineTo(x+width,y+height);ctx.lineTo(x+width,y);ctx.lineTo(x,y);ctx.quadraticCurveTo(x,y,x,y);};this.rightBottomRoundRect=function(ctx,x,y,width,height,radius){radius=radius/2;ctx.beginPath();ctx.moveTo(x,y);ctx.lineTo(x,y+height);ctx.lineTo(x+width-radius,y+height);ctx.quadraticCurveTo(x+width,y+height,x+width,y+height-radius);ctx.lineTo(x+width,y);ctx.quadraticCurveTo(x+width,y,x+width,y);ctx.lineTo(x,y);},this.getCommonSettings=function(){if(thisClass.selectionType=="row"){var rowVal=thisClass.selectedRow;var arr=thisClass.layoutJSON.gridLayout[rowVal];}if(thisClass.selectionType=="column"){var arr=thisClass.selectedColumnData;}if(thisClass.selectionType=="table"){var arr=[];for(i=0;i<thisClass.layoutJSON.gridLayout.length;i++){arr=arr.concat(thisClass.layoutJSON.gridLayout[i]);}}var commonSetting=new Array();var obj=arr[0];for(var key in obj){if(obj.hasOwnProperty(key)){var val=obj[key];var returnedData=$.grep(arr,function(element,index){return element[key]==val;});if(returnedData.length==arr.length){commonSetting.push(key);}}}return commonSetting;};this.updateSettings=function(key,val,undo){mf_main.editorController.stopEditingText();if(thisClass.selectionType=="cell"){var arr=thisClass.layoutJSON.gridLayout;for(i=0;i<arr.length;i++){for(j=0;j<arr[i].length;j++){if(arr[i][j].id==thisClass.selectedCellId){arr[i][j][key]=val;}}}}if(thisClass.selectionType=="row"){var rowVal=thisClass.selectedRow;var arr=thisClass.layoutJSON.gridLayout;for(i=0;i<arr[rowVal].length;i++){arr[rowVal][i][key]=val;}}if(thisClass.selectionType=="column"||thisClass.selectionType=="table"){var colVal=thisClass.selectedColumn;var arr=thisClass.layoutJSON.gridLayout;for(i=0;i<arr.length;i++){for(j=0;j<arr[i].length;j++){if(thisClass.selectionType=="table"){arr[i][j][key]=val;}if(thisClass.selectionType=="column"&&j==colVal){arr[i][j][key]=val;}}}}thisClass.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.layoutJSON),undo);};this.getCellObjbyId=function(cellId){var arr=thisClass.layoutJSON.gridLayout;for(i=0;i<arr.length;i++){for(j=0;j<arr[i].length;j++){if(arr[i][j].id==cellId){return arr[i][j];}}}};this.updateHeader=function(key,val){mf_main.editorController.stopEditingText();var arr=thisClass.layoutJSON.gridLayout[0];for(i=0;i<arr.length;i++){arr[i][key]=val;}thisClass.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.layoutJSON));};this.updateRow1=function(key,val){mf_main.editorController.stopEditingText();var arr=thisClass.layoutJSON.gridLayout;for(i=0;i<arr.length;i++){if(i%2==1){for(j=0;j<arr[i].length;j++){arr[i][j][key]=val;}}}thisClass.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.layoutJSON));};this.updateRow2=function(key,val){mf_main.editorController.stopEditingText();var arr=thisClass.layoutJSON.gridLayout;for(i=0;i<arr.length;i++){if(i!=0&&i%2==0){for(j=0;j<arr[i].length;j++){arr[i][j][key]=val;}}}thisClass.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.layoutJSON));};this.isLinkExists=function(){var linkExists="";var arr=thisClass.layoutJSON.gridLayout;for(i=0;i<arr.length;i++){for(j=0;j<arr[i].length;j++){if(arr[i][j].link!=""){linkExists="true";break;}}}return linkExists;};}function MF_AdvancedDataGridSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.fontSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.shadowSettings=null;thisClass.powerupSettings=null;thisClass.themeSettings=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfHeaderFillOpacity_"+thisClass.eid).data("kendoSlider")){$("#mfHeaderFillOpacity_"+thisClass.eid).data("kendoSlider").destroy();}if($("#mfRowFillOpacity_"+thisClass.eid).data("kendoSlider")){$("#mfRowFillOpacity_"+thisClass.eid).data("kendoSlider").destroy();}if($("#mfRowFillOpacity2_"+thisClass.eid).data("kendoSlider")){$("#mfRowFillOpacity2_"+thisClass.eid).data("kendoSlider").destroy();}thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.fontSettings.remove();thisClass.borderSettings.remove();thisClass.iconSettings.remove();thisClass.cellSettings.remove();thisClass.shadowSettings.remove();thisClass.powerupSettings.remove();thisClass.themeSettings.remove();}}catch(e){console.log("error occured in the component MF_AdvancedDataGrid.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings3();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);thisClass.powerupSettings=new MF_TextUtilitySettings();thisClass.powerupSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.themeSettings=new MF_ThemeSettings();thisClass.themeSettings.init(thisClass);thisClass.fontSettings=new MF_AdvancedGridFontSettings();thisClass.iconSettings=new MF_AdvancedDataGridIconSettings();thisClass.cellSettings=new MF_AdvancedDataGridCellSettings();}else{thisClass.transformSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.powerupSettings.init(thisClass);thisClass.themeSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}if(thisClass.component.selectionType){thisClass.updateSettingsPanelUI();}};thisClass.updateTransform=function(){thisClass.transformSettings.updateTransform();};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfHorLines_"+thisClass.eid).click(toggleHorizontal);$("#mfVerLines_"+thisClass.eid).click(toggleVertical);$("#mfClearAll_"+thisClass.eid).click(function(){bootbox.confirm("Clear all cell data and make the table empty ?",function(ans){if(ans){var arr=thisClass.component.layoutJSON.gridLayout;for(i=0;i<arr.length;i++){for(j=0;j<arr[i].length;j++){arr[i][j].text="";arr[i][j].icon="";}}thisClass.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.component.layoutJSON));thisClass.component.render(false);}});});$("#mfHeaderFillColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){color=MF_Utils.RGBToHex(color.toRgbString());thisClass.component.updateHeader("fillColor",color);thisClass.component.render(false);}});$("#mfHeaderFillOpacity_"+thisClass.eid).kendoSlider({showButtons:false,change:headerAlphaOnSlide,tickPlacement:"none",min:0,max:1,smallStep:0.1,largeStep:0.1,tooltip:{enabled:false},}).data("kendoSlider");$("#mfRowFillColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){color=MF_Utils.RGBToHex(color.toRgbString());thisClass.component.updateRow1("fillColor",color);thisClass.component.render(false);}});$("#mfRowFillColor2_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){color=MF_Utils.RGBToHex(color.toRgbString());thisClass.component.updateRow2("fillColor",color);thisClass.component.render(false);}});$("#mfFillWithAI_"+thisClass.eid).on("click",function(event){mf_main.editorController.openNavBarContent("mfNavAIToolsBtn");mf_main.editorController.aiToolsController.openAITable();});$("#mfRowFillOpacity_"+thisClass.eid).kendoSlider({showButtons:false,change:row1alphaOnSlide,tickPlacement:"none",min:0,max:1,smallStep:0.1,largeStep:0.1,tooltip:{enabled:false}}).data("kendoSlider");$("#mfRowFillOpacity2_"+thisClass.eid).kendoSlider({showButtons:false,change:row2alphaOnSlide,tickPlacement:"none",min:0,max:1,smallStep:0.1,largeStep:0.1,tooltip:{enabled:false}}).data("kendoSlider");}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}$("#mfHorLines_"+thisClass.eid).prop("checked",thisClass.component.horizontalGridLines);function toggleHorizontal(e){mf_main.editorController.stopEditingText();var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("horizontalGridLines",true);}else{thisClass.component.e2xml.addPropSingle("horizontalGridLines",false);}thisClass.component.render(false);}$("#mfVerLines_"+thisClass.eid).prop("checked",thisClass.component.verticalGridLines);function toggleVertical(e){mf_main.editorController.stopEditingText();var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("verticalGridLines",true);}else{thisClass.component.e2xml.addPropSingle("verticalGridLines",false);}thisClass.component.render(false);}function headerAlphaOnSlide(e){thisClass.component.updateHeader("fillAlpha",e.value);thisClass.component.render(false);}var gridArr=thisClass.component.layoutJSON.gridLayout;var headerFillArray=[],row1FillArray=[],row2FillArray=[];var headerAlphaArray=[],row1AlphaArray=[],row2AlphaArray=[];for(i=0;i<gridArr.length;i++){for(j=0;j<gridArr[i].length;j++){if(i==0){if(headerFillArray.indexOf(gridArr[i][j].fillColor)==-1){headerFillArray.push(gridArr[i][j].fillColor);}if(headerAlphaArray.indexOf(gridArr[i][j].fillAlpha)==-1){headerAlphaArray.push(gridArr[i][j].fillAlpha);}}if(i!=0&&i%2==1){if(row1FillArray.indexOf(gridArr[i][j].fillColor)==-1){row1FillArray.push(gridArr[i][j].fillColor);}if(row1AlphaArray.indexOf(gridArr[i][j].fillAlpha)==-1){row1AlphaArray.push(gridArr[i][j].fillAlpha);}}if(i!=0&&i%2==0){if(row2FillArray.indexOf(gridArr[i][j].fillColor)==-1){row2FillArray.push(gridArr[i][j].fillColor);}if(row2AlphaArray.indexOf(gridArr[i][j].fillAlpha)==-1){row2AlphaArray.push(gridArr[i][j].fillAlpha);}}}}if(headerFillArray.length==1){$("#mfHeaderFillColor_"+thisClass.eid).spectrum("set",headerFillArray[0]);}else{$("#mfHeaderFillColor_"+thisClass.eid).spectrum("set","#fff");}if(row1FillArray.length==1){$("#mfRowFillColor_"+thisClass.eid).spectrum("set",row1FillArray[0]);}else{$("#mfRowFillColor_"+thisClass.eid).spectrum("set","#fff");}if(row2FillArray.length==1){$("#mfRowFillColor2_"+thisClass.eid).spectrum("set",row2FillArray[0]);}else{$("#mfRowFillColor2_"+thisClass.eid).spectrum("set","#fff");}if(headerAlphaArray.length==1){$("#mfHeaderFillOpacity_"+thisClass.eid).data("kendoSlider").value(headerAlphaArray[0]);}else{$("#mfHeaderFillOpacity_"+thisClass.eid).data("kendoSlider").value(1);}if(row1AlphaArray.length==1){$("#mfRowFillOpacity_"+thisClass.eid).data("kendoSlider").value(row1AlphaArray[0]);}else{$("#mfRowFillOpacity_"+thisClass.eid).data("kendoSlider").value(1);}if(row2AlphaArray.length==1){$("#mfRowFillOpacity2_"+thisClass.eid).data("kendoSlider").value(row2AlphaArray[0]);}else{$("#mfRowFillOpacity2_"+thisClass.eid).data("kendoSlider").value(1);}function row1alphaOnSlide(e){thisClass.component.updateRow1("fillAlpha",e.value);thisClass.component.render(false);}function row2alphaOnSlide(e){thisClass.component.updateRow2("fillAlpha",e.value);thisClass.component.render(false);}};this.updateSettingsPanelUI=function(){if(thisClass.component.selectionType=="table"){var commonSettingArray=thisClass.component.getCommonSettings();var cellObj=thisClass.component.layoutJSON.gridLayout[0][0];}if(thisClass.component.selectionType=="row"){var commonSettingArray=thisClass.component.getCommonSettings();var val=thisClass.component.selectedRow;var cellObj=thisClass.component.layoutJSON.gridLayout[val][0];}if(thisClass.component.selectionType=="column"){var commonSettingArray=thisClass.component.getCommonSettings();var val=thisClass.component.selectedColumn;var cellObj=thisClass.component.selectedColumnData[0];}if(thisClass.component.selectionType=="cell"&&thisClass.component.selectedCellId){var cellObj=thisClass.component.getCellObjbyId(thisClass.component.selectedCellId);if(cellObj){thisClass.component.textAlign=cellObj.textAlign;thisClass.component.fontWeight=cellObj.fontWeight;thisClass.component.fontStyle=cellObj.fontStyle;thisClass.component.textDecoration=cellObj.textDecoration;thisClass.component.fontSize=cellObj.fontSize;thisClass.component.fontColor=cellObj.fontColor;thisClass.component.icon=cellObj.icon;thisClass.component.iconSize=cellObj.iconSize;thisClass.component.fillColor=cellObj.fillColor;thisClass.component.fillAlpha=cellObj.fillAlpha;thisClass.component.textPadding=cellObj.textPadding;thisClass.component.link=cellObj.link;thisClass.component.linkType=cellObj.linkType;thisClass.setupEvents();thisClass.fontSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.iconSettings.init(thisClass);thisClass.cellSettings.init(thisClass);}}if(thisClass.component.selectionType!="cell"&&mf_main.editorController.lastSetting){if(commonSettingArray.indexOf("textAlign")!=-1){thisClass.component.textAlign=cellObj.textAlign;}else{thisClass.component.textAlign=null;}if(commonSettingArray.indexOf("fontWeight")!=-1){thisClass.component.fontWeight=cellObj.fontWeight;}else{thisClass.component.fontWeight="normal";}if(commonSettingArray.indexOf("fontStyle")!=-1){thisClass.component.fontStyle=cellObj.fontStyle;}else{thisClass.component.fontStyle="normal";}if(commonSettingArray.indexOf("textDecoration")!=-1){thisClass.component.textDecoration=cellObj.textDecoration;}else{thisClass.component.textDecoration="none";}if(commonSettingArray.indexOf("fontSize")!=-1){thisClass.component.fontSize=cellObj.fontSize;}else{thisClass.component.fontSize=13;}if(commonSettingArray.indexOf("fontColor")!=-1){thisClass.component.fontColor=cellObj.fontColor;}else{thisClass.component.fontColor="#fff";}if(commonSettingArray.indexOf("fillColor")!=-1){thisClass.component.fillColor=cellObj.fillColor;}else{thisClass.component.fillColor="#fff";}if(commonSettingArray.indexOf("fillAlpha")!=-1){thisClass.component.fillAlpha=cellObj.fillAlpha;}else{thisClass.component.fillAlpha=1;}if(commonSettingArray.indexOf("textPadding")!=-1){thisClass.component.textPadding=cellObj.textPadding;}else{thisClass.component.textPadding=0;}if(commonSettingArray.indexOf("icon")!=-1){thisClass.component.icon=cellObj.icon;}else{thisClass.component.icon=null;}if(commonSettingArray.indexOf("iconSize")!=-1){thisClass.component.iconSize=cellObj.iconSize;}else{thisClass.component.iconSize=12;}if(commonSettingArray.indexOf("link")!=-1){thisClass.component.link=cellObj.link;thisClass.component.linkType=cellObj.linkType;}else{thisClass.component.link="";thisClass.component.linkType="";}thisClass.setupEvents();thisClass.fontSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.iconSettings.init(thisClass);thisClass.cellSettings.init(thisClass);}if(thisClass.component.selectionType&&mf_main.editorController.lastSetting){var selectionTypeText=thisClass.component.selectionType.charAt(0).toUpperCase()+thisClass.component.selectionType.slice(1);$("#"+thisClass.linkSettings.eid+"_settingToggle div:first").text(selectionTypeText+" Link");$("#"+thisClass.iconSettings.eid+"_iconSettingToggleText").text(selectionTypeText+" Icon");$("#"+thisClass.cellSettings.eid+"_cellsettingToggleText").text(selectionTypeText+" Settings");$("#"+thisClass.fontSettings.eid+"_settingToggle div:first").text(selectionTypeText+" Font Settings");$("#mfFontFamily_"+thisClass.fontSettings.eid).css("left","80px");$("#mfFontFamily_"+thisClass.fontSettings.eid).prev("div").text("Table Font:");$("#"+thisClass.borderSettings.eid+"_settingToggle div:first").text("Table Border");$("#"+thisClass.shadowSettings.eid+"_settingToggle div:first").text("Table Shadow");}};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1900px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Comp / Click Here to Edit
						</div>
						

					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_theme"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div   style="overflow: hidden; width:100%; " >
							
							<div id="mfFillWithAI_{{eid}}" style="width: 220px;font-weight: normal;margin: 15px auto;display: flex;justify-content: center;align-items: center;" class="btn mfSidebarBlueButton mfSidebarPurpleButton" type="submit">Fill table with AI</div>
							
						</div>
						
						
						
						<div id="{{eid}}_cellSettings"  style="overflow: hidden; width:100%; " >
						
						</div>
						
						<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					    <div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_iconSettings"  style="overflow: hidden; width:100%; " >			
										
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Settings</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
										
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 410px;" >
									  
									  <div class="checkbox" style="position: absolute; top: 10px; left: 30px;">
									    <input  type="checkbox" checked=true id="mfHorLines_{{eid}}" class="tgl tgl-ios" value="">
									    <label class='tgl-btn' for='mfHorLines_{{eid}}'></label><span>Show Horizontal Lines</span>
									  </div>
									  
									   <div class="checkbox" style="position: absolute; top: 65px; left: 30px;">
									    <input  type="checkbox" checked=true id="mfVerLines_{{eid}}" class="tgl tgl-ios" value="">
									    <label class='tgl-btn' for='mfVerLines_{{eid}}'></label><span>Show Vertical Lines</span>
									  </div>
									  
									  
									  <div style="position: absolute; left: 10px; top: 115px;">Header:</div>
									
									<div  style='position: absolute; left: 90px; top: 110px;'><input style='width: 100px;' type='text' id='mfHeaderFillColor_{{eid}}' /></div>
									
									
									<div style="position: absolute; height: 25px; font-size: 11px;  width: 100px; left: 93px; top: 145px;">
									<input id="mfHeaderFillOpacity_{{eid}}" style="width: 100px;" class="balSlider" value="0" />
									</div>							

			
									<div style="position: absolute; left: 10px; top: 190px;">Row 1:</div>
									<div  style='position: absolute; left: 90px; top: 185px;'><input style='width: 100px;' type='text' id='mfRowFillColor_{{eid}}' /></div>
			
									<div style="position: absolute; height: 25px; font-size: 11px;  width: 100px; left: 93px; top: 225px;">
									<input id="mfRowFillOpacity_{{eid}}" style="width: 100px;" class="balSlider" value="0" />
									</div>
			
									<div style="position: absolute; left: 10px; top: 270px;">Row 2:</div>
									<div  style='position: absolute; left: 90px; top: 265px;' ><input style='width: 100px;' type='text' id='mfRowFillColor2_{{eid}}' /></div>
			
										<div style="position: absolute; height: 25px; font-size: 11px;  width: 100px; left: 93px; top: 305px;">
									<input id="mfRowFillOpacity2_{{eid}}" style="width: 100px;" class="balSlider" value="0" />
									</div>
									
									<button style="position: absolute; left: 10px; top: 350px;" type="button"  id="mfClearAll_{{eid}}" class="btn">Clear all data</button>
									
								
								</div>
						</div>
						 
						 <div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						 </div>
						
						 <div id="{{eid}}_powerup"  style="overflow: hidden; width:100%; " >
							
						 </div>
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);if(mf_main.DESIGNMODE){$("#"+thisClass.eid+"_powerup").hide();}thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_AdvancedDataGridIconSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.settingsHolder=null;thisClass.link="";thisClass.NAME="AdvancedDataGridIconSettings";thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.remove=function(delSet){if(delSet){$("#"+thisClass.eid).remove();try{if($("#mfIconSize_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfIconSize_"+thisClass.eid).data("kendoNumericTextBox").destroy();}}catch(e){console.log("error occured in the component MF_AdvancedGridSettings.js");}}};thisClass.init=function(settingsHolder){thisClass.settingsHolder=settingsHolder;if(thisClass.RENDERDOM){thisClass.render();}else{thisClass.setupEvents();$("#"+thisClass.eid).show();}MF_ComponentSettingUtils.rememberToggle(thisClass);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$(".mfSelectIconCls_"+thisClass.eid).on("click",function(event){mf_main.editorController.showPopUp(event,$("#mfMultiIconSelectionPopUp"));MF_ComponentSettingUtils.openSingleIconModal(thisClass.eid,thisClass);});$("#mfDelIcon_"+thisClass.eid).on("click",function(event){thisClass.settingsHolder.component.updateSettings("icon","");thisClass.settingsHolder.component.render(false);thisClass.setIcon();});$("#mfIconSize_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfIconSize_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfIconSize_"+thisClass.eid).focus(function(){$("#mfIconSize_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onIconSizeChange);$("#mfIconSize_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onIconSizeChange);});$("#mfIconSize_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,change:onIconSizeChange,spin:onIconSizeChange,decimals:0});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}thisClass.setIcon(thisClass.settingsHolder.component.icon);function onIconSizeChange(){$("#mfIconSize_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onIconSizeChange);if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var iconSize=this.value();thisClass.settingsHolder.component.updateSettings("iconSize",iconSize);thisClass.settingsHolder.component.render(false);}var iconSizeBox=$("#mfIconSize_"+thisClass.eid).data("kendoNumericTextBox");iconSizeBox.value(thisClass.settingsHolder.component.iconSize);};thisClass.setIcon=function(icon){if(icon!=""&&icon!=null){$("#mfIcon_"+thisClass.eid).removeClass().addClass(icon);$("#mfDispIcon_"+thisClass.eid).show();$("#mfSelectIcon_"+thisClass.eid).hide();}else{$("#mfDispIcon_"+thisClass.eid).hide();$("#mfSelectIcon_"+thisClass.eid).show();}};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
			
			<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
				<div id="{{eid}}_iconSettingToggleText" style="float: left; width: 185px; padding-left: 5px;">Icon</div>
									
					<div style="float: left; width: 50px; text-align: right;">
					<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
					<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
				</div>
					
			</div>
						
			<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 125px;" >	 	

				
				<div  style="position: absolute; left: 10px; top: 20px; font-weight: normal;" >Icon:</div>
				
				<div style="position: absolute; left: 50px; top: 20px;">
				
							<div id="mfSelectIcon_{{eid}}" class="mfSelectIconCls_{{eid}}" style="display:block; cursor: pointer; color: #2196F3;" >
								Select Icon
							</div>
							
							<div id="mfDispIcon_{{eid}}" style=' width: 190px;  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;'>
								<div class="mfSelectIconCls_{{eid}}"  style="cursor: pointer; width: 170px; float: left; color: #2196F3; font-size: 20px; font-weight: bold;">
									<i id="mfIcon_{{eid}}" class='' ></i>
								</div>
								<div id="mfDelIcon_{{eid}}"style="cursor: pointer; width: 20px; color: #000; font-weight: bold; float: right;">
							 		<i class="ico-trash2" ></i>
								</div>
							</div>
				</div>
				
				<div style="position: absolute; left: 10px; top: 60px;">Icon Size: &nbsp; &nbsp; <br/><input style="width: 60px;"  id="mfIconSize_{{eid}}" type="number" value="12" min="6" max="500" step="1" /> px</div>
			
			</div>
			
			*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#"+thisClass.settingsHolder.eid+"_iconSettings").empty();$("#"+thisClass.settingsHolder.eid+"_iconSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_AdvancedDataGridCellSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.settingsHolder=null;thisClass.link="";thisClass.NAME="AdvancedDataGridCellSettings";thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.remove=function(delSet){if(delSet){$("#"+thisClass.eid).remove();try{if($("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfCellFillOpacity_"+thisClass.eid).data("kendoSlider")){$("#mfCellFillOpacity_"+thisClass.eid).data("kendoSlider").destroy();}}catch(e){console.log("error occured in the component MF_AdvancedGridSettings.js");}}};thisClass.init=function(settingsHolder){thisClass.settingsHolder=settingsHolder;if(thisClass.RENDERDOM){thisClass.render();}else{thisClass.setupEvents();$("#"+thisClass.eid).show();}MF_ComponentSettingUtils.rememberToggle(thisClass);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfCellFillColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){color=MF_Utils.RGBToHex(color.toRgbString());thisClass.settingsHolder.component.updateSettings("fillColor",color);thisClass.settingsHolder.component.render(false);thisClass.settingsHolder.setupEvents();}});$("#mfCellFillOpacity_"+thisClass.eid).kendoSlider({showButtons:false,change:cellAlphaSliderOnSlide,tickPlacement:"none",min:0,max:1,smallStep:0.1,largeStep:0.1,tooltip:{enabled:false},value:1}).data("kendoSlider");$("#mfPadding_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfPadding_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfPadding_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,change:onWidthChange,spin:onWidthChange,decimals:0});$("#mfSortUp_"+thisClass.eid).on("click",function(){mf_main.editorController.gridEditor.sortRowUp();});$("#mfSortDown_"+thisClass.eid).on("click",function(){mf_main.editorController.gridEditor.sortRowDown();});$("#mfSortLeft_"+thisClass.eid).on("click",function(){mf_main.editorController.gridEditor.sortColumnLeft();});$("#mfSortRight_"+thisClass.eid).on("click",function(){mf_main.editorController.gridEditor.sortColumnRight();});$("#mfDelete_"+thisClass.eid).on("click",function(){if(thisClass.settingsHolder.component.selectionType=="row"){mf_main.editorController.gridEditor.deleteRow();}else{if(thisClass.settingsHolder.component.selectionType=="column"){mf_main.editorController.gridEditor.deleteColumn();}}});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}$("#mfCellFillColor_"+thisClass.eid).spectrum("set",thisClass.settingsHolder.component.fillColor);$("#mfCellFillOpacity_"+thisClass.eid).data("kendoSlider").value(thisClass.settingsHolder.component.fillAlpha);$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").value(thisClass.settingsHolder.component.textPadding);function cellAlphaSliderOnSlide(e){thisClass.settingsHolder.component.updateSettings("fillAlpha",e.value);thisClass.settingsHolder.component.render(false);thisClass.settingsHolder.setupEvents();}function onWidthChange(){if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var width=this.value();thisClass.settingsHolder.component.updateSettings("textPadding",width);thisClass.settingsHolder.component.render(false);}$("#"+thisClass.eid+"_sortSetting").hide();$("#mfSortUp_"+thisClass.eid).hide();$("#mfSortDown_"+thisClass.eid).hide();$("#mfSortLeft_"+thisClass.eid).hide();$("#mfSortRight_"+thisClass.eid).hide();$("#"+thisClass.eid+"_partSetting").css("height","140px");if(thisClass.settingsHolder.component.selectionType=="row"&&thisClass.settingsHolder.component.layoutJSON.gridLayout.length>1){$("#"+thisClass.eid+"_sortSetting").show();$("#"+thisClass.eid+"_partSetting").css("height","190px");$("#mfSortUp_"+thisClass.eid).show();$("#mfSortDown_"+thisClass.eid).show();}else{if(thisClass.settingsHolder.component.selectionType=="column"&&thisClass.settingsHolder.component.layoutJSON.gridLayout[0].length>1){$("#"+thisClass.eid+"_sortSetting").show();$("#"+thisClass.eid+"_partSetting").css("height","190px");$("#mfSortLeft_"+thisClass.eid).show();$("#mfSortRight_"+thisClass.eid).show();}}};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
			
			<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
					<div id="{{eid}}_cellsettingToggleText" style="float: left; width: 185px; padding-left: 5px;">Settings</div>
								
					<div style="float: left; width: 50px; text-align: right;">
						<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
						<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
					</div>
					
			</div>
						
			<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 240px;" >	 	

				<div style="position: absolute; left: 10px; top: 20px;">Background:</div>
				<div  style='position: absolute; left: 90px; top: 15px;'><input style='width: 100px;' type='text' id='mfCellFillColor_{{eid}}' /></div>
				
				<div style="position: absolute; height: 25px; font-size: 11px;  width: 100px; left: 93px; top:50px;">
					<input id="mfCellFillOpacity_{{eid}}" style="width: 100px;" class="balSlider" value="0" />
				</div>	
			
				<div style="position: absolute; left: 10px; top: 100px;">Padding:</div>
				<div style="position: absolute; left: 90px; top: 95px;"><input style="width: 70px;" id="mfPadding_{{eid}}" type="number" value="0" min="0" max="10000000" step="1" /></div>
				
				<div id="{{eid}}_sortSetting">		
					<div style="position: absolute; left: 10px; top: 150px;">Sort:</div>
					<div id="mfSortUp_{{eid}}" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Move Up" style="position: absolute; left: 90px; top: 150px;"><i class="fa fa-chevron-up" style="padding: 5px;cursor: pointer;font-size: 13px;"></i></div>
					<div id="mfSortDown_{{eid}}" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Move Down" style="position: absolute; left: 120px; top: 150px;"><i class="fa fa-chevron-down" style="padding: 5px;cursor: pointer;font-size: 13px;"></i></div>
					<div id="mfSortLeft_{{eid}}" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Move Left" style="position: absolute; left: 90px; top: 150px;"><i class="fa fa-chevron-left" style="padding: 5px;cursor: pointer;font-size: 13px;"></i></div>
					<div id="mfSortRight_{{eid}}" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Move Right" style="position: absolute; left: 120px; top: 150px;"><i class="fa fa-chevron-right" style="padding: 5px;cursor: pointer;font-size: 13px;"></i></div>
					<div id="mfDelete_{{eid}}" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Delete Selected" style="position: absolute; left: 150px; top: 149px;"><i class="fa fa-trash" style="padding: 5px;cursor: pointer;font-size: 14px;"></i></div>
				</div>	
			
			</div>
			
			*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#"+thisClass.settingsHolder.eid+"_cellSettings").empty();$("#"+thisClass.settingsHolder.eid+"_cellSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_AdvancedGridFontSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.settingsHolder=null;thisClass.NAME="AdvancedGridFontSettings";thisClass.global=false;thisClass.RENDERDOM=true;thisClass.fontObj=null;thisClass.showSetting=true;thisClass.remove=function(delSet){if(delSet){try{if($("#mfFontSize_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfFontSize_"+thisClass.eid).data("kendoNumericTextBox").destroy();}}catch(e){console.log("error occured in the component MF_AdvancedDataGrid.js");}$("#"+thisClass.eid).remove();}};thisClass.init=function(settingsHolder){thisClass.settingsHolder=settingsHolder;if(thisClass.RENDERDOM){thisClass.render();}else{thisClass.setupEvents();$("#"+thisClass.eid).show();}MF_ComponentSettingUtils.rememberToggle(thisClass);};thisClass.setAlignToggle=function(val){$(".mfAlignFontCls_"+thisClass.eid).css("background","#fff");if(val){if(val=="right"){$("#mfAlignRight_"+thisClass.eid).css("background","#EEEEEE");}else{if(val=="center"){$("#mfAlignCenter_"+thisClass.eid).css("background","#EEEEEE");}else{if(val=="justify"){$("#mfAlignJustify_"+thisClass.eid).css("background","#EEEEEE");}else{$("#mfAlignLeft_"+thisClass.eid).css("background","#EEEEEE");}}}}};thisClass.setBoldToggle=function(val){if(val){if(val=="bold"){$("#mfBoldText_"+thisClass.eid).css("background","#EEEEEE");}else{$("#mfBoldText_"+thisClass.eid).css("background","#fff");}}};thisClass.setItalicToggle=function(val){if(val){if(val=="italic"){$("#mfItalicText_"+thisClass.eid).css("background","#EEEEEE");}else{$("#mfItalicText_"+thisClass.eid).css("background","#fff");}}};thisClass.setUnderlineToggle=function(val){if(val){if(val=="underline"){$("#mfUnderlineText_"+thisClass.eid).css("background","#EEEEEE");}else{$("#mfUnderlineText_"+thisClass.eid).css("background","#fff");}}};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfAlignLeft_"+thisClass.eid).on("click",function(event){thisClass.settingsHolder.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.settingsHolder.component.layoutJSON));thisClass.settingsHolder.component.updateSettings("textAlign","left","default");thisClass.settingsHolder.component.render(false);thisClass.setAlignToggle("left");});$("#mfAlignCenter_"+thisClass.eid).on("click",function(event){thisClass.settingsHolder.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.settingsHolder.component.layoutJSON));thisClass.settingsHolder.component.updateSettings("textAlign","center","default");thisClass.settingsHolder.component.render(false);thisClass.setAlignToggle("center");});$("#mfAlignRight_"+thisClass.eid).on("click",function(event){thisClass.settingsHolder.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.settingsHolder.component.layoutJSON));thisClass.settingsHolder.component.updateSettings("textAlign","right","default");thisClass.settingsHolder.component.render(false);thisClass.setAlignToggle("right");});$("#mfAlignJustify_"+thisClass.eid).on("click",function(event){thisClass.settingsHolder.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.settingsHolder.component.layoutJSON));thisClass.settingsHolder.component.updateSettings("textAlign","justify","default");thisClass.settingsHolder.component.render(false);thisClass.setAlignToggle("justify");});$("#mfBoldText_"+thisClass.eid).on("click",function(event){thisClass.settingsHolder.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.settingsHolder.component.layoutJSON));if(thisClass.settingsHolder.component.fontWeight=="normal"){thisClass.settingsHolder.component.fontWeight="bold";thisClass.settingsHolder.component.updateSettings("fontWeight","bold","default");thisClass.setBoldToggle("bold");}else{thisClass.settingsHolder.component.fontWeight="normal";thisClass.settingsHolder.component.updateSettings("fontWeight","normal","default");thisClass.setBoldToggle("normal");}thisClass.settingsHolder.component.render(false);});$("#mfItalicText_"+thisClass.eid).on("click",function(event){thisClass.settingsHolder.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.settingsHolder.component.layoutJSON));if(thisClass.settingsHolder.component.fontStyle=="normal"){thisClass.settingsHolder.component.fontStyle="italic";thisClass.settingsHolder.component.updateSettings("fontStyle","italic","default");thisClass.setItalicToggle("italic");}else{thisClass.settingsHolder.component.fontStyle="normal";thisClass.settingsHolder.component.updateSettings("fontStyle","normal","default");thisClass.setItalicToggle("normal");}thisClass.settingsHolder.component.render(false);});$("#mfUnderlineText_"+thisClass.eid).on("click",function(event){thisClass.settingsHolder.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.settingsHolder.component.layoutJSON));if(thisClass.settingsHolder.component.textDecoration=="none"){thisClass.settingsHolder.component.textDecoration="underline";thisClass.settingsHolder.component.updateSettings("textDecoration","underline","default");thisClass.setUnderlineToggle("underline");}else{thisClass.settingsHolder.component.textDecoration="normal";thisClass.settingsHolder.component.updateSettings("textDecoration","normal","default");thisClass.setUnderlineToggle("none");}thisClass.settingsHolder.component.render(false);});$("#mfFontFamily_"+thisClass.eid).on("click",function(event){mf_main.editorController.disableShortcuts();$("#mfFontSelectScreen").show();$("#mfFontLoadScreen").hide();if(thisClass.global==false){mf_main.editorController.selectedFontComp=thisClass.settingsHolder.component;}else{mf_main.editorController.selectedFontComp="global";}$("#mffontusedbtn").click();$("#mfFontModal").modal();$("#mfFontSearchBox").val("");$("#mfFontCurrent").text(fontFamily);mf_main.componentList.searchFontsHandler(null);mf_main.editorController.showPopUp(event,$("#mfFontSelectionPopUp"));});$("#mfFontSize_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfFontSize_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfFontSize_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:onFontSizeChange,decimals:0});$("#mfFontSize_"+thisClass.eid).focus(function(){$("#mfFontSize_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onFontSizeChange);$("#mfFontSize_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onFontSizeChange);});$("#mfTextColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){color=MF_Utils.RGBToHex(color.toRgbString());thisClass.settingsHolder.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.settingsHolder.component.layoutJSON));thisClass.settingsHolder.component.updateSettings("fontColor",color,"default");thisClass.settingsHolder.component.render(false);}});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}var fontFamily="SourceSans Pro";thisClass.fontObj=mf_main.editorController.fontController.getFontByID(thisClass.settingsHolder.component.fontType);if(thisClass.fontObj){fontFamily=thisClass.fontObj.name;}else{if(thisClass.settingsHolder.component.isGoogleFontUsed){fontFamily=thisClass.settingsHolder.component.fontType;}}thisClass.setAlignToggle(thisClass.settingsHolder.component.textAlign);thisClass.setBoldToggle(thisClass.settingsHolder.component.fontWeight);thisClass.setItalicToggle(thisClass.settingsHolder.component.fontStyle);thisClass.setUnderlineToggle(thisClass.settingsHolder.component.textDecoration);$("#mfFontFamily_"+thisClass.eid).text(fontFamily);function onFontSizeChange(){$("#mfFontSize_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onFontSizeChange);if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var fontSize=this.value();thisClass.settingsHolder.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.settingsHolder.component.layoutJSON));thisClass.settingsHolder.component.updateSettings("fontSize",fontSize,"default");thisClass.settingsHolder.component.render(false);}var fontSizeBox=$("#mfFontSize_"+thisClass.eid).data("kendoNumericTextBox");fontSizeBox.value(thisClass.settingsHolder.component.fontSize);$("#mfTextColor_"+thisClass.eid).spectrum("set",thisClass.settingsHolder.component.fontColor);};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
			
			<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
					<div style="float: left; width: 185px; padding-left: 5px;">Font</div>
					
					<div style="float: left; width: 50px; text-align: right;">
						<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
						<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
					</div>
			</div>
						
			<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 260px;" >	 	

					
					
				<div  style="position: absolute; left: 15px; top: 20px; font-weight: normal;" >
				Font: </div>
				
				<div class="mfFontFamilyCls mfSingleLine"  id="mfFontFamily_{{eid}}"  style="width: 180px; cursor: pointer; color: #2196F3; position: absolute; left: 50px; top: 20px; font-weight: normal;" >Select font
				</div>
				
				<div  style="position: absolute; left: 10px; top: 60px;" class="btn-toolbar">
			 		<div class="btn-group">
						<button id="mfBoldText_{{eid}}" class="btn" ><i class="fa fa-bold"></i></button>
						<button id="mfItalicText_{{eid}}" class="btn" ><i class="fa fa-italic"></i></button>
						<button id="mfUnderlineText_{{eid}}" class="btn"  ><i class="fa fa-underline"></i></button>
			 		</div>
			 	</div>
				
				<div class="btn-group" style="position: absolute; left: 10px; top: 120px;" >
				  <button type="button"  id="mfAlignLeft_{{eid}}" class="btn mfAlignFontCls_{{eid}}"><i class="fa fa-align-left"></i></button>
				  <button type="button" id="mfAlignCenter_{{eid}}" class="btn mfAlignFontCls_{{eid}}"><i class="fa fa-align-center"></i></button>
				  <button type="button" id="mfAlignRight_{{eid}}" class="btn mfAlignFontCls_{{eid}}"><i class="fa fa-align-right"></i></button>
				   <button type="button" id="mfAlignJustify_{{eid}}" class="btn mfAlignFontCls_{{eid}}"><i class="fa fa-align-justify"></i></button>
				</div>
				
				
				<div style="position: absolute; left: 10px; top: 180px;">Font Size: &nbsp; &nbsp; <br/><input style="width: 60px;"  id="mfFontSize_{{eid}}" type="number" value="12" min="6" max="500" step="1" /> px</div>

				<div style="position: absolute; left: 120px; top: 180px;">Font Color: &nbsp; &nbsp; <br/><input style='' type='text' id='mfTextColor_{{eid}}' /> </div>
			
				
			
			
			
			</div>
			
			*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#"+thisClass.settingsHolder.eid+"_font").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_AdvancedGridEditor(){var thisClass=this;this.id="mfAdvancedGridEditor";this.component=null;this.mouseStartX=0;this.mouseStartY=0;this.resizeMousedown=false;this.resizeRowMousedown=false;this.resizeColMousedown=false;this.render=function(redraw){$(".mfgridEditorCls").tooltip("hide");$("#"+thisClass.id).remove();if(thisClass.component.gridEditMode){visible=true;}else{visible=false;}var gridLayout=thisClass.component.layoutJSON.gridLayout;var toDisplay=visible==true?"block":"none";var thickness=parseInt(thisClass.component.borderWidth);if(thisClass.component.borderType=="none"){thickness=0;}var gridCode="<div id="+thisClass.id+" style='display:"+toDisplay+"'>";var verticalCode="<div id='mfGridEditor_Vertical'  class='mfgridEditorCls' style=\"height:"+(thisClass.component.height+3)+"px;border: 1px solid #efe6e6;background-color: #eee;border-radius: 4px;cursor:pointer;position:absolute;top:"+thickness+'px; left:-25px;"> ';var horizontalCode="<div id='mfGridEditor_Horizontal' class='mfgridEditorCls' style=\"width:"+(thisClass.component.width+3)+"px;border: 1px solid #efe6e6;background-color: #eee;border-radius: 4px;cursor:pointer;position:absolute; top:-25px; left:"+thickness+'px;"> ';var selectAllCode="<input id='mfGridEditor_SelectAll' class='mfgridEditorCls' type='checkbox' style='height: 20px;width: 15px;cursor:pointer;position:absolute; top:-28px; left:-25px;background: white;border: none'>";var deleteColumnCode="<div id='mfGridDeleteColumnDiv' style=\"width:"+(thisClass.component.width+3)+"px;position:absolute;bottom:-25px; left:"+thickness+'px;">';var deleteRowCode="<div id='mfGridDeleteRowDiv' style=\"height:"+(thisClass.component.height+3)+"px;position:absolute;top:0px; right:-25px; top:"+thickness+'px;">';for(i=0;i<gridLayout.length;i++){var rowHeight=gridLayout[i][0].height-(thickness/gridLayout.length);verticalCode=verticalCode+"<div class='mfGridVertical mfgridEditorCls' data-row="+i+" style='height:"+(rowHeight).toString()+"px'><div style='position: absolute;bottom: -8px;left: -20px;'><i data-row="+i+" class='fa-plus-circle mfIcon mfGridAddRow mfgridEditorCls' style='font-size: 15px;color:#aba8a8;opacity: 0.7;' data-toggle='tooltip' data-container='body' data-original-title='Add Row' data-placement='left'></i></div><div class='mfGridResizeRow' data-row="+i+" style='position: absolute;cursor: row-resize;width: 100%;height:10px;top: -5px;'></div></div>";deleteRowCode=deleteRowCode+"<div class='mfgridOperationsDeleteRow' data-row="+i+" style='display: flex;align-items: center;height:"+(rowHeight).toString()+"px;width:15px;'><i data-row="+i+" class='fa-trash mfIcon mfGridDeleteRow mfgridEditorCls' style='display:none;font-size: 15px;color:#aba8a8;opacity: 0.7;cursor:pointer' data-toggle='tooltip' data-container='body' data-original-title='Delete Row' data-placement='right'></i></div>";for(j=0;j<gridLayout[i].length;j++){if(i==0){var colWidth=gridLayout[i][j].width-(thickness/gridLayout[0].length);horizontalCode=horizontalCode+"<div class='mfGridHorizontal mfgridEditorCls' data-column="+j+" style='width:"+(colWidth).toString()+"px'><div style='position: absolute;bottom:18px;right: -7px;'><i data-column="+j+" class='fa-plus-circle mfIcon mfGridAddColumn mfgridEditorCls' style='font-size: 15px;color:#aba8a8;opacity: 0.7' data-toggle='tooltip' data-container='body' data-original-title='Add Column' data-placement='top'></i></div><div class='mfGridResizeColumn' data-column="+j+" style='position: absolute;cursor: col-resize;width:10px;height: 100%;;left: -5px'></div></div>";deleteColumnCode=deleteColumnCode+"<div class='mfgridOperationsDeleteColumn' data-col="+j+" style='text-align: center;float: left;position: relative;width:"+(colWidth).toString()+"px;height: 15px;'><i data-col="+j+" class='fa-trash mfIcon mfGridDeleteColumn mfgridEditorCls' style='display:none;font-size: 15px;color:#aba8a8;opacity: 0.7;cursor:pointer' data-toggle='tooltip' data-container='body' data-original-title='Delete Column' data-placement='bottom'></i></div>";}}}verticalCode=verticalCode+"</div>";horizontalCode=horizontalCode+"</div>";deleteRowCode=deleteRowCode+"</div>";deleteColumnCode=deleteColumnCode+"</div>";gridCode=gridCode+verticalCode+horizontalCode+selectAllCode+deleteRowCode+deleteColumnCode;gridCode+="</div>";$("#"+thisClass.component.eid).append(gridCode);$("#"+thisClass.component.eid).css("pointer-events","all");thisClass.initGridEditorListeners();thisClass.initCellClickListeners();};this.updateGridEditorStyle=function(){var thickness=parseInt(thisClass.component.borderWidth);if(thisClass.component.borderType=="none"){thickness=0;}$("#mfGridEditor_Vertical,#mfGridDeleteRowDiv").css({height:thisClass.component.height+3+"px",top:thickness+"px"});$("#mfGridEditor_Horizontal,#mfGridDeleteColumnDiv").css({width:thisClass.component.width+3+"px",left:thickness+"px"});var gridLayout=thisClass.component.layoutJSON.gridLayout;for(i=0;i<gridLayout.length;i++){if(i==0){for(j=0;j<gridLayout[i].length;j++){var colWidth=gridLayout[i][j].width-(thickness/gridLayout[0].length);$(".mfGridHorizontal[data-column="+j+"]").css("width",colWidth+"px");$(".mfgridOperationsDeleteColumn[data-col="+j+"]").css("width",colWidth+"px");}}var rowHeight=gridLayout[i][0].height-(thickness/gridLayout.length);$(".mfGridVertical[data-row="+i+"]").css("height",rowHeight+"px");$(".mfgridOperationsDeleteRow[data-row="+i+"]").css("height",rowHeight+"px");}};this.initGridEditorListeners=function(){$(".mfgridEditorCls").mousedown(function(event){event.stopImmediatePropagation();});$("#mfGridEditor_Vertical").on("click",function(event){event.stopImmediatePropagation();mf_main.editorController.stopEditingText();$("#mfGridEditor_SelectAll").prop("checked",false);thisClass.component.selectedRow=parseInt($(event.target).attr("data-row"));thisClass.selectRow();});$("#mfGridEditor_Horizontal").on("click",function(event){event.stopImmediatePropagation();mf_main.editorController.stopEditingText();$("#mfGridEditor_SelectAll").prop("checked",false);thisClass.component.selectedColumn=parseInt($(event.target).attr("data-column"));thisClass.selectColumn();});$("#mfGridEditor_Vertical .mfGridAddRow").on("click",function(event){event.stopImmediatePropagation();mf_main.editorController.stopEditingText();thisClass.component.selectedRow=parseInt($(event.target).attr("data-row"));thisClass.addRow();});$("#mfGridEditor_Horizontal .mfGridAddColumn").on("click",function(event){event.stopImmediatePropagation();mf_main.editorController.stopEditingText();thisClass.component.selectedColumn=parseInt($(event.target).attr("data-column"));thisClass.addColumn();});$("#mfGridEditor_Horizontal .mfGridResizeColumn").on("dragstart",function(e){event.stopImmediatePropagation();mf_main.editorController.stopEditingText();thisClass.mouseStartX=e.clientX/mf_main.editorController.SCALE;thisClass.resizeColMousedown=true;thisClass.selectedVal=$(this).attr("data-column");});$("#mfGridEditor_Horizontal .mfGridResizeColumn").on("drag",function(e){if(thisClass.resizeColMousedown){var mousePosX=e.clientX/mf_main.editorController.SCALE;thisClass.resizeColumnOnMove(mousePosX);}});$("#mfGridEditor_Vertical .mfGridResizeRow").on("dragstart",function(e){event.stopImmediatePropagation();mf_main.editorController.stopEditingText();thisClass.mouseStartY=e.clientY/mf_main.editorController.SCALE;thisClass.resizeRowMousedown=true;thisClass.selectedVal=$(this).attr("data-row");});$("#mfGridEditor_Vertical .mfGridResizeRow").on("drag",function(e){if(thisClass.resizeRowMousedown){var mousePosY=e.clientY/mf_main.editorController.SCALE;thisClass.resizeRowOnMove(mousePosY);}});$("#mfGridEditor_Horizontal .mfGridResizeColumn").on("dragend",function(e){e.stopImmediatePropagation();if(thisClass.resizeColMousedown){thisClass.resizeColumn();thisClass.resizeColMousedown=false;}});$("#mfGridEditor_Vertical .mfGridResizeRow").on("dragend",function(e){e.stopImmediatePropagation();if(thisClass.resizeRowMousedown){thisClass.resizeRow();thisClass.resizeRowMousedown=false;}});$("#mfGridEditor_SelectAll").on("click",function(event){event.stopImmediatePropagation();mf_main.editorController.stopEditingText();thisClass.selectAll();});$(".mfGridDeleteRow").on("click",function(event){event.stopImmediatePropagation();mf_main.editorController.stopEditingText();thisClass.deleteRow();});$(".mfGridDeleteColumn").on("click",function(event){event.stopImmediatePropagation();mf_main.editorController.stopEditingText();thisClass.deleteColumn();});};this.initCellClickListeners=function(){$("#"+thisClass.component.eid+"_txt .mfDataGridCell").mousedown(function(event){if(mf_main.editorController.EDITOR){event.stopImmediatePropagation();if(mf_main.editorController.lastTextEditComp&&mf_main.editorController.lastTextEditComp.selectedCellId){mf_main.editorController.stopEditingText();}thisClass.component.selectionType="cell";thisClass.component.selectedCellId=$(this).attr("id");if(thisClass.component.selector){thisClass.component.selector.setVisible(false);}$("#mfGridEditor_SelectAll").prop("checked",false);if($("#"+thisClass.component.selectedCellId).hasClass("selected")){$("#"+thisClass.component.eid+" .mfDataGridCell").removeClass("selected");$("#"+thisClass.component.selectedCellId).addClass("selected");mf_main.editorController.lastTextEditComp=thisClass.component;mf_main.editorController.startEditingText();}else{thisClass.clearGridSelection();thisClass.component.selectionType="cell";$("#"+thisClass.component.eid+"_txt").addClass("mfSelectedCell");$("#"+thisClass.component.selectedCellId).addClass("selected");mf_main.editorController.disableShortcuts();if(!mf_main.editorController.lastSetting){mf_main.editorController.openSetting(thisClass);}if(mf_main.editorController.lastSetting&&mf_main.editorController.lastSetting.component.NAME=="MF_AdvancedDataGrid"){mf_main.editorController.lastSetting.updateSettingsPanelUI();}}}});$("#"+thisClass.component.eid+"_txt .mfDataGridCell").on("dblclick",function(event){if(mf_main.editorController.EDITOR){event.preventDefault();event.stopImmediatePropagation();mf_main.editorController.stopEditingText();thisClass.component.selectionType="cell";thisClass.component.selectedCellId=$(this).attr("id");mf_main.editorController.lastTextEditComp=thisClass.component;mf_main.editorController.startEditingText();}});$("#"+thisClass.component.eid+"_txt .mfDataGridCell").mouseup(function(event){event.stopImmediatePropagation();mf_main.editorController.disableShortcuts();if(thisClass.resizeRowMousedown){thisClass.resizeRow();thisClass.resizeRowMousedown=false;}if(thisClass.resizeColMousedown){thisClass.resizeColumn();thisClass.resizeColMousedown=false;}});$("#"+thisClass.component.eid+"_txt .mfDataGridCell").on("click",function(event){event.stopImmediatePropagation();mf_main.editorController.disableShortcuts();});};this.updateSelection=function(){if(thisClass.component.selectionType=="cell"&&thisClass.component.selectedCellId){$("#"+thisClass.component.selectedCellId).addClass("selected");}if(thisClass.component.selectionType=="row"&&thisClass.component.selectedRow!=null){var rowVal=parseInt(thisClass.component.selectedRow);$("#mfGridEditor_Vertical .mfGridVertical")[rowVal].click();}if(thisClass.component.selectionType=="column"&&thisClass.component.selectedColumn!=null){var colVal=parseInt(thisClass.component.selectedColumn);$("#mfGridEditor_Horizontal .mfGridHorizontal")[colVal].click();}if(thisClass.component.selectionType=="table"){$("#"+thisClass.component.eid+"_txt .mfDataGridCell").removeClass("selected");}thisClass.updateGridEditorStyle();};this.saveESizeDataUndo=function(){var undoarr=new Array();var undo=new MF_UndoDAO();var esize=$.extend(true,{},thisClass.component.esize);undo.propObjectUndo(thisClass.component,"esize",esize);undoarr.push(undo);var undo=new MF_UndoDAO();undo.propSingleUndo(thisClass.component,"gridLayout",JSON.stringify(thisClass.component.layoutJSON));undoarr.push(undo);var undoObj=new MF_UndoDAO();var meta=new MF_MetaUndo(undoarr);undoObj.metaUndo(meta);MF_ChangeManager.addUndo(undoObj);MF_ChangeManager.CHANGED(true);};this.updateESizeData=function(){thisClass.component.e2xml.addPropObject("esize",thisClass.component.esize,"default");thisClass.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.component.layoutJSON),"default");thisClass.component.selectionType="table";thisClass.component.render(false);mf_main.editorController.addSelectorResize(thisClass.component.selector);if(mf_main.editorController.lastSetting){mf_main.editorController.lastSetting.updateTransform();mf_main.editorController.lastSetting.setupEvents();mf_main.editorController.lastSetting.updateSettingsPanelUI();}thisClass.render();if(mf_main.editorController.currentGroupEdit!=null){mf_main.editorController.page.groupManager.resetParentSelectorGroups(mf_main.editorController.currentGroupEdit);}};this.selectAll=function(){thisClass.clearGridSelection();thisClass.component.selectionType="table";$("#"+thisClass.component.eid+"_txt").addClass("mfSelectedTable");$("#"+thisClass.component.eid+" .mfDataGridCell").removeClass("selected");if($("#mfGridEditor_SelectAll").prop("checked")){$("#mfGridEditor_Vertical .mfGridVertical").addClass("selected");$("#mfGridEditor_Horizontal .mfGridHorizontal").addClass("selected");}else{$("#mfGridEditor_Vertical .mfGridVertical").removeClass("selected");$("#mfGridEditor_Horizontal .mfGridHorizontal").removeClass("selected");}mf_main.editorController.enableShortcuts();if(!mf_main.editorController.lastSetting){mf_main.editorController.openSetting(thisClass);}if(mf_main.editorController.lastSetting&&mf_main.editorController.lastSetting.component.NAME=="MF_AdvancedDataGrid"){mf_main.editorController.lastSetting.updateSettingsPanelUI();}};this.selectRow=function(){var rowVal=thisClass.component.selectedRow;if(rowVal==null||isNaN(rowVal)){return;}thisClass.clearGridSelection();thisClass.component.selectionType="row";var arr=thisClass.component.layoutJSON.gridLayout;$($("#mfGridEditor_Vertical .mfGridVertical")[rowVal]).addClass("selected");if(thisClass.component.layoutJSON.gridLayout.length>1){$(".mfGridDeleteRow[data-row="+rowVal+"]").show();}$("#"+thisClass.component.eid+"_txt").addClass("mfSelectedRow");for(i=0;i<arr[rowVal].length;i++){$("#"+arr[rowVal][i].id).addClass("rowSelected");}if(!mf_main.editorController.lastSetting){mf_main.editorController.openSetting(thisClass);}if(mf_main.editorController.lastSetting&&mf_main.editorController.lastSetting.component.NAME=="MF_AdvancedDataGrid"){mf_main.editorController.lastSetting.updateSettingsPanelUI();}mf_main.editorController.disableShortcuts();};this.selectColumn=function(){var colVal=thisClass.component.selectedColumn;if(colVal==null||isNaN(colVal)){return;}thisClass.clearGridSelection();thisClass.component.selectionType="column";$("#"+thisClass.component.eid+"_txt").addClass("mfSelectedColumn");$($("#mfGridEditor_Horizontal .mfGridHorizontal")[colVal]).addClass("selected");if(thisClass.component.layoutJSON.gridLayout[0].length>1){$(".mfGridDeleteColumn[data-col="+colVal+"]").show();}var arr=thisClass.component.layoutJSON.gridLayout;thisClass.component.selectedColumnData=new Array();for(i=0;i<arr.length;i++){for(j=0;j<arr[i].length;j++){if(j==colVal){$("#"+arr[i][j].id).addClass("columnSelected");thisClass.component.selectedColumnData.push(arr[i][j]);}}}if(!mf_main.editorController.lastSetting){mf_main.editorController.openSetting(thisClass);}if(mf_main.editorController.lastSetting&&mf_main.editorController.lastSetting.component.NAME=="MF_AdvancedDataGrid"){mf_main.editorController.lastSetting.updateSettingsPanelUI();}mf_main.editorController.disableShortcuts();};this.addRow=function(){mf_main.editorController.disableShortcuts();thisClass.clearGridSelection();var rowVal=thisClass.component.selectedRow;thisClass.saveESizeDataUndo();var rowData=thisClass.component.layoutJSON.gridLayout[rowVal];var rowHeight=rowData[0].height;var rowDataArr=$.extend(true,[],(rowData));for(i=0;i<rowDataArr.length;i++){rowDataArr[i].id=mf_main.editorController.guidGenerator();}thisClass.component.layoutJSON.gridLayout.splice(rowVal,0,rowDataArr);thisClass.component.esize.height=thisClass.component.height+rowHeight;thisClass.updateESizeData();mf_main.editorController.resizeEditor();if(mf_main.editorController.currentGroupEdit!=null){mf_main.editorController.page.groupManager.resetSelector(mf_main.editorController.currentGroupEdit);}};this.addColumn=function(){mf_main.editorController.disableShortcuts();thisClass.clearGridSelection();colVal=thisClass.component.selectedColumn;var arr=thisClass.component.layoutJSON.gridLayout;thisClass.saveESizeDataUndo();for(i=0;i<arr.length;i++){for(j=0;j<arr[i].length;j++){if(j==colVal){var colData=$.extend(true,{},(arr[i][j]));colData.id=mf_main.editorController.guidGenerator();arr[i].splice(colVal,0,colData);}}}var colWidth=thisClass.component.layoutJSON.gridLayout[0][colVal].width;thisClass.component.esize.width=thisClass.component.width+colWidth;thisClass.updateESizeData();mf_main.editorController.resizeEditor();if(mf_main.editorController.currentGroupEdit!=null){mf_main.editorController.page.groupManager.resetSelector(mf_main.editorController.currentGroupEdit);}};this.deleteRow=function(){bootbox.confirm("Do you want to delete this Row?",function(answer){if(answer){rowVal=$("#mfGridEditor_Vertical .selected").attr("data-row");if(thisClass.component.layoutJSON.gridLayout.length>1){thisClass.saveESizeDataUndo();rowVal=parseInt(rowVal);var rowHeight=thisClass.component.layoutJSON.gridLayout[rowVal][0].height;thisClass.component.layoutJSON.gridLayout.splice(rowVal,1);thisClass.component.esize.height=thisClass.component.height-rowHeight;thisClass.updateESizeData();if(mf_main.editorController.currentGroupEdit!=null){mf_main.editorController.page.groupManager.resetSelector(mf_main.editorController.currentGroupEdit);}}}});};this.deleteColumn=function(){bootbox.confirm("Do you want to delete this Column?",function(answer){if(answer){colVal=$("#mfGridEditor_Horizontal .selected").attr("data-column");if(thisClass.component.layoutJSON.gridLayout[0].length>1){thisClass.saveESizeDataUndo();colVal=parseInt(colVal);var colWidth=thisClass.component.layoutJSON.gridLayout[0][colVal].width;var arr=thisClass.component.layoutJSON.gridLayout;for(i=0;i<arr.length;i++){for(j=0;j<arr[i].length;j++){if(j==colVal){arr[i].splice(colVal,1);}}}thisClass.component.esize.width=thisClass.component.width-colWidth;thisClass.updateESizeData();if(mf_main.editorController.currentGroupEdit!=null){mf_main.editorController.page.groupManager.resetSelector(mf_main.editorController.currentGroupEdit);}}}});};this.resizeColumnOnMove=function(xVal){thisClass.clearGridSelection();$("#mfGridEditor_Horizontal").css("cursor","col-resize");var colVal=parseInt(thisClass.selectedVal);var colObjA=thisClass.component.layoutJSON.gridLayout[0][colVal-1];var colObjB=thisClass.component.layoutJSON.gridLayout[0][colVal];if(colVal!=(thisClass.component.layoutJSON.gridLayout[0].length-1)){var colObjC=thisClass.component.layoutJSON.gridLayout[0][colVal+1];var colObjCleft=parseInt($("#"+colObjC.id).css("left").replace("px",""));}var diff=xVal-thisClass.mouseStartX;var colObjAleft=parseInt($("#"+colObjA.id).css("left").replace("px",""));var colObjBleft=parseInt($("#"+colObjB.id).css("left").replace("px",""));var colObjBWidth=parseInt($("#"+colObjB.id).css("width").replace("px",""));var newXPos=colObjBleft+diff;if(colVal==thisClass.component.layoutJSON.gridLayout[0].length-1&&((colObjBleft+colObjBWidth-newXPos)<(thisClass.component.minimumColumnWidth+1))){thisClass.resizeColMousedown=false;thisClass.resizeColumn();}else{if((Math.abs(colObjAleft-newXPos)<(thisClass.component.minimumColumnWidth+1))||((Math.abs(colObjCleft-newXPos)<(thisClass.component.minimumColumnWidth+1)))){thisClass.resizeColMousedown=false;thisClass.resizeColumn();}else{if($(".gridResizer").length==0){$("#"+thisClass.component.eid+"_txt").prepend("<div class='gridResizer' style='height:100%;width:1px;background: #ff0505;position:absolute'></div>");}$(".gridResizer").css("left",newXPos+"px");}}};this.resizeColumn=function(){mf_main.editorController.disableShortcuts();thisClass.clearGridSelection();$("#mfGridEditor_Horizontal").css("cursor","pointer");if($(".gridResizer").length==0){return;}var colVal=parseInt(thisClass.selectedVal);var colObj=thisClass.component.layoutJSON.gridLayout[0][colVal];var colDiff=parseInt($(".gridResizer").css("left").replace("px",""))-parseInt($("#"+colObj.id).css("left").replace("px",""));$(".gridResizer").remove();var arr=thisClass.component.layoutJSON.gridLayout;for(i=0;i<arr.length;i++){for(j=0;j<arr[i].length;j++){if(j==colVal-1){arr[i][j].width=arr[i][j].width+colDiff;}if(j==colVal){arr[i][j].width=arr[i][j].width-colDiff;}}}thisClass.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.component.layoutJSON));thisClass.render();thisClass.component.render(false);};this.resizeRowOnMove=function(yVal){$("#mfGridEditor_Vertical").css("cursor","row-resize");var rowVal=parseInt(thisClass.selectedVal);var rowObjA=thisClass.component.layoutJSON.gridLayout[rowVal-1][0];var rowObjB=thisClass.component.layoutJSON.gridLayout[rowVal][0];if(rowVal!=(thisClass.component.layoutJSON.gridLayout.length-1)){var rowObjC=thisClass.component.layoutJSON.gridLayout[rowVal+1][0];var rowObjCtop=parseInt($("#"+rowObjC.id).css("top").replace("px",""));}var diff=yVal-thisClass.mouseStartY;var rowObjAtop=parseInt($("#"+rowObjA.id).css("top").replace("px",""));var rowObjBtop=parseInt($("#"+rowObjB.id).css("top").replace("px",""));var rowObjBHeight=parseInt($("#"+rowObjB.id).css("height").replace("px",""));var newYPos=rowObjBtop+diff;if(rowVal==thisClass.component.layoutJSON.gridLayout.length-1&&(rowObjBtop+rowObjBHeight-newYPos)<(thisClass.component.minimumRowHeight+1)){thisClass.resizeRowMousedown=false;thisClass.resizeRow();}else{if((Math.abs(rowObjAtop-newYPos)<(thisClass.component.minimumRowHeight+1))||(Math.abs(rowObjCtop-newYPos)<(thisClass.component.minimumRowHeight+1))){thisClass.resizeRowMousedown=false;thisClass.resizeRow();}else{if($(".gridResizer").length==0){$("#"+thisClass.component.eid+"_txt").prepend("<div class='gridResizer' style='height:1px;width:100%;background: #ff0505;position:absolute'></div>");}$(".gridResizer").css("top",newYPos+"px");}}};this.resizeRow=function(){mf_main.editorController.disableShortcuts();$("#mfGridEditor_Vertical").css("cursor","pointer");if($(".gridResizer").length==0){return;}var rowVal=parseInt(thisClass.selectedVal);var rowObj=thisClass.component.layoutJSON.gridLayout[rowVal][0];var rowDiff=parseInt($(".gridResizer").css("top").replace("px",""))-parseInt($("#"+rowObj.id).css("top").replace("px",""));$(".gridResizer").remove();var arr=thisClass.component.layoutJSON.gridLayout;for(i=0;i<arr.length;i++){for(j=0;j<arr[i].length;j++){if(i==rowVal-1){arr[i][j].height=arr[i][j].height+rowDiff;}if(i==rowVal){arr[i][j].height=arr[i][j].height-rowDiff;}}}thisClass.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.component.layoutJSON));thisClass.render();thisClass.component.render(false);};this.sortRowUp=function(){var rowVal=thisClass.component.selectedRow;if(rowVal>0){var prevRow=thisClass.component.layoutJSON.gridLayout[rowVal-1];thisClass.component.layoutJSON.gridLayout[rowVal-1]=thisClass.component.layoutJSON.gridLayout[rowVal];thisClass.component.layoutJSON.gridLayout[rowVal]=prevRow;thisClass.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.component.layoutJSON));thisClass.render();thisClass.component.selectedRow--;thisClass.component.render(false);}};this.sortRowDown=function(){var rowVal=thisClass.component.selectedRow;if(rowVal<thisClass.component.layoutJSON.gridLayout.length-1){var nextRow=thisClass.component.layoutJSON.gridLayout[rowVal+1];thisClass.component.layoutJSON.gridLayout[rowVal+1]=thisClass.component.layoutJSON.gridLayout[rowVal];thisClass.component.layoutJSON.gridLayout[rowVal]=nextRow;thisClass.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.component.layoutJSON));thisClass.render();thisClass.component.selectedRow++;thisClass.component.render(false);}};this.sortColumnLeft=function(){var colVal=thisClass.component.selectedColumn;if(colVal>0){var gridArr=thisClass.component.layoutJSON.gridLayout;for(i=0;i<gridArr.length;i++){var prevCol=thisClass.component.layoutJSON.gridLayout[i][colVal-1];thisClass.component.layoutJSON.gridLayout[i][colVal-1]=thisClass.component.layoutJSON.gridLayout[i][colVal];thisClass.component.layoutJSON.gridLayout[i][colVal]=prevCol;}thisClass.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.component.layoutJSON));thisClass.render();thisClass.component.selectedColumn--;thisClass.component.render(false);}};this.sortColumnRight=function(){var colVal=thisClass.component.selectedColumn;if(colVal<thisClass.component.layoutJSON.gridLayout[0].length-1){var gridArr=thisClass.component.layoutJSON.gridLayout;for(i=0;i<gridArr.length;i++){var prevCol=thisClass.component.layoutJSON.gridLayout[i][colVal+1];thisClass.component.layoutJSON.gridLayout[i][colVal+1]=thisClass.component.layoutJSON.gridLayout[i][colVal];thisClass.component.layoutJSON.gridLayout[i][colVal]=prevCol;}thisClass.component.e2xml.addPropSingle("gridLayout",JSON.stringify(thisClass.component.layoutJSON));thisClass.render();thisClass.component.selectedColumn++;thisClass.component.render(false);}};this.clearGridSelection=function(){$("#"+thisClass.component.eid+"_txt .mfDataGridCell").removeClass("selected rowSelected columnSelected");$(".mfGridDeleteRow,.mfGridDeleteColumn").hide();$(".mfGridVertical,.mfGridHorizontal").removeClass("selected");$("#"+thisClass.component.eid+"_txt .mfDataGridCell").css("border","none");$("#"+thisClass.component.eid+"_txt").removeClass();};this.remove=function(){try{if(thisClass.component.selector){thisClass.component.selector.setVisible(true);}$(".tooltip").tooltip("hide");thisClass.component.selectionType="table";thisClass.component.selectedCellId=null;$("#"+thisClass.component.eid+"_txt .mfDataGridCell").removeClass("selected rowSelected columnSelected");$("#"+thisClass.component.eid+"_txt .mfDataGridCell").css("border","none");thisClass.component.gridEditMode=false;$("#"+thisClass.component.eid+"_txt .mfDataGridCell").off("mousedown");$("#"+thisClass.component.eid+"_txt .mfDataGridCell").off("dblclick");$("#"+thisClass.component.eid+"_txt .mfDataGridCell").off("mouseup");$("#"+thisClass.component.eid+"_txt .mfDataGridCell").off("click");$("#"+thisClass.id).remove();}catch(e){console.log("Error in Advanced Grid");}};}function MF_Circle(){var thisClass=this;thisClass.NAME="MF_Circle";thisClass.LABEL="Circle";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.templateID="";thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=100;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.fillColors=["#FFFFFF","#F0F0F0"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.shadowType="none";thisClass.borderColor="#000000";thisClass.borderWidth=1;thisClass.borderType="solid";thisClass.borderShow=true;thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("borderShow",thisClass.borderShow,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderShow!=null){thisClass.borderShow=thisClass.e2xml.settings.properties.borderShow;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var circleCode="";var thickness=thisClass.borderWidth;if(thisClass.borderShow==false){thickness=0;}thisClass.delta=(1*thickness)+5;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();circleCode=circleCode+"<canvas class='mfWFCompCls'  id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="pointer-events: none;  -webkit-transform: translateZ(0); position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';circleCode=circleCode+"</canvas>";if(mfpage){$("#mfPage"+mfpage.eid).append(circleCode);}else{if(mfpage){$("#mfPage"+mfpage.eid).append(circleCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(circleCode);}}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid)).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid).width(),$("#"+thisClass.eid).height());document.getElementById(thisClass.eid).width=$("#"+thisClass.eid).width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);document.getElementById(thisClass.eid).width=cwidth;document.getElementById(thisClass.eid).height=cheight;}var rad=thisClass.width;if(thisClass.height<thisClass.width){rad=thisClass.height;}var ctx_Circle1=(document.getElementById(thisClass.eid)).getContext("2d");thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_Circle1.translate(0.5,0.5);}var startx=cwidth/2;var starty=cheight/2;ctx_Circle1.save();MF_ComponentUtils.setComponentShadow(ctx_Circle1,thisClass.shadowType);ctx_Circle1.beginPath();ctx_Circle1.arc(startx,starty,rad/2,Math.PI*2,0,false);var defFillColor1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var defFillColor2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){var grad_Circle1=ctx_Circle1.createLinearGradient(0,0,0,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_Circle1.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-horizontal"){var grad_Circle1=ctx_Circle1.createLinearGradient(0,0,this.width,0);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_Circle1.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-diagonally"){var grad_Circle1=ctx_Circle1.createLinearGradient(0,0,this.width,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_Circle1.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="radial"){var grad_Circle1=ctx_Circle1.createRadialGradient(startx,starty,(rad/2)/2,startx,starty,rad/2);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_Circle1.fillStyle=grad_Circle1;}else{ctx_Circle1.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);}}}}ctx_Circle1.fill();ctx_Circle1.restore();ctx_Circle1.lineWidth=thickness;if(thisClass.borderType=="dashed"){ctx_Circle1.setLineDash([thickness*2,4]);}if(thisClass.borderType=="dotted"){ctx_Circle1.setLineDash([thickness,2]);}if(thisClass.borderWidth>0&&thisClass.borderType!="none"){ctx_Circle1.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_Circle1.stroke();}MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_CircleSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.shadowSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();}}catch(e){console.log("error occured in the component MF_Circle.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings2();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1000px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
					
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					 
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Circle2(){var thisClass=this;thisClass.NAME="MF_Circle2";thisClass.LABEL="Circle2";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.CSSCOMP=true;thisClass.templateID="";thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=100;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.fillColors=["#FFFFFF","#F0F0F0"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.shadowType="none";thisClass.borderColor="#000000";thisClass.borderWidth=1;thisClass.borderType="solid";thisClass.borderShow=true;thisClass.cssJson="";thisClass.cssClasses=["background_css","text_css"];thisClass.cssObj=null;thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.text="";thisClass.fontSize=12;thisClass.fontColor="#000000";thisClass.textAlign="center";thisClass.fontWeight="normal";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("borderShow",thisClass.borderShow,"default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("textAlign",thisClass.textAlign,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.cssJson!=null){thisClass.cssJson=thisClass.e2xml.settings.properties.cssJson;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderShow!=null){thisClass.borderShow=thisClass.e2xml.settings.properties.borderShow;}if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.textAlign!=null){thisClass.textAlign=thisClass.e2xml.settings.properties.textAlign;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=thisClass.borderWidth;if(thisClass.borderType=="none"){thickness=0;}thisClass.delta=(1*thickness)/2;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<div  class='mfWFCompCls' id=\""+thisClass.eid+'"  style="-webkit-transform: translateZ(0);  padding: 0px;  margin: 0px; background: transparent; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+"<div  class='background_css_"+thisClass.eid+"' id=\""+thisClass.eid+'_circle"  style="-webkit-transform: translateZ(0); border-radius: 50%;   padding: 0px;  margin: 0px; background: transparent; position:absolute; top:50%; left:50%;  transform: translate(-50%, -50%);" > ';rectCode=rectCode+"</div>";rectCode=rectCode+'<span id="'+thisClass.eid+'_txt" class="text_css_'+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="overflow: hidden; white-space: nowrap; text-align: center;  -webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; line-height:"+(cheight).toString()+'px;  top:0px; left:0px; " > ';rectCode=rectCode+"</span>";rectCode=rectCode+"</div>";if(mfpage){$("#mfPage"+mfpage.eid).append(rectCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);}$("#"+thisClass.eid+"_txt").css("user-select","none");$("#"+thisClass.eid+"_txt").css("-webkit-user-select","none");$("#"+thisClass.eid+"_txt").css("-moz-user-select","none");var tmpBorderWidth=0;$("#"+thisClass.eid+"_txt").css("width",cwidth-(tmpBorderWidth*2));$("#"+thisClass.eid+"_txt").css("height",cheight-(tmpBorderWidth*2));$("#"+thisClass.eid+"_txt").css("line-height",(cheight-(tmpBorderWidth*2)).toString()+"px");$("#"+thisClass.eid+"_circle").css("width",cwidth);$("#"+thisClass.eid+"_circle").css("height",cheight);if(cwidth>cheight){$("#"+thisClass.eid+"_circle").css("width",cheight);$("#"+thisClass.eid+"_circle").css("height",cheight);}if(cwidth<cheight){$("#"+thisClass.eid+"_circle").css("width",cwidth);$("#"+thisClass.eid+"_circle").css("height",cwidth);}var c1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var c2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){$("#"+thisClass.eid+"_circle").css("background","linear-gradient("+c1+","+c2+")");}else{if(thisClass.fillType=="linear-horizontal"){$("#"+thisClass.eid+"_circle").css("background","linear-gradient(90deg,"+c1+","+c2+")");}else{if(thisClass.fillType=="linear-diagonally"){$("#"+thisClass.eid+"_circle").css("background","linear-gradient(45deg,"+c1+","+c2+")");}else{if(thisClass.fillType=="radial"){$("#"+thisClass.eid+"_circle").css("background","radial-gradient("+c1+","+c2+")");}else{if(thisClass.fillType=="solid"){$("#"+thisClass.eid+"_circle").css("background",c1);}else{$("#"+thisClass.eid+"_circle").css("background","transparent");}}}}}$("#"+thisClass.eid+"_circle").css("border",thisClass.borderType+" "+thisClass.borderWidth.toString()+"px "+thisClass.borderColor);MF_ComponentUtils.setComponentShadowCSS(thisClass.eid+"_circle",thisClass.shadowType);var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);var htext=$("#"+thisClass.eid+"_txt").html(thisClass.text).text();htext=MF_ComponentUtils.getRefactoredText(htext);$("#"+thisClass.eid+"_txt").html(htext);$("#"+thisClass.eid+"_txt").css("font-family",fontFamily);$("#"+thisClass.eid+"_txt").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"_txt").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"_txt").css("text-decoration",thisClass.textDecoration);$("#"+thisClass.eid+"_txt").css("font-size",thisClass.fontSize.toString()+"px");$("#"+thisClass.eid+"_txt").css("color",thisClass.fontColor);$("#"+thisClass.eid+"_txt").css("text-align",thisClass.textAlign);MF_Utils.rotate(thisClass.eid,thisClass.eangle);MF_ComponentUtils.applyCSS(thisClass);$("#"+thisClass.eid+"_circle").css("border-radius","50%");if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_Circle2Settings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.cssSettings=null;thisClass.shadowSettings=null;thisClass.powerupSettings=null;thisClass.fontSettings=null;thisClass.themeSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();thisClass.cssSettings.remove();thisClass.themeSettings.remove();thisClass.fontSettings.remove();thisClass.powerupSettings.remove();}}catch(e){console.log("error occured in the component MF_Circle.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings2();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.init(thisClass);thisClass.themeSettings=new MF_ThemeSettings();thisClass.themeSettings.init(thisClass);thisClass.cssSettings=new MF_CSSSettings();thisClass.cssSettings.init(thisClass);thisClass.powerupSettings=new MF_TextUtilitySettings();thisClass.powerupSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.cssSettings.init(thisClass);thisClass.themeSettings.init(thisClass);thisClass.powerupSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1000px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
					
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_theme"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_powerup"  style="overflow: hidden; width:100%; " >
							
						</div>
					
						<div id="{{eid}}_css"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					</div></div>
					 
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);if(mf_main.DESIGNMODE){$("#"+thisClass.eid+"_powerup").hide();}thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_BYOC(){var thisClass=this;thisClass.NAME="MF_BYOC";thisClass.LABEL="byoc";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=false;thisClass.MULTILINE=true;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=true;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER_ON_FONT=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.SHOW_SELECTOR_ONPREVIEW=true;thisClass.CSSCOMP=true;thisClass.byocLoaded=false;thisClass.x=0;thisClass.y=0;thisClass.width=200;thisClass.height=80;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.BYOC=true;thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.tailwindVersion="none";thisClass.text="&lt;button class=&quot;primary&quot; style=&quot;display: block; width: 100%; height:  100%;&quot;&gt;Hello&lt;/button&gt;\n\n&lt;style&gt;\n\n.primary{\nbackground: #1E88E5;\ncolor: #fff;\nborder: none;\nborder-radius: 10px;\nfont-size: 16px;\nbox-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n\n}\n\n&lt;/style&gt;";thisClass.tempText="";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropSingle("tailwindVersion",thisClass.tailwindVersion,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");};thisClass.setByocLoaded=function(val){thisClass.byocLoaded=val;if(mf_main.RENDER){mf_main.editorController.checkLoaded();}};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+'<iframe class=\'mfWFCompCls\' sandbox="allow-same-origin allow-scripts" id="'+thisClass.eid+'"  style="background: transparent; border: none; outline: none; -webkit-transform: translateZ(0); box-sizing: border-box;   padding: 0px;  margin: 0px;  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+"</iframe>";if(mfpage){$("#mfPage"+mfpage.eid).append(rectCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);}if(redraw){thisClass.tempText=thisClass.text;var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);$("#"+thisClass.eid+"").css("font-family",fontFamily);var decoded=$("<div/>").html(thisClass.text).text();try{decoded=MF_Utils.sanitizeHTML(decoded);decoded=MF_Utils.sanitizeHTMLTags(decoded);}catch(e){}var fontobj=mf_main.editorController.fontController.getFontByID(thisClass.fontType);var fonturl="";if(fontobj){if(fontobj.embedded){fonturl='<link href="css/fonts/'+fontobj.id+'/stylesheet.css" rel="stylesheet">';}else{if(fontobj.isCustomFont){var assetDomain="https://assets.mockflow.com/";if(MF_Global.getS3Bucket()=="assets.mockflow.com"){assetDomain="https://s3.amazonaws.com/"+MF_Global.getS3Bucket()+"/";}fonturl='<link href="'+assetDomain+"app/wireframepro/company/"+fontobj.clientid+"/projects/"+fontobj.projectid+"/fonts/"+fontobj.customFontId+'.css" rel="stylesheet">';}}}else{var gfont=fontFamily.replaceAll(" ","+");fonturl='<link href="https://fonts.googleapis.com/css2?family='+gfont+'" rel="stylesheet">';}if(thisClass.fontType=="sourcesanspro"){fonturl='<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,300italic,regular,italic,600,700,700italic,900" rel="stylesheet">';}var tailwindurl="";if(thisClass.tailwindVersion!="none"){tailwindurl="<script type='text/javascript' src=\"https://d20hhedk3h2l88.cloudfront.net/apps/wireframepro/external/js/tailwind.3.0.0.min.js\"><\/script>";}if(typeof MFOFFLINEMODE!=="undefined"){if(MFOFFLINEMODE){decoded=decoded.replaceAll("/mfvar/mffolders/","");}}decoded='<html style="height: calc(100% - 22px);  min-height:calc(100% - 22px) !important; margin: 0px; padding: 10px;  "><head>'+fonturl+tailwindurl+"<style> body, input, textarea, button {font-family: "+fontFamily+'; overflow: hidden;} </style></head><body style=" height: 100%;min-height: 100% !important; margin: 0px; padding: 0px; overflow: hidden;">'+decoded+"</body></html>";$("#"+thisClass.eid+"").attr("srcdoc",decoded);}MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}if(mf_main.RENDER){$("#"+thisClass.eid).on("load",function(){thisClass.setByocLoaded(true);});}};}function MF_BYOCSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();}}catch(e){console.log("error occured in the component MF_BYOC.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfTailWindAllow_"+thisClass.eid).click(toggleTailWind);$("#mfHTMLFullEditor_"+thisClass.eid).click(openFullEditor);$("#mfHTMLSaveEditor_"+thisClass.eid).click(saveEditor);$("#mfPickColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){},change:function(color){color=MF_Utils.RGBToHex(color.toRgbString());$("#mfHTMLText_"+thisClass.eid).val($("#mfHTMLText_"+thisClass.eid).val()+" "+color);}});$("#mfPickImage_"+thisClass.eid).click(function(){mf_main.editorController.disableShortcuts();saveHTML();MF_Utils.display_ActionIndicator("Select image to copy its link");mf_main.editorController.openNavBarContent("mfNavImagesBtn");mf_main.editorController.imageController.byocLinkMode=true;mf_main.editorController.imageController.component=thisClass.component;});$("#mfAboutBYOC_"+thisClass.eid).click(function(){mf_main.editorController.disableShortcuts();$("#mfAboutBYOCModal").modal();});$("#mfBYOCOpenExamples_"+thisClass.eid).click(function(){mf_main.editorController.disableShortcuts();$("#mfBYOCExamples").modal();});$("#mfHTMLText_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();mf_main.editorController.stopEditingText();});$("#mfHTMLText_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();saveHTML();});$("#mfHTMLText_"+thisClass.eid).keypress(function(event){var keycode=(event.keyCode?event.keyCode:event.which);if(keycode=="13"){}});$("#mfFontFamily_"+thisClass.eid).off("click");$("#mfFontFamily_"+thisClass.eid).on("click",function(event){mf_main.editorController.stopEditingText();mf_main.editorController.disableShortcuts();$("#mfFontSelectScreen").show();$("#mfFontLoadScreen").hide();mf_main.editorController.selectedFontComp=thisClass.component;$("#mffontusedbtn").click();$("#mfFontModal").modal();$("#mfFontSearchBox").val("");$("#mfFontCurrent").text($("#mfFontFamily_"+thisClass.eid).text());mf_main.componentList.searchFontsHandler(null);mf_main.editorController.showPopUp(event,$("#mfFontSelectionPopUp"));});$("#mfBYOCGenerateWithAI_"+thisClass.eid).click(function(){mf_main.editorController.disableShortcuts();if(!mf_main.editorController.aiManagerController.BYOCGenerationInProgress){$("#mfBYOCAIFormScreen").show();$("#mfBYOCAILoadingScreen").hide();$("#mfBYOCAIPreviewScreen").hide();}$("#mfBYOCGenerateWithAIModal").modal();});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}var decoded=$("<div/>").html(thisClass.component.text).text();var isExternal=false;try{var html=$.parseHTML("<div>"+decoded+"</div>");$(html).children().each(function(){var backImg=$(this).css("background-image");if(backImg&&backImg!="none"&&backImg!=""&&backImg.includes("http")){if(!backImg.includes("assets.mockflow.com")&&!backImg.includes("testmfassets")){isExternal=true;}else{}}var esrc=$(this).attr("src");if(esrc&&esrc!=""&&!esrc.includes("assets.mockflow.com")&&!esrc.includes("testmfassets")&&esrc.includes("http")){isExternal=true;}else{}}).get();}catch(e){}if(isExternal){$("#mfHTMLWarning_"+thisClass.eid).show();}else{$("#mfHTMLWarning_"+thisClass.eid).hide();}$("#mfHTMLText_"+thisClass.eid).val(decoded);function saveHTML(){if(MF_UserSession.getUser()&&MF_UserSession.getUser().isBasic){MF_Utils.display_ActionIndicator("Not permitted in basic plan");return;}var txt=$("#mfHTMLText_"+thisClass.eid).val();try{txt=MF_Utils.sanitizeHTML(txt);txt=MF_Utils.sanitizeHTMLTags(txt);}catch(e){}txt=MF_Utils.htmlEncode(txt);if(txt!=thisClass.component.text){thisClass.component.e2xml.addPropSingle("text",txt);thisClass.component.render(true);mf_main.editorController.reStackComponents();MF_Utils.display_ActionIndicator("HTML code saved successfully");}}var fontFamily=thisClass.component.fontType;$("#mfFontFamily_"+thisClass.eid).text(fontFamily);if(thisClass.component.tailwindVersion=="none"){$("#mfTailWindAllow_"+thisClass.eid).prop("checked",false);}else{$("#mfTailWindAllow_"+thisClass.eid).prop("checked",true);}function toggleTailWind(e){var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("tailwindVersion","3");}else{thisClass.component.e2xml.addPropSingle("tailwindVersion","none");}thisClass.component.render(true);mf_main.editorController.reStackComponents();}function openFullEditor(e){if(MF_UserSession.getUser()&&MF_UserSession.getUser().isBasic){MF_Utils.display_ActionIndicator("Not permitted in basic plan");return;}mf_main.editorController.openBYOCeditor(thisClass.component);}function saveEditor(e){saveHTML();}};thisClass.checkTailWind=function(){$("#mfTailWindAllow_"+thisClass.eid).prop("checked",true);};thisClass.updateHTMLdata=function(html){var decoded=$("<div/>").html(html).text();$("#mfHTMLText_"+thisClass.eid).val(decoded);};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width: 250px; height: 1550px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Comp / Click Here to Edit
						</div>
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">BYOC settings</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
										
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 750px;" >	
								
								    <a style=" width: 220px; position: absolute; left: 15px; top: 20px;" class="btn mfSidebarShadowButton" id="mfAboutBYOC_{{eid}}" >What is BYOC?</a>
								    
								    <a style=" width: 220px; position: absolute; left: 15px; top: 70px; border: none; border-radius: 10px;" class="btn  mfSidebarPurpleButton" id="mfBYOCGenerateWithAI_{{eid}}" >Generate with AI</a>	
					 
								
									<div  style="position: absolute; left: 15px; top: 120px; font-weight: normal;" >
									Font: </div>
									
									<div class="mfFontFamilyCls mfSingleLine"  id="mfFontFamily_{{eid}}"  style="width: 180px; cursor: pointer; color: #2196F3; position: absolute; left: 50px; top: 120px; font-weight: normal;" >Select font
									</div>

			
									 <div  data-toggle="tooltip"  data-placement="top" title="Write Tailwind UI framework compatible components by enabling this checkbox" class="checkbox" style="width: 200px; position: absolute; top: 150px; left: 30px;">
									    <input  type="checkbox" checked=false id="mfTailWindAllow_{{eid}}" class="tgl tgl-ios" value="">
									    <label class='tgl-btn' for='mfTailWindAllow_{{eid}}'></label><span style='font-weight: 600; color: #444;'>Enable TailWind Support</span>
									  </div>
									  
									  
										 <div  style='position: absolute; left: 205px; top: 115px;' ><input style='width: 100px;' type='text' id='mfPickColor_{{eid}}' /></div>
										 
										 <div style="position: absolute; left: 10px; top: 203px; font-size: 14px;">To edit content like text and image double-click on the component</div>
										 
										<div id='mfHTMLWarning_{{eid}}'   data-toggle="tooltip"  data-placement="top" title="This is not recommended as they will affect exports and loading. Double-click to replace them with image manager" style="position: absolute; left: 10px; top: 253px; font-size: 14px; font-weight: 600; color: #F44336;"><i class="fa fa-warning" ></i> Code contains external image references</div>
									 
										<div style="position: absolute; left: 10px; top: 303px; font-size: 14px; font-weight: 600; color: #444;">HTML code:</div>
										
										<i id='mfHTMLSaveEditor_{{eid}}'  data-toggle="tooltip"  data-placement="top" title="Save code" style="position: absolute; left: 185px; top: 305px; cursor: pointer; font-size: 16px; color: #444;" class="ico-save-outline"></i>
										
										<i id='mfHTMLFullEditor_{{eid}}'  data-toggle="tooltip"  data-placement="top" title="Open full editor" style="position: absolute; left: 215px; top: 305px; font-weight:bold; cursor: pointer; font-size: 16px; color: #000;" class="ico-external_link"></i>
										
										
										<div  style='position: absolute; left: 10px; top: 330px;' >
										
											    <textarea placeholder="Only HTML and CSS are allowed here...&#13;&#10;&#13;&#10;Allowed tags include <style> tag&#13;&#10;&#13;&#10;Tags not allowed: iframe, script, link, embed, object" style="resize: none; width: 222px; height: 232px;" class="form-control mfCSSTextCls" id='mfHTMLText_{{eid}}' ></textarea>
											
												<br/>
												<a style="text-align: center; margin-top: -12px; display: block;" href="https://support.mockflow.com/article/236-about-byoc" target="_blank">Learn more on BYOC</a>
												
												<br/><br/>
												<a style=" width: 220px;"  data-toggle="tooltip"  data-placement="top" title="Select image to copy its url to use in BYOC code" class="btn mfSidebarShadowButton" id="mfPickImage_{{eid}}" >Copy image link</a>
												<br/><br/>
												<a style=" width: 220px;"  data-toggle="tooltip"  data-placement="top" title="Import code examples for BYOC" class="btn btn-primary" id="mfBYOCOpenExamples_{{eid}}" >Import examples</a>
												
										</div>
			

								
								</div>
						</div>
						
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Arrow2(){var thisClass=this;thisClass.NAME="MF_Arrow2";thisClass.LABEL="Arrow 2";thisClass.GENONLY=false;thisClass.TRANSFORM=true;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=true;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=300;thisClass.height=20;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.esize=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.startX=0;thisClass.startY=0;thisClass.endX=0;thisClass.endY=0;thisClass.startType="bottomLeft";thisClass.arrowColor="#ff0000";thisClass.arrowWidth=1;thisClass.shadowType="none";thisClass.arrowDirection="right";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.transformSelector=function(){thisClass.selector.transform(thisClass);};thisClass.computePoints=function(){var obj=MF_Utils.computePoints(thisClass.startType,thisClass.x+thisClass.delta,thisClass.y+thisClass.delta,thisClass.width-(thisClass.delta*2),thisClass.height-(thisClass.delta*2));thisClass.startX=obj.startx;thisClass.startY=obj.starty;thisClass.endX=obj.endx;thisClass.endY=obj.endy;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("arrowColor",thisClass.arrowColor,"default");thisClass.e2xml.addPropSingle("arrowWidth",thisClass.arrowWidth,"default");thisClass.e2xml.addPropSingle("arrowDirection",thisClass.arrowDirection,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.arrowColor!=null){thisClass.arrowColor=thisClass.e2xml.settings.properties.arrowColor;}if(thisClass.e2xml.settings.properties.arrowWidth!=null){thisClass.arrowWidth=thisClass.e2xml.settings.properties.arrowWidth;}if(thisClass.e2xml.settings.properties.arrowDirection!=null){thisClass.arrowDirection=thisClass.e2xml.settings.properties.arrowDirection;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensionsTransform(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();thisClass.delta=2*(thisClass.arrowWidth/10)+20;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var rectDim=MF_Utils.calculateDimensions(thisClass.startX,thisClass.startY,thisClass.endX,thisClass.endY,thisClass.delta);thisClass.startType=rectDim.startType;var cvsCode="";var cwidth=rectDim.width+(thisClass.delta*2);var cheight=rectDim.height+(thisClass.delta*2);var ctop=rectDim.y-thisClass.delta;var cleft=rectDim.x-thisClass.delta;thisClass.x=cleft;thisClass.y=ctop;thisClass.width=cwidth;thisClass.height=cheight;if(redraw){$("#"+thisClass.eid).remove();cvsCode=cvsCode+"<canvas class='mfWFCompCls'  id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  pointer-events: none; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';cvsCode=cvsCode+"</canvas>";if(mfpage){$("#mfPage"+mfpage.eid).append(cvsCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(cvsCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{MF_ComponentUtils.clearPage(thisClass);}var ctx_Cvs=(document.getElementById(thisClass.eid)).getContext("2d");MF_ComponentUtils.setComponentShadow(ctx_Cvs,thisClass.shadowType);ctx_Cvs.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.arrowColor,1);var thickness=thisClass.arrowWidth;thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_Cvs.translate(0.5,0.5);}var start_x=rectDim.startx;var start_y=rectDim.starty;var end_x=rectDim.endx;var end_y=rectDim.endy;var asize=15+2*thickness;var apoint=asize/3;var angle1=(Math.PI)/8;var angle2=(15*Math.PI)/8;var x_offset=0;var y_offset=0;if((end_y>start_y)&&(end_x>start_x)){var slope_sign=1;var x_sign=-1;}if((end_y<start_y)&&(end_x<start_x)){var slope_sign=1;var x_sign=1;}if((end_y<start_y)&&(end_x>start_x)){var slope_sign=-1;var x_sign=-1;}if((end_y>start_y)&&(end_x<start_x)){var slope_sign=-1;var x_sign=1;}if(end_y==start_y){var slope_sign=1;var x_sign=-((end_x-start_x)/Math.abs(end_x-start_x));}var arrow_height=Math.abs(end_y-start_y);var arrow_width=Math.abs(end_x-start_x);if(arrow_width!=0){var slope=slope_sign*(arrow_height/arrow_width);var d=asize;var x=x_sign*(Math.sqrt((d*d)/(1+(slope*slope))));var y=slope*x;d=apoint;var x3=x_sign*(Math.sqrt((d*d)/(1+(slope*slope))));var y3=slope*x3;}else{var y_sign=-((end_y-start_y)/Math.abs(end_y-start_y));var x=0;var y=y_sign*asize;var x3=0;var y3=y_sign*apoint;}ctx_Cvs.strokeStyle=thisClass.arrowColor;ctx_Cvs.moveTo(start_x,start_y);ctx_Cvs.lineTo(end_x,end_y);ctx_Cvs.lineWidth=thickness;ctx_Cvs.stroke();switch(thisClass.arrowDirection){case"none":break;case"both":case"left":var angle11=(7*Math.PI)/8;var angle21=(9*Math.PI)/8;var x11=(x*Math.cos(angle11))-(y*Math.sin(angle11));var y11=(x*Math.sin(angle11))+(y*Math.cos(angle11));var x21=(x*Math.cos(angle21))-(y*Math.sin(angle21));var y21=(x*Math.sin(angle21))+(y*Math.cos(angle21));ctx_Cvs.save();ctx_Cvs.translate(start_x,start_y);ctx_Cvs.strokeStyle=thisClass.arrowColor;ctx_Cvs.lineWidth=thickness;ctx_Cvs.beginPath();ctx_Cvs.lineJoin="miter";ctx_Cvs.moveTo(x11,y11);ctx_Cvs.lineTo(0,0);ctx_Cvs.lineTo(x21,y21);ctx_Cvs.closePath();ctx_Cvs.stroke();ctx_Cvs.fillStyle=thisClass.arrowColor;ctx_Cvs.fill();ctx_Cvs.restore();if(thisClass.arrowDirection=="left"){break;}case"right":var x1=(x*Math.cos(angle1))-(y*Math.sin(angle1));var y1=(x*Math.sin(angle1))+(y*Math.cos(angle1));var x2=(x*Math.cos(angle2))-(y*Math.sin(angle2));var y2=(x*Math.sin(angle2))+(y*Math.cos(angle2));ctx_Cvs.save();ctx_Cvs.translate(end_x,end_y);ctx_Cvs.strokeStyle=thisClass.arrowColor;ctx_Cvs.lineWidth=thickness;ctx_Cvs.beginPath();ctx_Cvs.lineJoin="miter";ctx_Cvs.moveTo(x1,y1);ctx_Cvs.lineTo(0,0);ctx_Cvs.lineTo(x2,y2);ctx_Cvs.closePath();ctx_Cvs.stroke();ctx_Cvs.fillStyle=thisClass.arrowColor;ctx_Cvs.fill();ctx_Cvs.restore();break;default:break;}if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_Arrow2Settings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.linkSettings=null;thisClass.shadowSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfDirection_"+thisClass.eid).data("kendoDropDownList")){$("#mfDirection_"+thisClass.eid).data("kendoDropDownList").destroy();}thisClass.linkSettings.remove();thisClass.shadowSettings.remove();}}catch(e){console.log("error occured in the component MF_Arrow2.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);}else{thisClass.linkSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfArrowColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){color=MF_Utils.RGBToHex(color.toRgbString());thisClass.component.e2xml.addPropSingle("arrowColor",color);thisClass.component.render(false);}});$("#mfArrowWidth_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfArrowWidth_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfArrowWidth_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:onArrowWidthChange,decimals:0});$("#mfArrowWidth_"+thisClass.eid).focus(function(){$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onArrowWidthChange);$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onArrowWidthChange);});$("#mfVStraight_"+thisClass.eid).on("click",function(e){e.stopImmediatePropagation();var coord=new Object();coord.startX=thisClass.component.ecoordinates.startX;coord.startY=thisClass.component.ecoordinates.startY;coord.endX=thisClass.component.ecoordinates.endX;coord.endY=thisClass.component.ecoordinates.endY;var undo=new MF_UndoDAO();undo.propObjectUndo(thisClass.component,"ecoordinates",thisClass.component.ecoordinates);MF_ChangeManager.addUndo(undo);var startX=thisClass.component.ecoordinates.startX;var startY=thisClass.component.ecoordinates.startY;var endX=thisClass.component.ecoordinates.endX;var endY=thisClass.component.ecoordinates.endY;if(startX==endX){return;}var linedistance=Math.sqrt(Math.pow(endX-startX,2)+Math.pow(endY-startY,2));if(startY<endY){coord.endX=thisClass.component.ecoordinates.startX-0.0001;coord.endY=thisClass.component.ecoordinates.startY+linedistance;}else{coord.startX=thisClass.component.ecoordinates.endX-0.0001;coord.startY=thisClass.component.ecoordinates.endY+linedistance;}thisClass.component.e2xml.addPropObject("ecoordinates",coord);thisClass.component.render(false);mf_main.editorController.addSelectorTransform(thisClass.component.selector);});$("#mfHStraight_"+thisClass.eid).on("click",function(e){e.stopImmediatePropagation();var coord=new Object();coord.startX=thisClass.component.ecoordinates.startX;coord.startY=thisClass.component.ecoordinates.startY;coord.endX=thisClass.component.ecoordinates.endX;coord.endY=thisClass.component.ecoordinates.endY;var startX=thisClass.component.ecoordinates.startX;var startY=thisClass.component.ecoordinates.startY;var endX=thisClass.component.ecoordinates.endX;var endY=thisClass.component.ecoordinates.endY;var linedistance=Math.sqrt(Math.pow(endX-startX,2)+Math.pow(endY-startY,2));if(startY==endY){return;}if(startX<endX){coord.endY=thisClass.component.ecoordinates.startY;coord.endX=thisClass.component.ecoordinates.startX+linedistance;}else{coord.startY=thisClass.component.ecoordinates.endY;coord.startX=thisClass.component.ecoordinates.endX+linedistance;}thisClass.component.e2xml.addPropObject("ecoordinates",coord);thisClass.component.render(false);mf_main.editorController.addSelectorTransform(thisClass.component.selector);});$(".mfBtnArrowStraightCls").tooltip({position:"top",animation:false});$("#mfDirection_"+thisClass.eid).kendoDropDownList({select:onDirectionSelect});$("#mfAnnotateToggleBtn_"+thisClass.eid).on("click",thisClass.toggleAnnotation);}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}$("#mfArrowColor_"+thisClass.eid).spectrum("set",thisClass.component.arrowColor);function onArrowWidthChange(){$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onArrowWidthChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();thisClass.component.e2xml.addPropSingle("arrowWidth",w);thisClass.component.render(false);}thisClass.arrowWidthBox=$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox");thisClass.arrowWidthBox.value(thisClass.component.arrowWidth);var dropdownlist=$("#mfDirection_"+thisClass.eid).data("kendoDropDownList");if(thisClass.component.arrowDirection=="both"){dropdownlist.select(0);}if(thisClass.component.arrowDirection=="left"){dropdownlist.select(1);}if(thisClass.component.arrowDirection=="right"){dropdownlist.select(2);}if(thisClass.component.arrowDirection=="none"){dropdownlist.select(3);}function onDirectionSelect(e){var gtype="left";if(e.item.index()==0){gtype="both";}if(e.item.index()==1){gtype="left";}if(e.item.index()==2){gtype="right";}if(e.item.index()==3){gtype="none";}thisClass.component.e2xml.addPropSingle("arrowDirection",gtype);thisClass.component.render(false);}if(thisClass.component.ANNOTATION){thisClass.markAsAnnotate();}else{thisClass.unMarkAsAnnotate();}};thisClass.toggleAnnotation=function(e){if(thisClass.component){if(thisClass.component.ANNOTATION){thisClass.unMarkAsAnnotate();thisClass.component.e2xml.addPropSingle("ANNOTATION",false);}else{thisClass.markAsAnnotate();thisClass.component.e2xml.addPropSingle("ANNOTATION",true);}$("#mfAnnotateToggleBtn_"+thisClass.eid).tooltip("hide");}};thisClass.markAsAnnotate=function(){$("#mfAnnotateToggleBtn_"+thisClass.eid).css("color","#ff0000");$("#mfAnnotateToggleBtn_"+thisClass.eid).attr("data-original-title","Unmark component as 'Annotation'. Annotation components can be toggled - shown/hidden in review mode.");};thisClass.unMarkAsAnnotate=function(){$("#mfAnnotateToggleBtn_"+thisClass.eid).css("color","#8C95A4");$("#mfAnnotateToggleBtn_"+thisClass.eid).attr("data-original-title","Mark component as 'Annotation'. Annotation components can be toggled - shown/hidden in review mode.");};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 700px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
					
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Arrow</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
								
								
										
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 240px;" >		
					
								
											<div  style="left: 10px; top: 20px; width: 170px; font-weight: bold; overflow: hidden; word-wrap: false;position:absolute"> 
			
												<div style="overflow:hidden">
													<span  id="mfVStraight_{{eid}}"  title="Make Arrow Vertical Straight" class="mfBtnArrowStraightCls ico-flip_horizontal" style="cursor: pointer; font-size: 30px; color: #444;"></span>
													&nbsp; &nbsp; 
													<span id="mfHStraight_{{eid}}"  title="Make Arrow Horizontal Straight" class="mfBtnArrowStraightCls ico-flip_vertical" style="cursor: pointer; font-size: 30px; color: #444;"></span>
												</div>
									
											</div>
											
												<span class="ico-border_color" data-toggle="tooltip"  data-placement="bottom"   id="mfAnnotateToggleBtn_{{eid}}" style="position: absolute; font-size: 18px; cursor:pointer; left: 110px; top: 25px;"></span>

											
											<div style="position: absolute; left: 10px; top: 83px;">Color:</div>
											<div  style='position: absolute; left: 100px; top: 77px;' ><input  id='mfArrowColor_{{eid}}' style='width: 100px;' type='text'  /></div>
						
											<div style="position: absolute; left: 10px; top: 135px;">Thickness:</div>
											<div style="position: absolute; left: 100px; top: 130px;"><input style="width: 70px;" id="mfArrowWidth_{{eid}}" type="number" value="1" min="1" max="10" step="1" /></div>
											
											
											<div style="position: absolute; left: 10px; top: 185px;">ArrowHeads:</div>
			
										 <select style="left: 100px; top: 180px; width: 100px;" id="mfDirection_{{eid}}">
										 <option>Both</option>
										 <option>Left</option>
										 <option>Right</option>
										  <option>None</option>
										 </select>

								
								
								</div>
						</div>
						
						
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					 
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Button(){var thisClass=this;thisClass.NAME="MF_Button";thisClass.LABEL="Button";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=40;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.fillColors=["#FFFFFF","#F0F0F0"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.shadowType="none";thisClass.icon="";thisClass.iconPlace="left";thisClass.borderColors=["#000000","#000000","#000000","#000000","#000000"];thisClass.borderWidth=[1,1,1,1,1];thisClass.borderType=["solid","solid","solid","solid","solid"];thisClass.borderRadius=[0,0,0,0,0];thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.text="Button";thisClass.fontSize=12;thisClass.fontColor="#000000";thisClass.textAlign="center";thisClass.fontWeight="normal";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropArray("borderColors",thisClass.borderColors,"String","default");thisClass.e2xml.addPropArray("borderWidth",thisClass.borderWidth,"uint","default");thisClass.e2xml.addPropArray("borderType",thisClass.borderType,"String","default");thisClass.e2xml.addPropArray("borderRadius",thisClass.borderRadius,"uint","default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("icon",thisClass.icon,"default");thisClass.e2xml.addPropSingle("iconPlace",thisClass.iconPlace,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("textAlign",thisClass.textAlign,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.icon!=null){thisClass.icon=thisClass.e2xml.settings.properties.icon;}if(thisClass.e2xml.settings.properties.iconPlace!=null){thisClass.iconPlace=thisClass.e2xml.settings.properties.iconPlace;}if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColors!=null){thisClass.borderColors=thisClass.e2xml.settings.properties.borderColors;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderRadius!=null){thisClass.borderRadius=thisClass.e2xml.settings.properties.borderRadius;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.textAlign!=null){thisClass.textAlign=thisClass.e2xml.settings.properties.textAlign;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=parseInt(thisClass.borderWidth[0]);if(thisClass.borderType[0]=="none"){thickness=0;}thisClass.delta=(1*thickness)+5;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<div class='mfWFCompCls' id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="pointer-events: none; -webkit-transform: translateZ(0);  overflow: hidden; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+'<canvas id="'+thisClass.eid+'_cvs" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+'px; top:0px; left:0px; " > ';rectCode=rectCode+"</canvas>";rectCode=rectCode+'<span id="'+thisClass.eid+'_txt"  style="padding-left: 5px; padding-right: 5px;  overflow: hidden; white-space: nowrap; text-align: center; font-weight: bold; -webkit-transform: translateZ(0);  position:absolute; width:'+(thisClass.width).toString()+"px; height:"+(thisClass.height).toString()+"px; line-height:"+(cheight).toString()+"px;  top:"+(thisClass.delta).toString()+"px; left:"+(thisClass.delta).toString()+'px;  " > ';rectCode=rectCode+"</span>";rectCode=rectCode+"</div>";if(mfpage){$("#mfPage"+mfpage.eid).append(rectCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid+"_cvs").width(),$("#"+thisClass.eid+"_cvs").height());document.getElementById(thisClass.eid+"_cvs").width=$("#"+thisClass.eid+"_cvs").width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid+"_cvs").css("width",cwidth);$("#"+thisClass.eid+"_cvs").css("height",cheight);$("#"+thisClass.eid+"_txt").css("left",thisClass.delta);$("#"+thisClass.eid+"_txt").css("top",thisClass.delta);$("#"+thisClass.eid+"_txt").css("width",thisClass.width);$("#"+thisClass.eid+"_txt").css("height",thisClass.height);document.getElementById(thisClass.eid+"_cvs").width=cwidth;document.getElementById(thisClass.eid+"_cvs").height=cheight;}$("#"+thisClass.eid+"_txt").css("user-select","none");$("#"+thisClass.eid+"_txt").css("-webkit-user-select","none");$("#"+thisClass.eid+"_txt").css("-moz-user-select","none");$("#"+thisClass.eid+"_txt").css("line-height",(thisClass.height+2).toString()+"px");var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);var htext=$("#"+thisClass.eid+"_txt").html(thisClass.text).text();htext=MF_ComponentUtils.getRefactoredText(htext);if(thisClass.icon!=null&&thisClass.icon!=""){if(thisClass.iconPlace=="right"){htext=htext+" <i style='vertical-align: top; line-height: inherit;  display: inline-block;' class='"+thisClass.icon+"' ></i>";}else{htext="<i style='vertical-align: top; line-height: inherit;  display: inline-block;' class='"+thisClass.icon+"' ></i> "+htext;}}$("#"+thisClass.eid+"_txt").html(htext);$("#"+thisClass.eid+"_txt").css("font-family",fontFamily);$("#"+thisClass.eid+"_txt").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"_txt").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"_txt").css("text-decoration",thisClass.textDecoration);$("#"+thisClass.eid+"_txt").css("font-size",thisClass.fontSize.toString()+"px");$("#"+thisClass.eid+"_txt").css("color",thisClass.fontColor);$("#"+thisClass.eid+"_txt").css("text-align",thisClass.textAlign);var rad=thisClass.width;if(thisClass.height<thisClass.width){rad=thisClass.height;}var ctx_obj=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_obj.translate(0.5,0.5);}var startx=cwidth/2;var starty=cheight/2;ctx_obj.save();MF_ComponentUtils.setComponentShadow(ctx_obj,thisClass.shadowType);ctx_obj.beginPath();if(thisClass.borderRadius[0]==0){ctx_obj.rect(thisClass.delta,thisClass.delta,thisClass.width,thisClass.height);}else{roundedRect2(ctx_obj,thisClass.delta,thisClass.delta,thisClass.width,thisClass.height,thisClass.borderRadius[0]);}ctx_obj.closePath();var defFillColor1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var defFillColor2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,0,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-horizontal"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,0);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-diagonally"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="radial"){var grad_Circle1=ctx_obj.createRadialGradient(startx,starty,(rad/2)/2,startx,starty,rad/2);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{ctx_obj.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);}}}}ctx_obj.fill();ctx_obj.restore();ctx_obj.lineWidth=thickness;if(thisClass.borderType[0]=="dashed"){ctx_obj.setLineDash([thickness*2,4]);}if(thisClass.borderType[0]=="dotted"){ctx_obj.setLineDash([thickness,2]);}if(thisClass.borderType[0]!="none"&&thickness!=0){ctx_obj.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColors[0],1);ctx_obj.stroke();}MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_ButtonSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.shadowSettings=null;thisClass.fontSettings=null;thisClass.iconSettings=null;thisClass.powerupSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();thisClass.fontSettings.remove();thisClass.iconSettings.remove();thisClass.powerupSettings.remove();}}catch(e){console.log("error occured in the component MF_Button.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.init(thisClass);thisClass.iconSettings=new MF_IconAssignSettings2();thisClass.iconSettings.init(thisClass);thisClass.powerupSettings=new MF_TextUtilitySettings();thisClass.powerupSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.iconSettings.init(thisClass);thisClass.powerupSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width: 250px; height: 1600px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Comp / Click Here to Edit
						</div>
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_icon"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
						<div id="{{eid}}_powerup"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Button2(){var thisClass=this;thisClass.NAME="MF_Button2";thisClass.LABEL="Button2";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.CSSCOMP=true;thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=40;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.fillColors=["#FFFFFF","#F0F0F0"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.shadowType="none";thisClass.icon="";thisClass.iconPlace="left";thisClass.borderColors=["#000000","#000000","#000000","#000000","#000000"];thisClass.borderWidth=[1,1,1,1,1];thisClass.borderType=["solid","solid","solid","solid","solid"];thisClass.borderRadius=[0,0,0,0,0];thisClass.cssJson="";thisClass.cssClasses=["background_css","text_css"];thisClass.cssObj=null;thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.text="Button";thisClass.fontSize=12;thisClass.fontColor="#000000";thisClass.textAlign="center";thisClass.fontWeight="normal";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.getMaxRadius=function(rad,w,h){var min=w;if(h<min){min=h;}if(min<rad){return min;}else{return rad;}};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropArray("borderColors",thisClass.borderColors,"String","default");thisClass.e2xml.addPropArray("borderWidth",thisClass.borderWidth,"uint","default");thisClass.e2xml.addPropArray("borderType",thisClass.borderType,"String","default");thisClass.e2xml.addPropArray("borderRadius",thisClass.borderRadius,"uint","default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("icon",thisClass.icon,"default");thisClass.e2xml.addPropSingle("iconPlace",thisClass.iconPlace,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("textAlign",thisClass.textAlign,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.cssJson!=null){thisClass.cssJson=thisClass.e2xml.settings.properties.cssJson;}if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.icon!=null){thisClass.icon=thisClass.e2xml.settings.properties.icon;}if(thisClass.e2xml.settings.properties.iconPlace!=null){thisClass.iconPlace=thisClass.e2xml.settings.properties.iconPlace;}if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColors!=null){thisClass.borderColors=thisClass.e2xml.settings.properties.borderColors;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderRadius!=null){thisClass.borderRadius=thisClass.e2xml.settings.properties.borderRadius;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.textAlign!=null){thisClass.textAlign=thisClass.e2xml.settings.properties.textAlign;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=parseInt(thisClass.borderWidth[0]);if(thisClass.borderType[0]=="none"){thickness=0;}thisClass.delta=(1*thickness)/2;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<div class='mfWFCompCls background_css_"+thisClass.eid+"'  id=\""+thisClass.eid+'"  style="-webkit-transform: translateZ(0); box-sizing: border-box;   padding: 0px;  margin: 0px; background: transparent; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+'<span id="'+thisClass.eid+'_txt" class="text_css_'+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="overflow: hidden; white-space: nowrap; text-align: center;  -webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; line-height:"+(cheight).toString()+'px;  top:0px; left:0px; " > ';rectCode=rectCode+"</span>";rectCode=rectCode+"</div>";if(mfpage){$("#mfPage"+mfpage.eid).append(rectCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);}$("#"+thisClass.eid+"_txt").css("user-select","none");$("#"+thisClass.eid+"_txt").css("-webkit-user-select","none");$("#"+thisClass.eid+"_txt").css("-moz-user-select","none");var tmpBorderWidth=(thisClass.borderType[0]=="none")?0:thisClass.borderWidth[0];$("#"+thisClass.eid+"_txt").css("width",cwidth-(tmpBorderWidth*2));$("#"+thisClass.eid+"_txt").css("height",cheight-(tmpBorderWidth*2));$("#"+thisClass.eid+"_txt").css("line-height",(cheight-(tmpBorderWidth*2)).toString()+"px");var c1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var c2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){$("#"+thisClass.eid).css("background","linear-gradient("+c1+","+c2+")");}else{if(thisClass.fillType=="linear-horizontal"){$("#"+thisClass.eid).css("background","linear-gradient(90deg,"+c1+","+c2+")");}else{if(thisClass.fillType=="linear-diagonally"){$("#"+thisClass.eid).css("background","linear-gradient(45deg,"+c1+","+c2+")");}else{if(thisClass.fillType=="radial"){$("#"+thisClass.eid).css("background","radial-gradient("+c1+","+c2+")");}else{if(thisClass.fillType=="solid"){$("#"+thisClass.eid).css("background",c1);}else{$("#"+thisClass.eid).css("background","transparent");}}}}}$("#"+thisClass.eid).css("border",thisClass.borderType[0]+" "+thisClass.borderWidth[0].toString()+"px "+thisClass.borderColors[0]);$("#"+thisClass.eid).css("border-radius",thisClass.getMaxRadius(thisClass.borderRadius[0],thisClass.width,thisClass.height)+"px");$("#"+thisClass.eid).css("border-top",thisClass.borderType[1]+" "+thisClass.borderWidth[1].toString()+"px "+thisClass.borderColors[1]);$("#"+thisClass.eid).css("border-top-left-radius",thisClass.getMaxRadius(thisClass.borderRadius[1],thisClass.width,thisClass.height)+"px");$("#"+thisClass.eid).css("border-right",thisClass.borderType[2]+" "+thisClass.borderWidth[2].toString()+"px "+thisClass.borderColors[2]);$("#"+thisClass.eid).css("border-top-right-radius",thisClass.getMaxRadius(thisClass.borderRadius[2],thisClass.width,thisClass.height)+"px");$("#"+thisClass.eid).css("border-bottom",thisClass.borderType[3]+" "+thisClass.borderWidth[3].toString()+"px "+thisClass.borderColors[3]);$("#"+thisClass.eid).css("border-bottom-right-radius",thisClass.getMaxRadius(thisClass.borderRadius[3],thisClass.width,thisClass.height)+"px");$("#"+thisClass.eid).css("border-left",thisClass.borderType[4]+" "+thisClass.borderWidth[4].toString()+"px "+thisClass.borderColors[4]);$("#"+thisClass.eid).css("border-bottom-left-radius",thisClass.getMaxRadius(thisClass.borderRadius[4],thisClass.width,thisClass.height)+"px");MF_ComponentUtils.setComponentShadowCSS(thisClass.eid,thisClass.shadowType);var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);var htext=$("#"+thisClass.eid+"_txt").html(thisClass.text).text();htext=MF_ComponentUtils.getRefactoredText(htext);if(thisClass.icon!=null&&thisClass.icon!=""){if(thisClass.iconPlace=="right"){htext=htext+" <i style='vertical-align: top; line-height: inherit;  display: inline-block;' class='"+thisClass.icon+"' ></i>";}else{htext="<i style='vertical-align: top; line-height: inherit;  display: inline-block;' class='"+thisClass.icon+"' ></i> "+htext;}}$("#"+thisClass.eid+"_txt").html(htext);$("#"+thisClass.eid+"_txt").css("font-family",fontFamily);$("#"+thisClass.eid+"_txt").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"_txt").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"_txt").css("text-decoration",thisClass.textDecoration);$("#"+thisClass.eid+"_txt").css("font-size",thisClass.fontSize.toString()+"px");$("#"+thisClass.eid+"_txt").css("color",thisClass.fontColor);$("#"+thisClass.eid+"_txt").css("text-align",thisClass.textAlign);MF_Utils.rotate(thisClass.eid,thisClass.eangle);MF_ComponentUtils.applyCSS(thisClass);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_Button2Settings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.shadowSettings=null;thisClass.fontSettings=null;thisClass.iconSettings=null;thisClass.powerupSettings=null;thisClass.themeSettings=null;thisClass.cssSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();thisClass.fontSettings.remove();thisClass.iconSettings.remove();thisClass.powerupSettings.remove();thisClass.themeSettings.remove();thisClass.cssSettings.remove();}}catch(e){console.log("error occured in the component MF_Button2.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings4();thisClass.borderSettings.init(thisClass);thisClass.themeSettings=new MF_ThemeSettings();thisClass.themeSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.init(thisClass);thisClass.iconSettings=new MF_IconAssignSettings2();thisClass.iconSettings.init(thisClass);thisClass.powerupSettings=new MF_TextUtilitySettings();thisClass.powerupSettings.init(thisClass);thisClass.cssSettings=new MF_CSSSettings();thisClass.cssSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.iconSettings.init(thisClass);thisClass.powerupSettings.init(thisClass);thisClass.themeSettings.init(thisClass);thisClass.cssSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width: 250px; height: 1550px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Comp / Click Here to Edit
						</div>
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_theme"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_icon"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
						<div id="{{eid}}_powerup"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_css"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);if(mf_main.DESIGNMODE){$("#"+thisClass.eid+"_powerup").hide();}thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Hotspot(){var thisClass=this;thisClass.NAME="MF_Hotspot";thisClass.LABEL="Hotspot";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=100;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";thisClass.delta=0;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<canvas class='mfHotspotCmpCls mfWFCompCls' id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="pointer-events: none; -webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+"</canvas>";if(mfpage){$("#mfPage"+mfpage.eid).append(rectCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid)).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid).width(),$("#"+thisClass.eid).height());document.getElementById(thisClass.eid).width=$("#"+thisClass.eid).width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);document.getElementById(thisClass.eid).width=cwidth;document.getElementById(thisClass.eid).height=cheight;}var ctx_obj=(document.getElementById(thisClass.eid)).getContext("2d");ctx_obj.beginPath();ctx_obj.rect(thisClass.delta,thisClass.delta,thisClass.width,thisClass.height);ctx_obj.closePath();ctx_obj.fillStyle=MF_ComponentUtils.hexToRGB("#ff0000","0.5");ctx_obj.fill();MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_HotspotSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.showSetting=true;thisClass.RENDERDOM=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();}}catch(e){console.log("error occured in the component MF_Hotspot.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style="position: relative; display: none; width:250px; height: 450px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
					 
				
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Icon(){var thisClass=this;thisClass.NAME="MF_Icon";thisClass.LABEL="Icon";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.templateID="";thisClass.x=0;thisClass.y=0;thisClass.width=45;thisClass.height=45;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.fillColors=["#FFFFFF","#F0F0F0"];thisClass.fillAlpha=0;thisClass.fillType="solid";thisClass.shadowType="none";thisClass.borderColor="#000000";thisClass.borderWidth=1;thisClass.borderType="none";thisClass.borderShow=true;thisClass.iconThickness="normal";thisClass.fontColor="#444444";thisClass.fontSize=24;thisClass.fontClass="ico-back";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("borderShow",thisClass.borderShow,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("fontClass",thisClass.fontClass,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("iconThickness",thisClass.iconThickness,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderShow!=null){thisClass.borderShow=thisClass.e2xml.settings.properties.borderShow;}if(thisClass.e2xml.settings.properties.fontClass!=null){thisClass.fontClass=thisClass.e2xml.settings.properties.fontClass;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.iconThickness!=null){thisClass.iconThickness=thisClass.e2xml.settings.properties.iconThickness;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var iconCode="";var iconComponent="";var thickness=thisClass.borderWidth;if(thisClass.borderType=="none"){thickness=0;}thisClass.delta=(1*thickness)+5;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();iconCode=iconCode+"<div class='mfWFCompCls'  id=\""+thisClass.eid+'"  style="pointer-events: none; -webkit-transform: translateZ(0);   position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';iconCode=iconCode+'<canvas id="'+thisClass.eid+'_cvs" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+'px; top:0px; left:0px; " > ';iconCode=iconCode+"</canvas>";iconCode=iconCode+'<span id="'+thisClass.eid+'_txt"  style=" overflow: hidden; white-space: nowrap; text-align: center; font-weight: bold; -webkit-transform: translateZ(0);  position:absolute; width:'+(thisClass.width).toString()+"px; height:"+(thisClass.height).toString()+"px; line-height:"+(cheight).toString()+"px;  top:"+(thisClass.delta).toString()+"px; left:"+(thisClass.delta).toString()+'px;  " > ';iconCode=iconCode+"</span>";iconCode=iconCode+"</div>";if(mfpage){$("#mfPage"+mfpage.eid).append(iconCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(iconCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid+"_cvs").width(),$("#"+thisClass.eid+"_cvs").height());document.getElementById(thisClass.eid+"_cvs").width=$("#"+thisClass.eid+"_cvs").width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid+"_cvs").css("width",cwidth);$("#"+thisClass.eid+"_cvs").css("height",cheight);$("#"+thisClass.eid+"_txt").css("left",thisClass.delta);$("#"+thisClass.eid+"_txt").css("top",thisClass.delta);$("#"+thisClass.eid+"_txt").css("width",thisClass.width);$("#"+thisClass.eid+"_txt").css("height",thisClass.height);document.getElementById(thisClass.eid+"_cvs").width=cwidth;document.getElementById(thisClass.eid+"_cvs").height=cheight;}$("#"+thisClass.eid+"_txt").css("line-height",(thisClass.height).toString()+"px");var rad=thisClass.width;if(thisClass.height<thisClass.width){rad=thisClass.height;}if(rad<0){rad=1;}var ctx_Circle1=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_Circle1.translate(0.5,0.5);}var startx=cwidth/2;var starty=cheight/2;ctx_Circle1.save();MF_ComponentUtils.setComponentShadow(ctx_Circle1,thisClass.shadowType);ctx_Circle1.beginPath();ctx_Circle1.arc(startx,starty,rad/2,Math.PI*2,0,false);var defFillColor1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var defFillColor2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){var grad_Circle1=ctx_Circle1.createLinearGradient(0,0,0,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_Circle1.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-horizontal"){var grad_Circle1=ctx_Circle1.createLinearGradient(0,0,this.width,0);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_Circle1.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-diagonally"){var grad_Circle1=ctx_Circle1.createLinearGradient(0,0,this.width,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_Circle1.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="radial"){var grad_Circle1=ctx_Circle1.createRadialGradient(startx,starty,(rad/2)/2,startx,starty,rad/2);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_Circle1.fillStyle=grad_Circle1;}else{ctx_Circle1.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);}}}}ctx_Circle1.fill();ctx_Circle1.restore();ctx_Circle1.lineWidth=thisClass.borderWidth;if(thisClass.borderType=="dashed"){ctx_Circle1.setLineDash([thisClass.borderWidth*2,4]);}if(thisClass.borderType=="dotted"){ctx_Circle1.setLineDash([thisClass.borderWidth,2]);}if(thisClass.borderWidth>0&&thisClass.borderType!="none"){ctx_Circle1.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_Circle1.stroke();}$("#"+thisClass.eid+"_txt").css({"font-size":thisClass.fontSize+"px",color:thisClass.fontColor,"font-weight":thisClass.iconThickness});$("#"+thisClass.eid+"_txt").removeClass();$("#"+thisClass.eid+"_txt").addClass(thisClass.fontClass);MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_IconSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.linkSettings=null;thisClass.shadowSettings=null;thisClass.themeSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfIconFontSize_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfIconFontSize_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfIconBold_"+thisClass.eid).data("kendoDropDownList")){$("#mfIconBold_"+thisClass.eid).data("kendoDropDownList").destroy();}thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();thisClass.themeSettings.remove();}}catch(e){console.log("error occured in the component MF_Icon.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings2();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);thisClass.themeSettings=new MF_ThemeSettings();thisClass.themeSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.themeSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfSelectIconBtn_"+thisClass.eid).on("click",function(e){mf_main.editorController.disableShortcuts();mf_main.componentList.addIconMode=false;mf_main.editorController.showPopUp(e,$("#mfIconSelectionPopUp"));});$("#mfIconFontSize_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,min:8,max:500,decimals:0,spin:fontSizeChange});$("#mfIconFontSize_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfIconFontSize_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfIconFontColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){color=MF_Utils.RGBToHex(color.toRgbString());thisClass.component.e2xml.addPropSingle("fontColor",color);thisClass.component.render(false);}});$("#mfIconBold_"+thisClass.eid).kendoDropDownList({select:onIconBoldSelect,change:onIconBoldSelect});$("#mfIconFontSize_"+thisClass.eid).focus(function(){$("#mfIconFontSize_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",fontSizeChange);$("#mfIconFontSize_"+thisClass.eid).data("kendoNumericTextBox").bind("change",fontSizeChange);});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}function onIconBoldSelect(e){var iconBoldSelect=$("#mfIconBold_"+thisClass.eid).val();thisClass.component.e2xml.addPropSingle("iconThickness",iconBoldSelect);thisClass.component.render(false);}function fontSizeChange(){$("#mfIconFontSize_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",fontSizeChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var value=this.value();thisClass.component.e2xml.addPropSingle("fontSize",value);thisClass.component.render(false);}var fontSize=$("#mfIconFontSize_"+thisClass.eid).data("kendoNumericTextBox");var iconThickness=$("#mfIconBold_"+thisClass.eid).data("kendoDropDownList");iconThickness.value(thisClass.component.iconThickness);fontSize.value(thisClass.component.fontSize);$("#mfIconFontColor_"+thisClass.eid).spectrum("set",thisClass.component.fontColor);};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1250px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
					
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_theme"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Icon</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
										
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 210px;" >		
					
								
											<div id="mfSelectIconBtn_{{eid}}" class="mfImgLink btn mfSidebarBlueButton" type="submit" style="position: absolute; width: 220px; left: 10px; top: 15px; cursor: pointer;">
											Change Icon
											</div>
											
											<div style="position: absolute; left: 10px; top: 70px;">Icon Color:</div>
											<div style='position: absolute; left: 80px; top: 65px;' ><input style='width: 100px;' type='text' id='mfIconFontColor_{{eid}}' /></div>
											<div style="position: absolute; left: 10px; top: 115px;">Icon Size:</div>
											<div style='position: absolute; left: 80px; top: 110px;' ><input style='width: 100px;' type='text' id='mfIconFontSize_{{eid}}' value='12' /></div>
											
								            <div style="position: absolute; left: 10px; top: 155px;">Icon Bold:</div>
											
											 <select style="position: absolute; left: 80px; top: 150px; width: 100px;" id="mfIconBold_{{eid}}">
											 	<option value="normal">Normal</option>
											 	<option value="bold">Bold</option>
											 	<option value="900">Bolder</option>
											 </select>
								
								
								</div>
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					 
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Text(){var thisClass=this;thisClass.NAME="MF_Text";thisClass.LABEL="Text";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.AUTOSIZE=false;thisClass.USEFONT=true;thisClass.MULTILINE=true;thisClass.ANNOTATION=false;thisClass.EDITABLE=true;thisClass.HIDE=true;thisClass.USEPAGE=false;thisClass.RENDER_ON_MOVE=true;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.CSSCOMP=true;thisClass.x=0;thisClass.y=0;thisClass.width=200;thisClass.height=100;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.templateID="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.link="";thisClass.linkObj=null;thisClass.fontType="sourcesanspro";if(mf_main.DESIGNMODE){thisClass.text="Text";}else{thisClass.text="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc maximus, nulla ut commodo sagittis, sapien dui mattis dui, non pulvinar lorem felis nec erat";}thisClass.isGoogleFontUsed=false;thisClass.textAlign="left";thisClass.fontSize=14;thisClass.lineHeight=1;thisClass.charSpace=0;thisClass.padding=5;thisClass.fontColor="#333333";thisClass.fontWeight="normal";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.cssJson="";thisClass.cssClasses=["text_css"];thisClass.cssObj=null;thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("textAlign",thisClass.textAlign,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("charSpace",thisClass.charSpace,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("lineHeight",thisClass.lineHeight,"default");thisClass.e2xml.addPropSingle("padding",thisClass.padding,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.cssJson!=null){thisClass.cssJson=thisClass.e2xml.settings.properties.cssJson;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.textAlign!=null){thisClass.textAlign=thisClass.e2xml.settings.properties.textAlign;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.charSpace!=null){thisClass.charSpace=thisClass.e2xml.settings.properties.charSpace;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}if(thisClass.e2xml.settings.properties.lineHeight!=null){thisClass.lineHeight=thisClass.e2xml.settings.properties.lineHeight;}if(thisClass.e2xml.settings.properties.padding!=null){thisClass.padding=thisClass.e2xml.settings.properties.padding;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var textCode="";thisClass.delta=0;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);if(redraw){$("#"+thisClass.eid).remove();textCode=textCode+"<div class='mfWFCompCls mfWFTxtCls text_css_"+thisClass.eid+"'  id=\""+thisClass.eid+'"  style="line-height: normal; -webkit-transform: translateZ(0); padding: 0px; margin: 0px; word-wrap: break-word; color: #000000; font-family: \''+fontFamily+"'; position:absolute;  top:"+(ctop).toString()+"px; left:"+(cleft).toString()+"px; width:"+(cwidth).toString()+"px; height:"+(cheight).toString()+'px;  overflow: hidden;" > ';textCode=textCode+"</div>";if(mfpage){$("#mfPage"+mfpage.eid).append(textCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(textCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);}$("#"+thisClass.eid).css("user-select","none");$("#"+thisClass.eid).css("-webkit-user-select","none");$("#"+thisClass.eid).css("-moz-user-select","none");thisClass.text=thisClass.text.replace(/text-decoration-line:/g,"text-decoration:");$("#"+thisClass.eid).html(MF_Utils.htmlDecode(thisClass.text));$("#"+thisClass.eid).css("font-family",fontFamily);$("#"+thisClass.eid).css("text-align",thisClass.textAlign);$("#"+thisClass.eid).css("font-size",thisClass.fontSize);if(thisClass.charSpace==0||thisClass.charSpace=="0"){$("#"+thisClass.eid).css("letter-spacing","normal");}else{$("#"+thisClass.eid).css("letter-spacing",thisClass.charSpace);}$("#"+thisClass.eid).css("line-height",thisClass.lineHeight);$("#"+thisClass.eid).css("padding",thisClass.padding);$("#"+thisClass.eid).css("color",thisClass.fontColor);$("#"+thisClass.eid+"").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"").css("text-decoration",thisClass.textDecoration);MF_Utils.rotate(thisClass.eid,thisClass.eangle);MF_ComponentUtils.applyCSS(thisClass);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_TextSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.showSetting=true;thisClass.RENDERDOM=true;thisClass.transformSettings=null;thisClass.fontSettings=null;thisClass.linkSettings=null;thisClass.powerupSettings=null;thisClass.cssSettings=null;thisClass.themeSettings=null;thisClass.lineHeightBox=null;thisClass.paddingBox=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#MF_FontLetterSpace_"+thisClass.eid).data("kendoNumericTextBox")){$("#MF_FontLetterSpace_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").destroy();}thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.fontSettings.remove();thisClass.powerupSettings.remove();thisClass.cssSettings.remove();thisClass.themeSettings.remove();}}catch(e){console.log("error occured in the component MF_Text.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.init(thisClass);thisClass.themeSettings=new MF_ThemeSettings();thisClass.themeSettings.init(thisClass);thisClass.powerupSettings=new MF_TextUtilitySettings();thisClass.powerupSettings.init(thisClass);thisClass.cssSettings=new MF_CSSSettings();thisClass.cssSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.powerupSettings.init(thisClass);thisClass.cssSettings.init(thisClass);thisClass.themeSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfGenerateLorem_"+thisClass.eid).on("click",function(event){mf_main.editorController.stopEditingText();var txt=thisClass.component.text;var txt2=txt+" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc maximus, nulla ut commodo sagittis, sapien dui mattis dui, non pulvinar lorem felis nec erat. Aliquam egestas, velit at condimentum placerat, sem sapien laoreet mauris, dictum porttitor lacus est nec enim. Vivamus feugiat elit lorem, eu porttitor ante ultrices id. Phasellus suscipit tellus ante, nec dignissim elit imperdiet nec. Nullam fringilla feugiat nisl. Ut pretium, metus venenatis dictum viverra, dui metus finibus enim, ac rhoncus sem lorem vitae mauris. Suspendisse ut venenatis libero. Suspendisse lorem felis, pretium in maximus id, tempor non ipsum";thisClass.component.e2xml.addPropSingle("text",txt2);thisClass.component.render(false);});$("#mfFillWithAI_"+thisClass.eid).on("click",function(event){mf_main.editorController.openNavBarContent("mfNavAIToolsBtn");mf_main.editorController.aiToolsController.openAIText();});$("#mfLineHeight_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfLineHeight_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfLineHeight_"+thisClass.eid).kendoNumericTextBox({spinners:true,spin:onLineHeightChange});$("#mfLineHeight_"+thisClass.eid).focus(function(){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onLineHeightChange);$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onLineHeightChange);});$("#MF_FontLetterSpace_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#MF_FontLetterSpace_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#MF_FontLetterSpace_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:onFontLetterSpaceChange,decimals:0});$("#MF_FontLetterSpace_"+thisClass.eid).focus(function(){$("#MF_FontLetterSpace_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onFontLetterSpaceChange);$("#MF_FontLetterSpace_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onFontLetterSpaceChange);});$("#mfPadding_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfPadding_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfPadding_"+thisClass.eid).kendoNumericTextBox({format:"#",decimals:0,spinners:true,spin:onPaddingChange});$("#mfPadding_"+thisClass.eid).focus(function(){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onPaddingChange);$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onPaddingChange);});if(mf_main.INTEGRATION){$("#mfFillWithAI_"+thisClass.eid).hide();}}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}function onLineHeightChange(){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onLineHeightChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}mf_main.editorController.stopEditingText();var w=this.value();var cjson=MF_ComponentUtils.updateCSS(thisClass.component,["line-height"]);if(cjson!=""){MF_ComponentUtils.applyCSSPropSingle(thisClass,"lineHeight",w,cjson);}else{thisClass.component.e2xml.addPropSingle("lineHeight",w);thisClass.component.render(false);}}thisClass.lineHeightBox=$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox");thisClass.lineHeightBox.value(parseFloat(thisClass.component.lineHeight));function onFontLetterSpaceChange(){$("#MF_FontLetterSpace_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onFontLetterSpaceChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var letterspace=this.value();mf_main.editorController.stopEditingText();var cjson=MF_ComponentUtils.updateCSS(thisClass.component,["letter-spacing"]);if(cjson!=""){MF_ComponentUtils.applyCSSPropSingle(thisClass,"charSpace",letterspace,cjson);}else{thisClass.component.e2xml.addPropSingle("charSpace",letterspace);thisClass.component.render(false);}if(thisClass.component&&thisClass.component.NAME=="MF_Text"){var stext=thisClass.component.text;stext=stext.replace(/(letter-spacing:) \d+(px)/g,"letter-spacing: "+letterspace+"px ");thisClass.component.e2xml.addPropSingle("text",stext,"default");thisClass.component.render(false);}}var fontLetterSpaceBox=$("#MF_FontLetterSpace_"+thisClass.eid).data("kendoNumericTextBox");fontLetterSpaceBox.value(thisClass.component.charSpace);function onPaddingChange(){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onPaddingChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}mf_main.editorController.stopEditingText();var w=this.value();var cjson=MF_ComponentUtils.updateCSS(thisClass.component,["padding"]);if(cjson!=""){MF_ComponentUtils.applyCSSPropSingle(thisClass,"padding",w,cjson);}else{thisClass.component.e2xml.addPropSingle("padding",w);thisClass.component.render(false);}}thisClass.paddingBox=$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox");thisClass.paddingBox.value(parseFloat(thisClass.component.padding));};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style="position: relative; display: none; width:250px; height: 1150px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
					 
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Comp / Click Here to Edit
						</div>
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_theme"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
					
						</div>
						
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Settings</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
										
								<div id="{{eid}}_partSetting" style="overflow: hidden;position: relative;width:100%;height: 100%;padding: 10px 0;" >		
					
								
									<div id="mfFillWithAI_{{eid}}" style="width: 220px;font-weight: normal;margin: 15px auto;display: flex;justify-content: center;align-items: center;" class="btn mfSidebarBlueButton mfSidebarPurpleButton" type="submit">Generate Text with AI</div>

									<div id="mfGenerateLorem_{{eid}}" style="width: 220px;font-weight: normal;margin: 15px auto;display: flex;justify-content: center;align-items: center;" class="btn mfSidebarBlueButton" type="submit">Generate Lorem Ipsum</div>
									
									
									  <div class="mfTextSettingWrapper"> 
									  	<div class="mfTextSettingLabel">Line Height:</div>
										<div><input style="width: 70px;" id="mfLineHeight_{{eid}}" type="number" value="0" min="0" max="1000" step="0.1" /></div>
									  </div>
									
									
									<div class="mfTextSettingWrapper">
										<div class="mfTextSettingLabel" style="">Padding:</div>
										<div><input style="width: 70px;" id="mfPadding_{{eid}}" type="number" value="0" min="0" max="1000" step="1" /></div>
									</div>
									 
										
										<div class="mfTextSettingWrapper">
											<div class="mfTextSettingLabel" style="">Letter Spacing:</div>
											<div><input style="width: 70px;"  id="MF_FontLetterSpace_{{eid}}" type="number" value="1" min="-10" max="100" step="1" /> px</div>
										</div>
										
									 



								
								
								</div>
								
								<div id="{{eid}}_powerup"  style="overflow: hidden; width:100%; " >
							
								</div>
								
								<div id="{{eid}}_css"  style="overflow: hidden; width:100%; " >
							
								</div>
						</div>
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);if(mf_main.DESIGNMODE){$("#mfGenerateLorem_"+thisClass.eid).hide();$("#"+thisClass.eid+"_powerup").hide();}thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Draw(){var thisClass=this;thisClass.NAME="MF_Draw";thisClass.LABEL="Drawing";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=true;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.POINTSELECT=false;thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=100;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.shadowType="none";thisClass.maintainSize=false;thisClass.opacity=1;thisClass.dataUrl="";thisClass.originalEsize=null;thisClass.imgLoaded=false;thisClass.colorEnabled=false;thisClass.rgb="0,0,0";thisClass.flip=false;thisClass.tempFile=null;thisClass.tempURL=false;thisClass.tempSizeSet=true;thisClass.img=null;thisClass.canvasDraw=false;thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.setImgLoaded=function(val){thisClass.imgLoaded=val;if(mf_main.RENDER){mf_main.editorController.checkLoaded();}};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropSingle("opacity",thisClass.opacity,"default");thisClass.e2xml.addPropSingle("maintainSize",thisClass.maintainSize,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("dataUrl",thisClass.dataUrl,"default");thisClass.e2xml.addPropObject("originalEsize",thisClass.originalEsize,"default");thisClass.e2xml.addPropSingle("colorEnabled",thisClass.colorEnabled,"default");thisClass.e2xml.addPropSingle("rgb",thisClass.rgb,"default");thisClass.e2xml.addPropSingle("flip",thisClass.flip,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.colorEnabled!=null){thisClass.colorEnabled=thisClass.e2xml.settings.properties.colorEnabled;}if(thisClass.e2xml.settings.properties.rgb!=null){thisClass.rgb=thisClass.e2xml.settings.properties.rgb;}if(thisClass.e2xml.settings.properties.flip!=null){thisClass.flip=thisClass.e2xml.settings.properties.flip;}if(thisClass.e2xml.settings.properties.opacity!=null){thisClass.opacity=thisClass.e2xml.settings.properties.opacity;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.maintainSize!=null){thisClass.maintainSize=thisClass.e2xml.settings.properties.maintainSize;}if(thisClass.e2xml.settings.properties.dataUrl!=null){thisClass.dataUrl=thisClass.e2xml.settings.properties.dataUrl;}if(thisClass.e2xml.settings.properties.originalEsize!=null){thisClass.originalEsize=thisClass.e2xml.settings.properties.originalEsize;}};thisClass.imageDraw=function(cwidth,cheight){if(thisClass.img){var newwidth=cwidth;var newheight=cheight;if(thisClass.maintainSize){var maxWidth=cwidth;var maxHeight=cheight;var srcWidth=thisClass.originalEsize.width;var srcHeight=thisClass.originalEsize.height;var ratioarr=[maxWidth/srcWidth,maxHeight/srcHeight];ratioarr=Math.min(ratioarr[0],ratioarr[1]);newwidth=srcWidth*ratioarr;newheight=srcHeight*ratioarr;}var canv=document.getElementById(thisClass.eid+"");var ctx=canv.getContext("2d");canv.width=cwidth;canv.height=cheight;ctx.imageSmoothingEnabled=true;ctx.mozImageSmoothingEnabled=true;ctx.msImageSmoothingEnabled=true;if(thisClass.flip){ctx.translate(cwidth,thisClass.delta);ctx.scale(-1,1);}if(thisClass.img!=null){ctx.drawImage(thisClass.img,(cwidth/2)-(newwidth/2),thisClass.delta,newwidth,newheight);if(thisClass.colorEnabled){var rgbArr=thisClass.rgb.split(",");var imgPixels=ctx.getImageData(thisClass.delta,thisClass.delta,cwidth,cheight);for(var y=0;y<imgPixels.height;y++){for(var x=0;x<imgPixels.width;x++){var i=(y*4)*imgPixels.width+x*4;var avg=(imgPixels.data[i]+imgPixels.data[i+1]+imgPixels.data[i+2])/3;imgPixels.data[i]=rgbArr[0];imgPixels.data[i+1]=rgbArr[1];imgPixels.data[i+2]=rgbArr[2];}}ctx.putImageData(imgPixels,thisClass.delta,thisClass.delta,thisClass.delta,thisClass.delta,imgPixels.width,imgPixels.height);}}}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}if(thisClass.originalEsize==null){thisClass.originalEsize=new Object();thisClass.originalEsize.width=100;thisClass.originalEsize.height=100;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();thisClass.delta=(1*1)+5;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(thisClass.dataUrl!=""){thisClass.delta=0;cwidth=thisClass.width;cheight=thisClass.height;ctop=thisClass.y;cleft=thisClass.x;}var imgCode="";if(redraw){$("#"+thisClass.eid).remove();var imgurl=thisClass.dataUrl;thisClass.canvasDraw=true;var aurl=imgurl;imgCode=imgCode+"<canvas class='mfWFCompCls' id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style=" -webkit-transform: translateZ(0);  pointer-events: none;   position:absolute; text-align: center;width:'+cwidth.toString()+"px; height:"+cheight.toString()+"px; position: absolute;  top:"+ctop.toString()+"px; left:"+cleft.toString()+'px; " > ';imgCode=imgCode+"</canvas>";if(mfpage){$("#mfPage"+mfpage.eid).append(imgCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(imgCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}if(thisClass.canvasDraw){$("#"+thisClass.eid+"").show();$("#"+thisClass.eid).css("opacity",thisClass.opacity);var newwidth=thisClass.width;var newheight=thisClass.height;if(thisClass.maintainSize){var maxWidth=thisClass.width;var maxHeight=thisClass.height;var srcWidth=thisClass.originalEsize.width;var srcHeight=thisClass.originalEsize.height;var ratioarr=[maxWidth/srcWidth,maxHeight/srcHeight];ratioarr=Math.min(ratioarr[0],ratioarr[1]);newwidth=srcWidth*ratioarr;newheight=srcHeight*ratioarr;}var canv=document.getElementById(thisClass.eid+"");var ctx=canv.getContext("2d");canv.width=thisClass.width;canv.height=thisClass.height;ctx.imageSmoothingEnabled=true;ctx.mozImageSmoothingEnabled=true;ctx.msImageSmoothingEnabled=true;var img=new Image();img.onload=function(){thisClass.img=img;if(thisClass.tempFile){thisClass.originalWidth=thisClass.img.width;thisClass.originalHeight=thisClass.img.height;cwidth=thisClass.img.width;cheight=thisClass.img.height;}thisClass.img.crossOrigin="Anonymous";thisClass.setImgLoaded(true);thisClass.imageDraw(cwidth,cheight);};img.onerror=function(){thisClass.setImgLoaded(true);};img.src=imgurl;}}else{if(thisClass.canvasDraw){$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid).css("opacity",thisClass.opacity);var canv=document.getElementById(thisClass.eid+"");var ctx=canv.getContext("2d");if(ctx){ctx.clearRect(0,0,$("#"+thisClass.eid+"").width(),$("#"+thisClass.eid+"").height());}document.getElementById(thisClass.eid+"").width=$("#"+thisClass.eid+"").width();$("#"+thisClass.eid+"").css("width",cwidth);$("#"+thisClass.eid+"").css("height",cheight);document.getElementById(thisClass.eid+"").width=cwidth;document.getElementById(thisClass.eid+"").height=cheight;$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid+"").css("opacity",thisClass.opacity);thisClass.imageDraw(cwidth,cheight);}}MF_ComponentUtils.setComponentShadowImageCSS(thisClass.eid,thisClass.shadowType);MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}if(thisClass.eangle==0){if(thisClass.selector){$("#"+thisClass.selector.id).css("pointer-events","none");}thisClass.POINTSELECT=true;}else{if(thisClass.selector){$("#"+thisClass.selector.id).css("pointer-events","auto");}thisClass.POINTSELECT=false;}};}function MF_DrawSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.shadowSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfFillOpacity"+thisClass.eid).data("kendoSlider")){$("#mfFillOpacity"+thisClass.eid).data("kendoSlider").destroy();}thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.shadowSettings.remove();}}catch(e){console.log("error occured in the component MF_Draw.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}$("#mfRevert"+thisClass.eid).show();$(".mfImgPropCls"+thisClass.eid).show();};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfFillOpacity"+thisClass.eid).kendoSlider({showButtons:false,change:alphaSliderOnSlide,tickPlacement:"none",min:0,max:1,smallStep:0.1,largeStep:0.1,tooltip:{enabled:false}}).data("kendoSlider");$("#aspectToggleBtn_"+thisClass.eid).click(toggleSelectionAspect);$("#flipToggleBtn_"+thisClass.eid).click(toggleSelectionFlip);$("#colorToggleBtn_"+thisClass.eid).click(toggleSelectionColor);$("#mfRevert"+thisClass.eid).on("click",function(){var szObject=new Object();szObject.width=thisClass.component.originalEsize.width;szObject.height=thisClass.component.originalEsize.height;thisClass.component.e2xml.addPropObject("esize",szObject);thisClass.component.render(true);mf_main.editorController.reStackComponents();mf_main.editorController.addSelectorResize(thisClass.component.selector);thisClass.updateTransform(true);if(mf_main.editorController.currentGroupEdit!=null){mf_main.editorController.page.groupManager.resetParentSelectorGroups(mf_main.editorController.currentGroupEdit);}});$("#mfImgColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){var rgbStr=color.toRgbString();var digits=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(rgbStr);var red=parseInt(digits[2]);var green=parseInt(digits[3]);var blue=parseInt(digits[4]);thisClass.component.e2xml.addPropSingle("rgb",red+","+green+","+blue);thisClass.component.render(true);mf_main.editorController.reStackComponents();}});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}var aslider=$("#mfFillOpacity"+thisClass.eid).data("kendoSlider");aslider.value(thisClass.component.opacity);function alphaSliderOnSlide(e){thisClass.component.e2xml.addPropSingle("opacity",e.value);thisClass.component.render(true);mf_main.editorController.reStackComponents();}$("#aspectToggleBtn_"+thisClass.eid).prop("checked",thisClass.component.maintainSize);function toggleSelectionAspect(e){var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("maintainSize",true);}else{thisClass.component.e2xml.addPropSingle("maintainSize",false);}thisClass.component.render(true);mf_main.editorController.reStackComponents();}$("#flipToggleBtn_"+thisClass.eid).prop("checked",thisClass.component.flip);function toggleSelectionFlip(e){var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("flip",true);}else{thisClass.component.e2xml.addPropSingle("flip",false);}thisClass.component.render(true);mf_main.editorController.reStackComponents();}$("#colorToggleBtn_"+thisClass.eid).prop("checked",thisClass.component.colorEnabled);function toggleSelectionColor(e){var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("colorEnabled",true);$("#mfImgColorDiv_"+thisClass.eid).show();}else{thisClass.component.e2xml.addPropSingle("colorEnabled",false);$("#mfImgColorDiv_"+thisClass.eid).hide();}thisClass.component.render(true);mf_main.editorController.reStackComponents();}var rgbArr=thisClass.component.rgb.split(",");$("#mfImgColor_"+thisClass.eid).spectrum("set","#"+MF_Utils.toHex(rgbArr[0])+MF_Utils.toHex(rgbArr[1])+MF_Utils.toHex(rgbArr[2]));if(thisClass.component.colorEnabled){$("#mfImgColorDiv_"+thisClass.eid).show();}else{$("#mfImgColorDiv_"+thisClass.eid).hide();}};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 900px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
				
						
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							 
						</div>
						
						<div id="{{eid}}_imagesettings"  style="overflow: hidden; width:100%; " >
							
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
										<div style="float: left; width: 185px; padding-left: 5px;">Drawing</div>
										
										<div style="float: left; width: 50px; text-align: right;">
											<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
											<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
										</div>
								</div>
											
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 230px;" >		
					
									<div class='mfImgPropCls{{eid}}' >
										<div  style="position: absolute; left: 10px; top: 10px;">Maintain Size Ratio:</div>

										
										 <div class="checkbox" style="position: absolute; top: 25px; left: 30px;">
									    	<input  type="checkbox" checked=true id="aspectToggleBtn_{{eid}}" class="tgl tgl-ios" value="">
									    	<label class='tgl-btn' for='aspectToggleBtn_{{eid}}'></label>
									  	</div>
										
										<div style="position: absolute; left: 140px; top: 10px;">Flip:</div>

										<div class="checkbox" style="position: absolute; top: 25px; left: 160px;">
									    	<input  type="checkbox" checked=true id="flipToggleBtn_{{eid}}" class="tgl tgl-ios" value="">
									    	<label class='tgl-btn' for='flipToggleBtn_{{eid}}'></label>
									  	</div>
									  	
									
										<div style="position: absolute; left: 10px; top: 80px;">Enable Color:</div>

										<div class="checkbox" style="position: absolute; top: 95px; left: 30px;">
									    	<input  type="checkbox" checked=true id="colorToggleBtn_{{eid}}" class="tgl tgl-ios" value="">
									    	<label class='tgl-btn' for='colorToggleBtn_{{eid}}'></label>
									  	</div>
									  	
									
									   	<div  id='mfImgColorDiv_{{eid}}' style='position: absolute; left: 70px; top: 105px;' ><input  id='mfImgColor_{{eid}}' style='width: 100px;' type='text'  /></div>
	
									</div>
			
			
										<div  id="mfOpacityLbl_{{eid}}" style="position: absolute; left: 150px; top: 80px;">Opacity:</div>
											<div  id="mfOpacityWrapper_{{eid}}" style="position: absolute; height: 25px; font-size: 11px;  width: 100px; left: 150px; top: 105px;">
											<input id="mfFillOpacity{{eid}}" style="width: 70px;" class="balSlider" value="0" />
											
										</div>
								
										<a style="position: absolute; left: 10px; top: 170px; width: 220px;" class="btn mfSidebarBlueButton" id="mfRevert{{eid}}" >Revert to Original Size</a>
								

								</div>
						</div>
						
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Note(){var thisClass=this;thisClass.NAME="MF_Note";thisClass.LABEL="Note";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=true;thisClass.MULTILINE=true;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.MAX_BORDER=2;thisClass.CANNOT_ROTATE=true;this.redrawArrow=false;thisClass.x=0;thisClass.y=0;thisClass.width=180;thisClass.height=200;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.fillColors=["#F3F36B","#F3F36B"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.textPadding=10;thisClass.borderColor="#000000";thisClass.borderWidth=1;thisClass.borderType="none";thisClass.borderRadius=0;thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.text="";thisClass.fontSize=12;thisClass.fontColor="#444444";thisClass.textAlign="left";thisClass.fontWeight="normal";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.lineHeight=1;thisClass.notePointer="";var startPos=new Object();var draggedPos=new Object();var dstart=false;var leftButtonDown=false;thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("textPadding",thisClass.textPadding,"default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("borderRadius",thisClass.borderRadius,"default");thisClass.e2xml.addPropSingle("lineHeight",thisClass.lineHeight,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("textAlign",thisClass.textAlign,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");thisClass.e2xml.addPropSingle("notePointer",thisClass.notePointer,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.notePointer!=null){thisClass.notePointer=thisClass.e2xml.settings.properties.notePointer;}if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.textPadding!=null){thisClass.textPadding=thisClass.e2xml.settings.properties.textPadding;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.lineHeight!=null){thisClass.lineHeight=thisClass.e2xml.settings.properties.lineHeight;}if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderRadius!=null){thisClass.borderRadius=thisClass.e2xml.settings.properties.borderRadius;}if(thisClass.e2xml.settings.properties.textAlign!=null){thisClass.textAlign=thisClass.e2xml.settings.properties.textAlign;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=parseInt(thisClass.borderWidth);if(thisClass.borderType=="none"){thickness=0;}thisClass.delta=(1*thickness)+5;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<div class='mfWFCompCls mfWFNoteCls'  id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0); position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+'<canvas id="'+thisClass.eid+'_arrowcvs"  style="display: none; position: absolute; top: 0px; left: 0px; width: 200px; height: 200px; pointer-events: none;" >';rectCode=rectCode+"</canvas>";rectCode=rectCode+'<canvas id="'+thisClass.eid+'_cvs" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+'px; top:0px; left:0px; " > ';rectCode=rectCode+"</canvas>";rectCode=rectCode+'<span id="'+thisClass.eid+'_txt"  style="padding: 5px; word-wrap: break-word;  line-height: normal;   overflow: hidden;  text-align: center; font-weight: bold; -webkit-transform: translateZ(0);  position:absolute; width:'+(thisClass.width).toString()+"px; height:"+(thisClass.height).toString()+"px;   top:"+(thisClass.delta).toString()+"px; left:"+(thisClass.delta).toString()+'px;  " > ';rectCode=rectCode+"</span>";rectCode=rectCode+"<span class='mfNoteArrowCls' id=\""+thisClass.eid+'_leftarrow"  style="opacity: 0.8; padding: 5px;   overflow: hidden;  text-align: center; font-weight: bold; -webkit-transform: translateZ(0); color: #ff0000;  position:absolute; width: 32px; height: 32px;  top:'+(thisClass.delta).toString()+"px; left:"+(thisClass.delta).toString()+"px;  \" ><i style='opacity: 0.5;' class='fa fa-arrow-left'></i> ";rectCode=rectCode+"</span>";rectCode=rectCode+"<span class='mfNoteArrowCls' id=\""+thisClass.eid+'_rightarrow"  style="opacity: 0.8; padding: 5px;   overflow: hidden;  text-align: center; font-weight: bold; -webkit-transform: translateZ(0); color: #ff0000;  position:absolute; width: 32px; height: 32px;  top:'+(thisClass.delta).toString()+"px; left:"+(thisClass.delta).toString()+"px;  \" ><i style='opacity: 0.5;' class='fa fa-arrow-right'></i> ";rectCode=rectCode+"</span>";rectCode=rectCode+"</div>";if(mfpage){$("#mfPage"+mfpage.eid).append(rectCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}$("#"+thisClass.eid+"_rightarrow").on("mousedown",function(e){if(e.which===1){thisClass.leftButtonDown=true;$("#"+thisClass.eid+"_arrowcvs").hide();$("#"+thisClass.eid+"_arrowcvs").width(0);$("#"+thisClass.eid+"_arrowcvs").height(0);mf_main.editorController.commentController.setNoteArrow(e.pageX,e.pageY,thisClass.eid+"_arrowcvs",thisClass,"right");}});$("#"+thisClass.eid+"_leftarrow").on("mousedown",function(e){if(e.which===1){thisClass.leftButtonDown=true;$("#"+thisClass.eid+"_arrowcvs").hide();$("#"+thisClass.eid+"_arrowcvs").width(0);$("#"+thisClass.eid+"_arrowcvs").height(0);mf_main.editorController.commentController.setNoteArrow(e.pageX,e.pageY,thisClass.eid+"_arrowcvs",thisClass,"left");}});$("#"+thisClass.eid+"_leftarrow","#"+thisClass.eid+"_rightarrow").bind("dragstart",function(event){event.preventDefault();});}else{var ctx_cvs=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid+"_cvs").width(),$("#"+thisClass.eid+"_cvs").height());document.getElementById(thisClass.eid+"_cvs").width=$("#"+thisClass.eid+"_cvs").width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid+"_cvs").css("width",cwidth);$("#"+thisClass.eid+"_cvs").css("height",cheight);$("#"+thisClass.eid+"_txt").css("left",thisClass.delta);$("#"+thisClass.eid+"_txt").css("top",thisClass.delta);$("#"+thisClass.eid+"_txt").css("width",thisClass.width);$("#"+thisClass.eid+"_txt").css("height",thisClass.height);document.getElementById(thisClass.eid+"_cvs").width=cwidth;document.getElementById(thisClass.eid+"_cvs").height=cheight;}$("#"+thisClass.eid+"_leftarrow").css("left",-20);$("#"+thisClass.eid+"_leftarrow").css("top",(thisClass.height/2)-8);$("#"+thisClass.eid+"_rightarrow").css("left",thisClass.width);$("#"+thisClass.eid+"_rightarrow").css("top",(thisClass.height/2)-8);$("#"+thisClass.eid+"_txt").css("user-select","none");$("#"+thisClass.eid+"_txt").css("-webkit-user-select","none");$("#"+thisClass.eid+"_txt").css("-moz-user-select","none");var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);var htext=thisClass.text;htext=MF_ComponentUtils.getRefactoredText(htext);htext=htext.replace(/\n/g,"<br/>");$("#"+thisClass.eid+"_txt").html(htext);$("#"+thisClass.eid+"_txt").css("font-family",fontFamily);$("#"+thisClass.eid+"_txt").css("padding",thisClass.textPadding);$("#"+thisClass.eid+"_txt").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"_txt").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"_txt").css("text-decoration",thisClass.textDecoration);$("#"+thisClass.eid+"_txt").css("font-size",thisClass.fontSize.toString()+"px");$("#"+thisClass.eid+"_txt").css("line-height",thisClass.lineHeight);$("#"+thisClass.eid+"_txt").css("color",thisClass.fontColor);$("#"+thisClass.eid+"_txt").css("text-align",thisClass.textAlign);var rad=thisClass.width;if(thisClass.height<thisClass.width){rad=thisClass.height;}var ctx_obj=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_obj.translate(0.5,0.5);}var startx=cwidth/2;var starty=cheight/2;ctx_obj.shadowOffsetX=2;ctx_obj.shadowOffsetY=2;ctx_obj.shadowBlur=10;ctx_obj.shadowColor="rgba(0, 0, 0, 0.6)";ctx_obj.beginPath();if(thisClass.borderRadius==0){ctx_obj.rect(thisClass.delta,thisClass.delta,thisClass.width,thisClass.height);}else{roundedRect2(ctx_obj,thisClass.delta,thisClass.delta,thisClass.width,thisClass.height,thisClass.borderRadius);}ctx_obj.closePath();var defFillColor1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var defFillColor2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,0,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-horizontal"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,0);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-diagonally"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="radial"){var grad_Circle1=ctx_obj.createRadialGradient(startx,starty,(rad/2)/2,startx,starty,rad/2);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{ctx_obj.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);}}}}ctx_obj.fill();ctx_obj.lineWidth=thickness;if(thisClass.borderType=="dashed"){ctx_obj.setLineDash([thickness*2,4]);}if(thisClass.borderType=="dotted"){ctx_obj.setLineDash([thickness,2]);}if(thisClass.borderType!="none"&&thickness!=0){ctx_obj.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_obj.stroke();}if(thisClass.notePointer!=""){var notearr=thisClass.notePointer.split(",");if(notearr.length==3){var notepoint=thisClass.eid+"_leftarrow";var direction="left";if(notearr[2]=="right"){notepoint=thisClass.eid+"_rightarrow";direction="right";}mf_main.editorController.commentController.placeNoteAnnotation(notepoint,thisClass.eid+"_arrowcvs",direction,notearr[0],notearr[1],thisClass);}else{$("#"+thisClass.eid+"_arrowcvs").hide();}}else{$("#"+thisClass.eid+"_arrowcvs").hide();}MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_NoteSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.fontSettings=null;thisClass.powerupSettings=null;thisClass.themeSettings=null;thisClass.lineHeightBox=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").destroy();}thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.fontSettings.remove();thisClass.powerupSettings.remove();thisClass.themeSettings.remove();}}catch(e){console.log("error occured in the component MF_Note.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings3();thisClass.borderSettings.init(thisClass);thisClass.themeSettings=new MF_ThemeSettings();thisClass.themeSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.init(thisClass);thisClass.powerupSettings=new MF_TextUtilitySettings();thisClass.powerupSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.themeSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.powerupSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfPadding_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfPadding_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfPadding_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:onWidthChange,decimals:0});$("#mfPadding_"+thisClass.eid).focus(function(){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onWidthChange);$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onWidthChange);});$("#mfLineHeight_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfLineHeight_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfLineHeight_"+thisClass.eid).kendoNumericTextBox({spinners:true,spin:onLineHeightChange});$("#mfLineHeight_"+thisClass.eid).focus(function(){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onLineHeightChange);$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onLineHeightChange);});$("#mfResetArrow"+thisClass.eid).on("click",function(){thisClass.component.e2xml.addPropSingle("notePointer","");thisClass.component.render(false);});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}function onWidthChange(){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onWidthChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();thisClass.component.e2xml.addPropSingle("textPadding",w);thisClass.component.render(false);}thisClass.textPaddingBox=$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox");thisClass.textPaddingBox.value(thisClass.component.textPadding);function onLineHeightChange(){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onLineHeightChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();thisClass.component.e2xml.addPropSingle("lineHeight",w);thisClass.component.render(false);}thisClass.lineHeightBox=$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox");thisClass.lineHeightBox.value(parseFloat(thisClass.component.lineHeight));};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1400px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Component to edit Note
						</div>
						
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_theme"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Settings</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
										
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 240px;" >		
					
					
									<div  style="position: absolute; left: 10px; top: 25px;">
									Drag arrows on either <i style='color: #ff0000;' class='fa fa-arrow-left'></i> side <i style='color: #ff0000;' class='fa fa-arrow-right'></i> of the Note component to reference design
									<br/><br/>
									<a style=" width: 220px;" class="btn mfSidebarBlueButton" id="mfResetArrow{{eid}}" >Reset Arrows</a>

									
									</div>
									  
									  <div style="position: absolute; left: 10px; top: 145px;">Text Padding:</div>
									<div style="position: absolute; left: 100px; top: 140px;"><input style="width: 70px;" id="mfPadding_{{eid}}" type="number" value="0" min="0" max="10000000" step="1" /></div>

										 <div style="position: absolute; left: 10px; top: 195px;">Line Height:</div>
									<div style="position: absolute; left: 100px; top: 190px;"><input style="width: 70px;" id="mfLineHeight_{{eid}}" type="number" value="0" min="0" max="1000" step="0.1" /></div>

								</div>
						</div>
						
					
						<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_powerup"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Callout(){var thisClass=this;thisClass.NAME="MF_Callout";thisClass.LABEL="Callout";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=true;thisClass.MULTILINE=true;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.INTERACTIVE=true;thisClass.x=0;thisClass.y=0;thisClass.width=30;thisClass.height=30;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.fillColors=["#FFEB3B","#FFEB3B"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.shadowType="none";thisClass.borderColor="#000000";thisClass.borderWidth=1;thisClass.borderType="solid";thisClass.borderShow=true;thisClass.text="1\nEnter your message here to show on MouseOver in Review mode";thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.fontSize=12;thisClass.fontColor="#000000";thisClass.fontWeight="bold";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("borderShow",thisClass.borderShow,"default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderShow!=null){thisClass.borderShow=thisClass.e2xml.settings.properties.borderShow;}if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=parseInt(thisClass.borderWidth);if(thisClass.borderType=="none"){thickness=0;}thisClass.delta=(1*thickness)+5;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<div class='mfCalloutCls mfWFCompCls' data-placement='auto' data-html='true' data-toggle='tooltip' title=''  id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="pointer-events: none;  -webkit-transform: translateZ(0);  overflow: hidden; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+'<canvas id="'+thisClass.eid+'_cvs" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+'px; top:0px; left:0px; " > ';rectCode=rectCode+"</canvas>";rectCode=rectCode+'<span id="'+thisClass.eid+'_txt" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="overflow: hidden; white-space: nowrap; text-align: center; font-weight: bold; -webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; line-height:"+(cheight).toString()+'px;  top:0px; left:0px; " > ';rectCode=rectCode+"</span>";rectCode=rectCode+"</div>";if(mfpage){$("#mfPage"+mfpage.eid).append(rectCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid+"_cvs").width(),$("#"+thisClass.eid+"_cvs").height());document.getElementById(thisClass.eid+"_cvs").width=$("#"+thisClass.eid+"_cvs").width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid+"_cvs").css("width",cwidth);$("#"+thisClass.eid+"_cvs").css("height",cheight);$("#"+thisClass.eid+"_txt").css("width",cwidth);$("#"+thisClass.eid+"_txt").css("height",cheight);document.getElementById(thisClass.eid+"_cvs").width=cwidth;document.getElementById(thisClass.eid+"_cvs").height=cheight;}$("#"+thisClass.eid+"_txt").css("user-select","none");$("#"+thisClass.eid+"_txt").css("-webkit-user-select","none");$("#"+thisClass.eid+"_txt").css("-moz-user-select","none");$("#"+thisClass.eid+"_txt").css("line-height",(cheight).toString()+"px");var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);var lines=thisClass.text.split("\n");var htext=$("#"+thisClass.eid+"_txt").html(lines[0]).text();htext=MF_ComponentUtils.getRefactoredText(htext);$("#"+thisClass.eid+"_txt").html(htext);$("#"+thisClass.eid+"_txt").css("font-family",fontFamily);$("#"+thisClass.eid+"_txt").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"_txt").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"_txt").css("text-decoration",thisClass.textDecoration);$("#"+thisClass.eid+"_txt").css("font-size",thisClass.fontSize.toString()+"px");$("#"+thisClass.eid+"_txt").css("color",thisClass.fontColor);if(lines.length>1){var tooltiptxt="";for(var m=1;m<lines.length;m++){if(m==1){tooltiptxt=lines[m];}else{tooltiptxt=tooltiptxt+"<br/>"+lines[m];}}$("#"+thisClass.eid).attr("title",tooltiptxt);}var rad=thisClass.width;if(thisClass.height<thisClass.width){rad=thisClass.height;}var ctx_obj=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_obj.translate(0.5,0.5);}var startx=cwidth/2;var starty=cheight/2;ctx_obj.save();MF_ComponentUtils.setComponentShadow(ctx_obj,thisClass.shadowType);ctx_obj.beginPath();ctx_obj.arc(startx,starty,rad/2,Math.PI*2,0,false);ctx_obj.closePath();var defFillColor1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var defFillColor2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,0,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-horizontal"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,0);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-diagonally"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="radial"){var grad_Circle1=ctx_obj.createRadialGradient(startx,starty,(rad/2)/2,startx,starty,rad/2);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{ctx_obj.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);}}}}ctx_obj.fill();ctx_obj.restore();ctx_obj.lineWidth=thickness;if(thisClass.borderType=="dashed"){ctx_obj.setLineDash([thickness*2,4]);}if(thisClass.borderType=="dotted"){ctx_obj.setLineDash([thickness,2]);}if(thisClass.borderType!="none"&&thickness!=0){ctx_obj.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_obj.stroke();}MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_CalloutSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.shadowSettings=null;thisClass.fontSettings=null;thisClass.themeSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();thisClass.fontSettings.remove();thisClass.themeSettings.remove();}}catch(e){console.log("error occured in the component MF_Callout.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings2();thisClass.borderSettings.init(thisClass);thisClass.themeSettings=new MF_ThemeSettings();thisClass.themeSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.showAlign=false;thisClass.fontSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.themeSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1300px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Comp / Click Here to Edit
						</div>
						
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
										
						<div id="{{eid}}_theme"  style="overflow: hidden; width:100%; " >
							
						</div>		
						
						<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_VerticalBracket(){var thisClass=this;thisClass.NAME="MF_VerticalBracket";thisClass.LABEL="Bracket";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=true;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.MAX_BORDER=5;thisClass.x=0;thisClass.y=0;thisClass.width=30;thisClass.height=200;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.borderColor="#000000";thisClass.borderWidth=1;thisClass.borderType="solid";thisClass.directionType="right";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("directionType",thisClass.directionType,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.directionType!=null){thisClass.directionType=thisClass.e2xml.settings.properties.directionType;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=parseInt(thisClass.borderWidth);if(thisClass.borderType=="none"){thickness=0;}thisClass.delta=(1*thickness)+5;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<canvas class='mfWFCompCls'  id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="pointer-events: none; -webkit-transform: translateZ(0); position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+"</canvas>";if(mfpage){$("#mfPage"+mfpage.eid).append(rectCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid)).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid).width(),$("#"+thisClass.eid).height());document.getElementById(thisClass.eid).width=$("#"+thisClass.eid).width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);document.getElementById(thisClass.eid).width=cwidth;document.getElementById(thisClass.eid).height=cheight;}var ctx_Div=(document.getElementById(thisClass.eid)).getContext("2d");ctx_Div.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_Div.lineWidth=thisClass.borderWidth;var tx=thisClass.delta;var ty=thisClass.delta;var twidth=thisClass.width+thisClass.delta;var theight=thisClass.height+thisClass.delta;if(thisClass.borderType=="dashed"){ctx_Div.setLineDash([thisClass.borderWidth*2,4]);}if(thisClass.borderType=="dotted"){ctx_Div.setLineDash([thisClass.borderWidth,2]);}if(thisClass.directionType=="left"){ctx_Div.translate(tx,ty);ctx_Div.beginPath();ctx_Div.moveTo(this.width,0);ctx_Div.quadraticCurveTo((this.width/2),0,(this.width/2),(10*this.height)/100);ctx_Div.lineTo(this.width/2,(this.height/2)-((5*this.height)/100));ctx_Div.lineTo(0,(this.height/2));ctx_Div.lineTo(this.width/2,(this.height/2)+((5*this.height)/100));ctx_Div.lineTo((this.width/2),this.height-((10*this.height)/100));ctx_Div.quadraticCurveTo((this.width/2),this.height,this.width,this.height);ctx_Div.stroke();}else{ctx_Div.translate(tx,ty);ctx_Div.beginPath();ctx_Div.moveTo(0,0);ctx_Div.quadraticCurveTo((this.width/2),0,(this.width/2),(10*this.height)/100);ctx_Div.lineTo(this.width/2,(this.height/2)-((5*this.height)/100));ctx_Div.lineTo(this.width,(this.height/2));ctx_Div.lineTo(this.width/2,(this.height/2)+((5*this.height)/100));ctx_Div.lineTo((this.width/2),this.height-((10*this.height)/100));ctx_Div.quadraticCurveTo((this.width/2),this.height,0,this.height);ctx_Div.stroke();}MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_VerticalBracketSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.borderSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.borderSettings.remove();}}catch(e){console.log("error occured in the component MF_VerticalBracket.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings2();thisClass.borderSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfDirLeft_"+thisClass.eid).on("click",function(e){e.stopImmediatePropagation();$(".mfDirTypeCls"+thisClass.eid).css("background","#fff");$("#mfDirLeft_"+thisClass.eid).css("background","#f0f0f0");thisClass.component.e2xml.addPropSingle("directionType","left");thisClass.component.render(false);});$("#mfDirRight_"+thisClass.eid).on("click",function(e){e.stopImmediatePropagation();$(".mfDirTypeCls"+thisClass.eid).css("background","#fff");$("#mfDirRight_"+thisClass.eid).css("background","#f0f0f0");thisClass.component.e2xml.addPropSingle("directionType","right");thisClass.component.render(false);});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}$(".mfDirTypeCls"+thisClass.eid).css("background","#fff");if(thisClass.component.directionType=="left"){$("#mfDirLeft_"+thisClass.eid).css("background","#f0f0f0");}else{$("#mfDirRight_"+thisClass.eid).css("background","#f0f0f0");}};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 650px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						
						
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Settings</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
										
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 80px;" >		
					
									<div  style="left: 10px; top: 20px; width: 170px; font-weight: bold; overflow: hidden; word-wrap: false;position:absolute"> 
			
												<div style="overflow:hidden">
													<div id="mfDirLeft_{{eid}}" class="mfDirTypeCls{{eid}} mfBtnLineStraightCls" style="text-align: center; height: 30px; font-size: 20px; border: 1px solid #ccc;padding: 4px;width: 50px;float:left;cursor:pointer">{</div>
													<div id="mfDirRight_{{eid}}" class="mfDirTypeCls{{eid}} mfBtnLineStraightCls" style="text-align: center; height: 30px; font-size: 20px;border: 1px solid #ccc;padding: 4px;width: 50px;float:left;cursor:pointer;">}</div>
												</div>
									
										</div>
										
										
								</div>
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Arrow(){var thisClass=this;thisClass.NAME="MF_Arrow";thisClass.LABEL="Arrow";thisClass.GENONLY=false;thisClass.TRANSFORM=true;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=true;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=200;thisClass.height=100;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.esize=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.startX=0;thisClass.startY=0;thisClass.endX=0;thisClass.endY=0;thisClass.startType="bottomLeft";thisClass.arrowColor="#ff0000";thisClass.arrowWidth=40;thisClass.shadowType="none";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.transformSelector=function(){thisClass.selector.transform(thisClass);};thisClass.computePoints=function(){var obj=MF_Utils.computePoints(thisClass.startType,thisClass.x+thisClass.delta,thisClass.y+thisClass.delta,thisClass.width-(thisClass.delta*2),thisClass.height-(thisClass.delta*2));thisClass.startX=obj.startx;thisClass.startY=obj.starty;thisClass.endX=obj.endx;thisClass.endY=obj.endy;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("arrowColor",thisClass.arrowColor,"default");thisClass.e2xml.addPropSingle("arrowWidth",thisClass.arrowWidth,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.arrowColor!=null){thisClass.arrowColor=thisClass.e2xml.settings.properties.arrowColor;}if(thisClass.e2xml.settings.properties.arrowWidth!=null){thisClass.arrowWidth=thisClass.e2xml.settings.properties.arrowWidth;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensionsTransform(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();thisClass.delta=2*(thisClass.arrowWidth/10)+10;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var rectDim=MF_Utils.calculateDimensions(thisClass.startX,thisClass.startY,thisClass.endX,thisClass.endY,thisClass.delta);thisClass.startType=rectDim.startType;var cvsCode="";var cwidth=rectDim.width+(thisClass.delta*2);var cheight=rectDim.height+(thisClass.delta*2);var ctop=rectDim.y-thisClass.delta;var cleft=rectDim.x-thisClass.delta;thisClass.x=cleft;thisClass.y=ctop;thisClass.width=cwidth;thisClass.height=cheight;if(redraw){$("#"+thisClass.eid).remove();cvsCode=cvsCode+"<canvas class='mfWFCompCls'  id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  pointer-events: none; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';cvsCode=cvsCode+"</canvas>";if(mfpage){$("#mfPage"+mfpage.eid).append(cvsCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(cvsCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{MF_ComponentUtils.clearPage(thisClass);}var ctx_Cvs=(document.getElementById(thisClass.eid)).getContext("2d");MF_ComponentUtils.setComponentShadow(ctx_Cvs,thisClass.shadowType);ctx_Cvs.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.arrowColor,1);var thickness=thisClass.arrowWidth;thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_Cvs.translate(0.5,0.5);}var start_x=rectDim.startx;var start_y=rectDim.starty;var end_x=rectDim.endx;var end_y=rectDim.endy;var asize=thickness;var apoint=asize-5;var angle1=(Math.PI)/8;var angle2=(15*Math.PI)/8;if((end_y>start_y)&&(end_x>start_x)){var slope_sign=1;var x_sign=-1;}if((end_y<start_y)&&(end_x<start_x)){var slope_sign=1;var x_sign=1;}if((end_y<start_y)&&(end_x>start_x)){var slope_sign=-1;var x_sign=-1;}if((end_y>start_y)&&(end_x<start_x)){var slope_sign=-1;var x_sign=1;}if(end_y==start_y){var slope_sign=1;var x_sign=-((end_x-start_x)/Math.abs(end_x-start_x));}if(end_x==start_x){var slope_sign=1;var x_sign=1;}var arrow_height=Math.abs(end_y-start_y);var arrow_width=Math.abs(end_x-start_x);ctx_Cvs.strokeStyle=thisClass.arrowColor;ctx_Cvs.moveTo(start_x,start_y);ctx_Cvs.lineTo(end_x,end_y);ctx_Cvs.stroke();ctx_Cvs.fillStyle=thisClass.arrowColor;if(arrow_width!=0){var slope=slope_sign*(arrow_height/arrow_width);var d=asize;var x=x_sign*(Math.sqrt((d*d)/(1+(slope*slope))));var y=slope*x;d=apoint;var x3=x_sign*(Math.sqrt((d*d)/(1+(slope*slope))));var y3=slope*x3;}else{var y_sign=-((end_y-start_y)/Math.abs(end_y-start_y));var x=0;var y=y_sign*asize;var x3=0;var y3=y_sign*apoint;}ctx_Cvs.save();ctx_Cvs.translate(end_x,end_y);var x1=(x*Math.cos(angle1))-(y*Math.sin(angle1));var y1=(x*Math.sin(angle1))+(y*Math.cos(angle1));var x2=(x*Math.cos(angle2))-(y*Math.sin(angle2));var y2=(x*Math.sin(angle2))+(y*Math.cos(angle2));var x4=(x1+x3)/3;var y4=(y1+y3)/3;var x5=(x3+x2)/3;var y5=(y3+y2)/3;if(arrow_width!=0){var s_x=x_sign*arrow_width;var s_y=slope*s_x;}else{var s_x=0;var s_y=y_sign*arrow_height;}ctx_Cvs.fillStyle=thisClass.arrowColor;ctx_Cvs.strokeStyle=thisClass.arrowColor;ctx_Cvs.beginPath();ctx_Cvs.moveTo(0,0);ctx_Cvs.lineTo(x1,y1);ctx_Cvs.lineTo(x3,y3);ctx_Cvs.lineTo(x2,y2);ctx_Cvs.moveTo(x3,y3);ctx_Cvs.lineTo(x4,y4);ctx_Cvs.lineTo(s_x,s_y);ctx_Cvs.lineTo(x5,y5);ctx_Cvs.closePath();ctx_Cvs.fill();ctx_Cvs.beginPath();ctx_Cvs.moveTo(x4,y4);ctx_Cvs.lineTo(s_x,s_y);ctx_Cvs.restore();if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_ArrowSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.linkSettings=null;thisClass.shadowSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox").destroy();}thisClass.linkSettings.remove();thisClass.shadowSettings.remove();}}catch(e){console.log("error occured in the component MF_Arrow.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);}else{thisClass.linkSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfArrowColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){color=MF_Utils.RGBToHex(color.toRgbString());thisClass.component.e2xml.addPropSingle("arrowColor",color);thisClass.component.render(false);}});$("#mfArrowWidth_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfArrowWidth_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfArrowWidth_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:onArrowWidthChange,decimals:0});$("#mfArrowWidth_"+thisClass.eid).focus(function(){$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onArrowWidthChange);$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onArrowWidthChange);});$("#mfVStraight_"+thisClass.eid).on("click",function(e){e.stopImmediatePropagation();var coord=new Object();coord.startX=thisClass.component.ecoordinates.startX;coord.startY=thisClass.component.ecoordinates.startY;coord.endX=thisClass.component.ecoordinates.endX;coord.endY=thisClass.component.ecoordinates.endY;var undo=new MF_UndoDAO();undo.propObjectUndo(thisClass.component,"ecoordinates",thisClass.component.ecoordinates);MF_ChangeManager.addUndo(undo);var startX=thisClass.component.ecoordinates.startX;var startY=thisClass.component.ecoordinates.startY;var endX=thisClass.component.ecoordinates.endX;var endY=thisClass.component.ecoordinates.endY;if(startX==endX){return;}var linedistance=Math.sqrt(Math.pow(endX-startX,2)+Math.pow(endY-startY,2));if(startY<endY){coord.endX=thisClass.component.ecoordinates.startX;coord.endY=thisClass.component.ecoordinates.startY+linedistance;}else{coord.startX=thisClass.component.ecoordinates.endX;coord.startY=thisClass.component.ecoordinates.endY+linedistance;}thisClass.component.e2xml.addPropObject("ecoordinates",coord);thisClass.component.render(false);mf_main.editorController.addSelectorTransform(thisClass.component.selector);});$("#mfHStraight_"+thisClass.eid).on("click",function(e){e.stopImmediatePropagation();var coord=new Object();coord.startX=thisClass.component.ecoordinates.startX;coord.startY=thisClass.component.ecoordinates.startY;coord.endX=thisClass.component.ecoordinates.endX;coord.endY=thisClass.component.ecoordinates.endY;var startX=thisClass.component.ecoordinates.startX;var startY=thisClass.component.ecoordinates.startY;var endX=thisClass.component.ecoordinates.endX;var endY=thisClass.component.ecoordinates.endY;var linedistance=Math.sqrt(Math.pow(endX-startX,2)+Math.pow(endY-startY,2));if(startY==endY){return;}if(startX<endX){coord.endY=thisClass.component.ecoordinates.startY;coord.endX=thisClass.component.ecoordinates.startX+linedistance;}else{coord.startY=thisClass.component.ecoordinates.endY;coord.startX=thisClass.component.ecoordinates.endX+linedistance;}thisClass.component.e2xml.addPropObject("ecoordinates",coord);thisClass.component.render(false);mf_main.editorController.addSelectorTransform(thisClass.component.selector);});$(".mfBtnArrowStraightCls").tooltip({position:"top",animation:false});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}$("#mfArrowColor_"+thisClass.eid).spectrum("set",thisClass.component.arrowColor);function onArrowWidthChange(){$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onArrowWidthChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();thisClass.component.e2xml.addPropSingle("arrowWidth",w);thisClass.component.render(false);}thisClass.arrowWidthBox=$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox");thisClass.arrowWidthBox.value(thisClass.component.arrowWidth);if(thisClass.component.ANNOTATION){thisClass.markAsAnnotate();}else{thisClass.unMarkAsAnnotate();}};thisClass.toggleAnnotation=function(e){if(thisClass.component){if(thisClass.component.ANNOTATION){thisClass.unMarkAsAnnotate();thisClass.component.e2xml.addPropSingle("ANNOTATION",false);}else{thisClass.markAsAnnotate();thisClass.component.e2xml.addPropSingle("ANNOTATION",true);}$("#mfAnnotateToggleBtn_"+thisClass.eid).tooltip("hide");}};thisClass.markAsAnnotate=function(){$("#mfAnnotateToggleBtn_"+thisClass.eid).css("color","#ff0000");$("#mfAnnotateToggleBtn_"+thisClass.eid).attr("data-original-title","Unmark component as 'Annotation'. Annotation components can be toggled - shown/hidden in review mode.");};thisClass.unMarkAsAnnotate=function(){$("#mfAnnotateToggleBtn_"+thisClass.eid).css("color","#8C95A4");$("#mfAnnotateToggleBtn_"+thisClass.eid).attr("data-original-title","Mark component as 'Annotation'. Annotation components can be toggled - shown/hidden in review mode.");};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 620px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
					
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Arrow</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
								
								
										
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 180px;" >		
					
								
											<div  style="left: 10px; top: 20px; width: 170px; font-weight: bold; overflow: hidden; word-wrap: false;position:absolute"> 
			
												<div style="overflow:hidden">
													<span  id="mfVStraight_{{eid}}"  title="Make Arrow Vertical Straight" class="mfBtnArrowStraightCls ico-flip_horizontal" style="cursor: pointer; font-size: 30px; color: #444;"></span>
													&nbsp; &nbsp; 
													<span id="mfHStraight_{{eid}}"  title="Make Arrow Horizontal Straight" class="mfBtnArrowStraightCls ico-flip_vertical" style="cursor: pointer; font-size: 30px; color: #444;"></span>
												</div>
									
											</div>
											
											<span class="ico-border_color" data-toggle="tooltip"  data-placement="bottom"   id="mfAnnotateToggleBtn_{{eid}}" style="position: absolute; font-size: 18px; cursor:pointer; left: 110px; top: 25px;"></span>
											
											
											<div style="position: absolute; left: 10px; top: 83px;">Color:</div>
											<div  style='position: absolute; left: 100px; top: 77px;' ><input  id='mfArrowColor_{{eid}}' style='width: 100px;' type='text'  /></div>
						
											<div style="position: absolute; left: 10px; top: 135px;">Thickness:</div>
											<div style="position: absolute; left: 100px; top: 130px;"><input style="width: 70px;" id="mfArrowWidth_{{eid}}" type="number" value="1" min="1" max="50" step="1" /></div>

								
								
								</div>
						</div>
						
						
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					 
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Tooltip(){var thisClass=this;thisClass.NAME="MF_Tooltip";thisClass.LABEL="Tooltip";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=false;thisClass.MULTILINE=true;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=200;thisClass.height=90;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.fillColors=["#fafafa","#fafafa"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.shadowType="all";thisClass.textPadding=5;thisClass.tipDirection="top";thisClass.tipPosition=30;thisClass.borderColor="#666666";thisClass.borderWidth=1;thisClass.borderType="none";thisClass.borderRadius=10;thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.text="";thisClass.fontSize=12;thisClass.fontColor="#000000";thisClass.textAlign="left";thisClass.fontWeight="normal";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.lineHeight=1;thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("textPadding",thisClass.textPadding,"default");thisClass.e2xml.addPropSingle("lineHeight",thisClass.lineHeight,"default");thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("borderRadius",thisClass.borderRadius,"default");thisClass.e2xml.addPropSingle("tipDirection",thisClass.tipDirection,"default");thisClass.e2xml.addPropSingle("tipPosition",thisClass.tipPosition,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("textAlign",thisClass.textAlign,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.lineHeight!=null){thisClass.lineHeight=thisClass.e2xml.settings.properties.lineHeight;}if(thisClass.e2xml.settings.properties.tipPosition!=null){thisClass.tipPosition=thisClass.e2xml.settings.properties.tipPosition;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.textPadding!=null){thisClass.textPadding=thisClass.e2xml.settings.properties.textPadding;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderRadius!=null){thisClass.borderRadius=thisClass.e2xml.settings.properties.borderRadius;}if(thisClass.e2xml.settings.properties.textAlign!=null){thisClass.textAlign=thisClass.e2xml.settings.properties.textAlign;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.tipDirection!=null){thisClass.tipDirection=thisClass.e2xml.settings.properties.tipDirection;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}};thisClass.drawTooltip=function(ctx,x,y,w,h,cornerRadius){cornerRadius=cornerRadius/2;ctx.beginPath();var theta,angle,cx,cy,px,py;if(cornerRadius>Math.min(w,h)/2){cornerRadius=Math.min(w,h)/2;}theta=Math.PI/4;ctx.moveTo(x+cornerRadius,y);if(thisClass.tipDirection=="top"){var position=thisClass.tipPosition;var pos=(position*(w))/100;pos=pos;if(pos>thisClass.width-20){pos=thisClass.width-20;}ctx.lineTo(x+(pos),y);ctx.lineTo(x+(pos)+10,y-10);ctx.lineTo(x+(pos)+20,y);}else{ctx.lineTo(x+w-cornerRadius,y);}angle=-Math.PI/2;cx=x+w-cornerRadius+(Math.cos(angle+(theta/2))*cornerRadius/Math.cos(theta/2));cy=y+cornerRadius+(Math.sin(angle+(theta/2))*cornerRadius/Math.cos(theta/2));px=x+w-cornerRadius+(Math.cos(angle+theta)*cornerRadius);py=y+cornerRadius+(Math.sin(angle+theta)*cornerRadius);ctx.quadraticCurveTo(cx,cy,px,py);angle+=theta;cx=x+w-cornerRadius+(Math.cos(angle+(theta/2))*cornerRadius/Math.cos(theta/2));cy=y+cornerRadius+(Math.sin(angle+(theta/2))*cornerRadius/Math.cos(theta/2));px=x+w-cornerRadius+(Math.cos(angle+theta)*cornerRadius);py=y+cornerRadius+(Math.sin(angle+theta)*cornerRadius);ctx.quadraticCurveTo(cx,cy,px,py);if(thisClass.tipDirection=="right"){var position=thisClass.tipPosition;var pos=(position*(h))/100;pos=pos;if(pos>thisClass.height-20){pos=thisClass.height-20;}ctx.lineTo(x+w,y+(pos));ctx.lineTo(x+w+10,y+pos+10);ctx.lineTo(x+w,y+(pos)+20);}else{ctx.lineTo(x+w,y+h-cornerRadius);}angle+=theta;cx=x+w-cornerRadius+(Math.cos(angle+(theta/2))*cornerRadius/Math.cos(theta/2));cy=y+h-cornerRadius+(Math.sin(angle+(theta/2))*cornerRadius/Math.cos(theta/2));px=x+w-cornerRadius+(Math.cos(angle+theta)*cornerRadius);py=y+h-cornerRadius+(Math.sin(angle+theta)*cornerRadius);ctx.quadraticCurveTo(cx,cy,px,py);angle+=theta;cx=x+w-cornerRadius+(Math.cos(angle+(theta/2))*cornerRadius/Math.cos(theta/2));cy=y+h-cornerRadius+(Math.sin(angle+(theta/2))*cornerRadius/Math.cos(theta/2));px=x+w-cornerRadius+(Math.cos(angle+theta)*cornerRadius);py=y+h-cornerRadius+(Math.sin(angle+theta)*cornerRadius);ctx.quadraticCurveTo(cx,cy,px,py);if(thisClass.tipDirection=="bottom"){var position=thisClass.tipPosition;var pos=(position*(w))/100;pos=pos;if(pos>thisClass.width-20){pos=thisClass.width-20;}ctx.lineTo(x+(pos)+20,y+h);ctx.lineTo(x+(pos)+10,y+h+10);ctx.lineTo(x+(pos),y+h);}else{ctx.lineTo(x+cornerRadius,y+h);}angle+=theta;cx=x+cornerRadius+(Math.cos(angle+(theta/2))*cornerRadius/Math.cos(theta/2));cy=y+h-cornerRadius+(Math.sin(angle+(theta/2))*cornerRadius/Math.cos(theta/2));px=x+cornerRadius+(Math.cos(angle+theta)*cornerRadius);py=y+h-cornerRadius+(Math.sin(angle+theta)*cornerRadius);ctx.quadraticCurveTo(cx,cy,px,py);angle+=theta;cx=x+cornerRadius+(Math.cos(angle+(theta/2))*cornerRadius/Math.cos(theta/2));cy=y+h-cornerRadius+(Math.sin(angle+(theta/2))*cornerRadius/Math.cos(theta/2));px=x+cornerRadius+(Math.cos(angle+theta)*cornerRadius);py=y+h-cornerRadius+(Math.sin(angle+theta)*cornerRadius);ctx.quadraticCurveTo(cx,cy,px,py);if(thisClass.tipDirection=="left"){var position=thisClass.tipPosition;var pos=(position*(h))/100;pos=pos;if(pos>thisClass.height-20){pos=thisClass.height-20;}ctx.lineTo(x,y+(pos)+20);ctx.lineTo(x-10,y+pos+10);ctx.lineTo(x,y+(pos));}else{ctx.lineTo(x,y+cornerRadius);}angle+=theta;cx=x+cornerRadius+(Math.cos(angle+(theta/2))*cornerRadius/Math.cos(theta/2));cy=y+cornerRadius+(Math.sin(angle+(theta/2))*cornerRadius/Math.cos(theta/2));px=x+cornerRadius+(Math.cos(angle+theta)*cornerRadius);py=y+cornerRadius+(Math.sin(angle+theta)*cornerRadius);ctx.quadraticCurveTo(cx,cy,px,py);angle+=theta;cx=x+cornerRadius+(Math.cos(angle+(theta/2))*cornerRadius/Math.cos(theta/2));cy=y+cornerRadius+(Math.sin(angle+(theta/2))*cornerRadius/Math.cos(theta/2));px=x+cornerRadius+(Math.cos(angle+theta)*cornerRadius);py=y+cornerRadius+(Math.sin(angle+theta)*cornerRadius);ctx.quadraticCurveTo(cx,cy,px,py);};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=parseInt(thisClass.borderWidth);if(thisClass.borderType=="none"){thickness=0;}var tipSize=10;thisClass.delta=(1*thickness)+5;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<div class='mfWFCompCls'  id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="pointer-events: none; -webkit-transform: translateZ(0);  overflow: hidden; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+'<canvas id="'+thisClass.eid+'_cvs" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+'px; top:0px; left:0px; " > ';rectCode=rectCode+"</canvas>";rectCode=rectCode+'<span id="'+thisClass.eid+'_txt"  style="padding: 5px; line-height: normal;   word-wrap: break-word; overflow: hidden;  text-align: center; font-weight: bold; -webkit-transform: translateZ(0);  position:absolute; width:'+(thisClass.width).toString()+"px; height:"+(thisClass.height).toString()+"px;   top:"+(thisClass.delta).toString()+"px; left:"+(thisClass.delta).toString()+'px;  " > ';rectCode=rectCode+"</span>";rectCode=rectCode+"</div>";if(mfpage){$("#mfPage"+mfpage.eid).append(rectCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid+"_cvs").width(),$("#"+thisClass.eid+"_cvs").height());document.getElementById(thisClass.eid+"_cvs").width=$("#"+thisClass.eid+"_cvs").width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid+"_cvs").css("width",cwidth);$("#"+thisClass.eid+"_cvs").css("height",cheight);$("#"+thisClass.eid+"_txt").css("left",thisClass.delta);$("#"+thisClass.eid+"_txt").css("top",thisClass.delta);$("#"+thisClass.eid+"_txt").css("width",thisClass.width);$("#"+thisClass.eid+"_txt").css("height",thisClass.height);document.getElementById(thisClass.eid+"_cvs").width=cwidth;document.getElementById(thisClass.eid+"_cvs").height=cheight;}$("#"+thisClass.eid+"_txt").css("user-select","none");$("#"+thisClass.eid+"_txt").css("-webkit-user-select","none");$("#"+thisClass.eid+"_txt").css("-moz-user-select","none");var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);var htext=thisClass.text;htext=MF_ComponentUtils.getRefactoredText(htext);htext=htext.replace(/\n/g,"<br/>");$("#"+thisClass.eid+"_txt").html(htext);$("#"+thisClass.eid+"_txt").css("font-family",fontFamily);$("#"+thisClass.eid+"_txt").css("padding",thisClass.textPadding);$("#"+thisClass.eid+"_txt").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"_txt").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"_txt").css("text-decoration",thisClass.textDecoration);$("#"+thisClass.eid+"_txt").css("font-size",thisClass.fontSize.toString()+"px");$("#"+thisClass.eid+"_txt").css("color",thisClass.fontColor);$("#"+thisClass.eid+"_txt").css("text-align",thisClass.textAlign);$("#"+thisClass.eid+"_txt").css("line-height",thisClass.lineHeight);var rad=thisClass.width;if(thisClass.height<thisClass.width){rad=thisClass.height;}var ctx_obj=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_obj.translate(0.5,0.5);}var startx=cwidth/2;var starty=cheight/2;ctx_obj.save();MF_ComponentUtils.setComponentShadow(ctx_obj,thisClass.shadowType);ctx_obj.beginPath();if(thisClass.tipDirection=="top"){$("#"+thisClass.eid+"_txt").css("top",thisClass.delta+tipSize);$("#"+thisClass.eid+"_txt").css("height",thisClass.height-tipSize);thisClass.drawTooltip(ctx_obj,thisClass.delta,thisClass.delta+tipSize,thisClass.width,thisClass.height-tipSize,thisClass.borderRadius);}if(thisClass.tipDirection=="left"){$("#"+thisClass.eid+"_txt").css("left",thisClass.delta+tipSize);$("#"+thisClass.eid+"_txt").css("width",thisClass.width-tipSize);thisClass.drawTooltip(ctx_obj,thisClass.delta+tipSize,thisClass.delta,thisClass.width-tipSize,thisClass.height,thisClass.borderRadius);}if(thisClass.tipDirection=="right"){$("#"+thisClass.eid+"_txt").css("left",thisClass.delta);$("#"+thisClass.eid+"_txt").css("width",thisClass.width-tipSize);thisClass.drawTooltip(ctx_obj,thisClass.delta,thisClass.delta,thisClass.width-tipSize,thisClass.height,thisClass.borderRadius);}if(thisClass.tipDirection=="bottom"){$("#"+thisClass.eid+"_txt").css("top",thisClass.delta);$("#"+thisClass.eid+"_txt").css("height",thisClass.height-tipSize);thisClass.drawTooltip(ctx_obj,thisClass.delta,thisClass.delta,thisClass.width,thisClass.height-tipSize,thisClass.borderRadius);}var defFillColor1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var defFillColor2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,0,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-horizontal"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,0);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-diagonally"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="radial"){var grad_Circle1=ctx_obj.createRadialGradient(startx,starty,(rad/2)/2,startx,starty,rad/2);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{ctx_obj.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);}}}}ctx_obj.fill();ctx_obj.restore();ctx_obj.lineWidth=thickness;if(thisClass.borderType=="dashed"){ctx_obj.setLineDash([thickness*2,4]);}if(thisClass.borderType=="dotted"){ctx_obj.setLineDash([thickness,2]);}if(thisClass.borderType!="none"&&thickness!=0){ctx_obj.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_obj.stroke();}MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_TooltipSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.shadowSettings=null;thisClass.fontSettings=null;thisClass.powerupSettings=null;thisClass.dirTypeDropdown=null;thisClass.lineHeightBox=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfSliderVal_"+thisClass.eid).data("kendoSlider")){$("#mfSliderVal_"+thisClass.eid).data("kendoSlider").destroy();}if($("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfDirectionType_"+thisClass.eid).data("kendoDropDownList")){$("#mfDirectionType_"+thisClass.eid).data("kendoDropDownList").destroy();}if($("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").destroy();}thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();thisClass.fontSettings.remove();thisClass.powerupSettings.remove();}}catch(e){console.log("error occured in the component MF_Tooltip.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings3();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.init(thisClass);thisClass.powerupSettings=new MF_TextUtilitySettings();thisClass.powerupSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.powerupSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfSliderVal_"+thisClass.eid).kendoSlider({showButtons:false,change:valSliderOnSlide,tickPlacement:"none",min:0,max:100,smallStep:10,largeStep:10,tooltip:{enabled:false}}).data("kendoSlider");$("#mfPadding_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfPadding_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfPadding_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:onWidthChange,decimals:0});$("#mfPadding_"+thisClass.eid).focus(function(){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onWidthChange);$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onWidthChange);});var data=[{text:"Top Tooltip",value:"top"},{text:"Bottom Tooltip",value:"bottom"},{text:"Left Tooltip",value:"left"},{text:"Right Tooltip",value:"right"}];$("#mfDirectionType_"+thisClass.eid).kendoDropDownList({dataTextField:"text",dataValueField:"value",select:onDirectionSelect,dataSource:data});$("#mfLineHeight_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfLineHeight_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfLineHeight_"+thisClass.eid).kendoNumericTextBox({spinners:true,spin:onLineHeightChange});$("#mfLineHeight_"+thisClass.eid).focus(function(){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onLineHeightChange);$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onLineHeightChange);});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}var aslider=$("#mfSliderVal_"+thisClass.eid).data("kendoSlider");aslider.value(thisClass.component.tipPosition);function valSliderOnSlide(e){thisClass.component.e2xml.addPropSingle("tipPosition",e.value);thisClass.component.render(false);}function onWidthChange(){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onWidthChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();thisClass.component.e2xml.addPropSingle("textPadding",w);thisClass.component.render(false);}thisClass.textPaddingBox=$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox");thisClass.textPaddingBox.value(thisClass.component.textPadding);thisClass.dirTypeDropdown=$("#mfDirectionType_"+thisClass.eid).data("kendoDropDownList");thisClass.setDirectionType(thisClass.component.tipDirection);function onDirectionSelect(e){var dataItem=this.dataItem(e.item.index());thisClass.component.e2xml.addPropSingle("tipDirection",dataItem.value);thisClass.component.render(false);}function onLineHeightChange(){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onLineHeightChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();thisClass.component.e2xml.addPropSingle("lineHeight",w);thisClass.component.render(false);}thisClass.lineHeightBox=$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox");thisClass.lineHeightBox.value(parseFloat(thisClass.component.lineHeight));};thisClass.setDirectionType=function(dir){if(dir=="top"){thisClass.dirTypeDropdown.select(0);}if(dir=="bottom"){thisClass.dirTypeDropdown.select(1);}if(dir=="left"){thisClass.dirTypeDropdown.select(2);}if(dir=="right"){thisClass.dirTypeDropdown.select(3);}};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1600px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Comp / Click Here to Edit
						</div>
						
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Tooltip</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
										
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 200px;" >		
					
										<div style="position: absolute; left: 10px; top: 10px;">Position:</div>
										<div style="position: absolute; height: 25px; font-size: 11px;  width: 100px; left: 83px; top: 8px;">
										<input id="mfSliderVal_{{eid}}" style="width: 100px;" class="balSlider" value="0" />
										</div>
									  
									  <div style="position: absolute; left: 10px; top: 65px;">Text Padding:</div>
									<div style="position: absolute; left: 100px; top: 60px;"><input style="width: 70px;" id="mfPadding_{{eid}}" type="number" value="0" min="0" max="10000000" step="1" /></div>

										<div style="position: absolute; left: 10px; top: 105px;">Line Height:</div>
									<div style="position: absolute; left: 100px; top: 100px;"><input style="width: 70px;" id="mfLineHeight_{{eid}}" type="number" value="0" min="0" max="1000" step="0.1" /></div>

										<select style="left: 10px; top: 150px; width: 220px;" id="mfDirectionType_{{eid}}">
								
										</select>
										
										
									 
								
								</div>
						</div>
						
					
						<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
								
						<div id="{{eid}}_powerup"  style="overflow: hidden; width:100%; " >
					
						</div>
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);if(mf_main.DESIGNMODE){$("#"+thisClass.eid+"_powerup").hide();}thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_ImageComp(){var thisClass=this;thisClass.NAME="MF_ImageComp";thisClass.LABEL="Image";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=false;thisClass.RENDER_ON_MOVE=true;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.CSSCOMP=true;thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=100;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.tempIconColor=null;thisClass.currentColors={};thisClass.currentColorsData="";thisClass.getColors=true;thisClass.illustration=false;thisClass.icon=false;thisClass.illustrationpack="";thisClass.iconpack="";thisClass.isSVG=false;thisClass.svgData=null;thisClass.shadowType="none";thisClass.maintainSize=true;thisClass.opacity=1;thisClass.imageID="";thisClass.originalEsize=null;thisClass.imgLoaded=false;thisClass.text="";thisClass.grayScale=false;thisClass.showAltText=true;thisClass.colorEnabled=false;thisClass.rgb="255,0,0";thisClass.flip=false;thisClass.borderColor="#000000";thisClass.borderWidth=1;thisClass.borderType="solid";thisClass.borderRadius=0;thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.fontSize=12;thisClass.fontColor="#000000";thisClass.fontWeight="normal";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.tempFile=null;thisClass.tempURL=false;thisClass.tempSizeSet=true;thisClass.img=null;thisClass.canvasDraw=false;thisClass.preserveSize=false;thisClass.cssJson="";thisClass.cssClasses=["image_css"];thisClass.cssObj=null;thisClass.crop="0,0,0,0";thisClass.cropWidth=0;thisClass.cropHeight=0;thisClass.cropX=0;thisClass.cropY=0;thisClass.svgTxt="";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.setImgLoaded=function(val){thisClass.imgLoaded=val;if(mf_main.RENDER){mf_main.editorController.checkLoaded();}};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropSingle("opacity",thisClass.opacity,"default");thisClass.e2xml.addPropSingle("maintainSize",thisClass.maintainSize,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("imageID",thisClass.imageID,"default");thisClass.e2xml.addPropObject("originalEsize",thisClass.originalEsize,"default");thisClass.e2xml.addPropSingle("colorEnabled",thisClass.colorEnabled,"default");thisClass.e2xml.addPropSingle("showAltText",thisClass.showAltText,"default");thisClass.e2xml.addPropSingle("grayScale",thisClass.grayScale,"default");thisClass.e2xml.addPropSingle("rgb",thisClass.rgb,"default");thisClass.e2xml.addPropSingle("flip",thisClass.flip,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("crop",thisClass.crop,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("borderRadius",thisClass.borderRadius,"default");var layoutString=JSON.stringify(thisClass.currentColors);thisClass.e2xml.addPropSingle("currentColorsData",layoutString,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.cssJson!=null){thisClass.cssJson=thisClass.e2xml.settings.properties.cssJson;}if(thisClass.e2xml.settings.properties.borderRadius!=null){thisClass.borderRadius=thisClass.e2xml.settings.properties.borderRadius;}if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.crop!=null){thisClass.crop=thisClass.e2xml.settings.properties.crop;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.colorEnabled!=null){thisClass.colorEnabled=thisClass.e2xml.settings.properties.colorEnabled;}if(thisClass.e2xml.settings.properties.showAltText!=null){thisClass.showAltText=thisClass.e2xml.settings.properties.showAltText;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.grayScale!=null){thisClass.grayScale=thisClass.e2xml.settings.properties.grayScale;}if(thisClass.e2xml.settings.properties.rgb!=null){thisClass.rgb=thisClass.e2xml.settings.properties.rgb;}if(thisClass.e2xml.settings.properties.flip!=null){thisClass.flip=thisClass.e2xml.settings.properties.flip;}if(thisClass.e2xml.settings.properties.opacity!=null){thisClass.opacity=thisClass.e2xml.settings.properties.opacity;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.maintainSize!=null){thisClass.maintainSize=thisClass.e2xml.settings.properties.maintainSize;}if(thisClass.e2xml.settings.properties.imageID!=null){thisClass.imageID=thisClass.e2xml.settings.properties.imageID;}if(thisClass.e2xml.settings.properties.originalEsize!=null){thisClass.originalEsize=thisClass.e2xml.settings.properties.originalEsize;}if(thisClass.e2xml.settings.properties.currentColorsData!=null){try{thisClass.currentColors=JSON.parse(thisClass.e2xml.settings.properties.currentColorsData);}catch(e){console.log("Error in Advanced Grid");}}};thisClass.imageDraw=function(cwidth,cheight){if(thisClass.img){var newwidth=cwidth;var newheight=cheight;if(thisClass.maintainSize){var maxWidth=cwidth;var maxHeight=cheight;var srcWidth=thisClass.originalEsize.width;var srcHeight=thisClass.originalEsize.height;var ratioarr=[maxWidth/srcWidth,maxHeight/srcHeight];ratioarr=Math.min(ratioarr[0],ratioarr[1]);newwidth=srcWidth*ratioarr;newheight=srcHeight*ratioarr;}var canv=document.getElementById(thisClass.eid+"_cvs");var ctx=canv.getContext("2d");canv.width=cwidth;canv.height=cheight;MF_ComponentUtils.setComponentShadow(ctx,thisClass.shadowType);ctx.imageSmoothingEnabled=true;ctx.mozImageSmoothingEnabled=true;ctx.msImageSmoothingEnabled=true;if(thisClass.flip){ctx.translate(cwidth,thisClass.delta);ctx.scale(-1,1);}if(thisClass.img!=null){ctx.drawImage(thisClass.img,(cwidth/2)-(newwidth/2),thisClass.delta,newwidth,newheight);if(thisClass.colorEnabled){var rgbArr=thisClass.rgb.split(",");var imgPixels=ctx.getImageData(thisClass.delta,thisClass.delta,cwidth,cheight);for(var y=0;y<imgPixels.height;y++){for(var x=0;x<imgPixels.width;x++){var i=(y*4)*imgPixels.width+x*4;var avg=(imgPixels.data[i]+imgPixels.data[i+1]+imgPixels.data[i+2])/3;imgPixels.data[i]=rgbArr[0];imgPixels.data[i+1]=rgbArr[1];imgPixels.data[i+2]=rgbArr[2];}}ctx.putImageData(imgPixels,thisClass.delta,thisClass.delta,thisClass.delta,thisClass.delta,imgPixels.width,imgPixels.height);}if(thisClass.grayScale){var imgPixels=ctx.getImageData(thisClass.delta,thisClass.delta,cwidth,cheight);for(var y=0;y<imgPixels.height;y++){for(var x=0;x<imgPixels.width;x++){var i=(y*4)*imgPixels.width+x*4;var avg=(imgPixels.data[i]+imgPixels.data[i+1]+imgPixels.data[i+2])/3;imgPixels.data[i]=avg;imgPixels.data[i+1]=avg;imgPixels.data[i+2]=avg;}}ctx.putImageData(imgPixels,thisClass.delta,thisClass.delta,thisClass.delta,thisClass.delta,imgPixels.width,imgPixels.height);}}}};thisClass.placeholderDraw=function(cwidth,cheight){var canv=document.getElementById(thisClass.eid+"_cvs");var ctx_Div=canv.getContext("2d");var thickness=parseInt(thisClass.borderWidth);if(thisClass.borderType=="none"){thickness=0;}if(Math.abs(thickness%2)==1){ctx_Div.translate(0.5,0.5);}if(thisClass.borderType=="dashed"){ctx_Div.setLineDash([thickness*2,4]);}if(thisClass.borderType=="dotted"){ctx_Div.setLineDash([thickness,2]);}ctx_Div.lineWidth=thickness;ctx_Div.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_Div.beginPath();ctx_Div.moveTo(thisClass.delta,thisClass.delta);ctx_Div.lineTo(thisClass.width+thisClass.delta,thisClass.delta);ctx_Div.lineTo(thisClass.width+thisClass.delta,thisClass.height+thisClass.delta);ctx_Div.lineTo(thisClass.delta,thisClass.height+thisClass.delta);ctx_Div.closePath();ctx_Div.moveTo(thisClass.delta,thisClass.delta);ctx_Div.lineTo(thisClass.width+thisClass.delta,thisClass.height+thisClass.delta);ctx_Div.moveTo(thisClass.width+thisClass.delta,thisClass.delta);ctx_Div.lineTo(thisClass.delta,thisClass.height+thisClass.delta);ctx_Div.closePath();if(thisClass.borderType!="none"&&thickness!=0){ctx_Div.stroke();}var txt=thisClass.text.trim();$("#"+thisClass.eid+"_txt").hide();if(txt!=""&&txt!=null&&thisClass.showAltText){ctx_Div.beginPath();ctx_Div.lineWidth=0;ctx_Div.fillStyle="rgba(255,255,255,1)";var tx=thisClass.borderWidth+2+thisClass.delta;var ty=((thisClass.height+thisClass.delta+thisClass.delta)/2)-(thisClass.fontSize/2);var tw=thisClass.width-thisClass.delta-thickness;var th=thisClass.fontSize;ctx_Div.rect(tx,ty,tw,th);ctx_Div.fill();ctx_Div.closePath();}};this.applyColorNode=function(xdom,qname){try{var els=xdom.querySelectorAll(qname);for(var i=0;i<els.length;i++){els[i].setAttribute("fill","rgb("+thisClass.rgb+")");}}catch(e){}};this.applyColorNode2=function(xdom,qname,color){try{var els=xdom.querySelectorAll(qname);for(var i=0;i<els.length;i++){els[i].setAttribute("fill",color);}}catch(e){}};thisClass.applyIllustrationColors=function(xmlDoc){try{var currentColors=thisClass.currentColors;if(Object.keys(currentColors).length!=0){if(Object.keys(currentColors).length==1&&Object.keys(currentColors)[0]=="nocolor"){if(!thisClass.colorEnabled){try{if(thisClass.imageID&&thisClass.imageID.includes("heroicons-outline/")){xmlDoc.getElementsByTagName("svg")[0].setAttribute("stroke",currentColors.nocolor);}else{if(thisClass.imageID&&thisClass.imageID.includes("feather4/")){xmlDoc.getElementsByTagName("svg")[0].setAttribute("stroke",currentColors.nocolor);}else{if(thisClass.imageID&&thisClass.imageID.includes("heroicons-solid/")){xmlDoc.getElementsByTagName("svg")[0].setAttribute("fill",currentColors.nocolor);}else{xmlDoc.getElementsByTagName("svg")[0].setAttribute("fill",currentColors.nocolor);thisClass.applyColorNode2(xmlDoc,"circle[fill != none]",currentColors.nocolor);thisClass.applyColorNode2(xmlDoc,"ellipse[fill != none]",currentColors.nocolor);thisClass.applyColorNode2(xmlDoc,"line[fill != none]",currentColors.nocolor);thisClass.applyColorNode2(xmlDoc,"path[fill != none]",currentColors.nocolor);thisClass.applyColorNode2(xmlDoc,"polygon[fill != none]",currentColors.nocolor);thisClass.applyColorNode2(xmlDoc,"polyline[fill != none]",currentColors.nocolor);thisClass.applyColorNode2(xmlDoc,"rect[fill != none]",currentColors.nocolor);}}}}catch(e){console.log(e);}}}else{var svgs=xmlDoc.getElementsByTagName("svg")[0];var allDescendants=svgs.querySelectorAll("*");allDescendants.forEach(function(element){if(element.nodeType===1){var fill=element.getAttribute("fill");var stroke=element.getAttribute("stroke");var cssFill="";var stopFill=element.getAttribute("stop-color");fill=thisClass.rgbToHex(fill);stroke=thisClass.rgbToHex(stroke);cssFill=thisClass.rgbToHex(cssFill);stopFill=thisClass.rgbToHex(stopFill);if(fill!=null){fill=fill.toLowerCase();}if(stopFill!=null){stopFill=stopFill.toLowerCase();}if(stroke!=null){stroke=stroke.toLowerCase();}if(fill!=null&&currentColors[fill]!==undefined){element.setAttribute("fill",currentColors[fill]);}if(stopFill!=null&&currentColors[stopFill]!==undefined){element.setAttribute("stop-color",currentColors[stopFill]);}if(stroke!=null&&currentColors[stroke]!==undefined){element.setAttribute("stroke",currentColors[stroke]);}try{var style=element.getAttribute("style");if(style){style=style.replace(/(fill|stroke|stop-color):([^;]*)/g,function(match,attr,color){var scolor=thisClass.rgbToHex(color).toLowerCase();if(currentColors[scolor]){scolor=currentColors[scolor];return attr+":"+scolor;}else{return attr+":"+color;}});element.setAttribute("style",style);}}catch(e){}try{if(element.tagName=="style"){var cssText=element.textContent;cssText=cssText.replace(/(fill|stroke|stop-color):([^;]*)/g,function(match,attr,color){var scolor=thisClass.rgbToHex(color).toLowerCase();if(currentColors[scolor]){scolor=currentColors[scolor];return attr+":"+scolor;}else{return attr+":"+color;}});element.textContent=cssText;}}catch(e){}}});}}else{thisClass.getIllustrationColors(xmlDoc);}}catch(e){}};this.getIllustrationColors=function(xmlDoc){try{var originalColors=[];thisClass.currentColors={};originalColors=thisClass.extractColors(xmlDoc);originalColors=Array.from(new Set(originalColors));for(var i=0;i<originalColors.length;i++){thisClass.currentColors[originalColors[i]]=originalColors[i];}if(originalColors.length==0){thisClass.currentColors.nocolor="#000000";}if(thisClass.tempIconColor){try{if(Object.keys(thisClass.currentColors).length>0&&Object.keys(thisClass.tempIconColor).length>0){var firstProp=Object.keys(thisClass.currentColors)[0];var firstProp2=Object.keys(thisClass.tempIconColor)[0];thisClass.currentColors[firstProp]=thisClass.tempIconColor[firstProp2];var layoutString=JSON.stringify(thisClass.currentColors);thisClass.e2xml.addPropSingle("currentColorsData",layoutString,"default");thisClass.tempIconColor=null;thisClass.applySvgIconSettings();}}catch(e){}thisClass.tempIconColor=null;}thisClass.e2xml.addPropSingle("currentColorsData",JSON.stringify(thisClass.currentColors),"default");if(mf_main.editorController.lastSetting&&mf_main.editorController.lastSetting.component.eid==thisClass.eid){mf_main.editorController.lastSetting.setValues();}}catch(e){}};this.extractColors=function(xmlDoc){var colors=new Set();try{var svgs=xmlDoc.getElementsByTagName("svg")[0];var allDescendants=svgs.querySelectorAll("*");allDescendants.forEach(function(element){var fill=element.getAttribute("fill");var stroke=element.getAttribute("stroke");if(fill&&fill!=="none"){if(thisClass.isCssColor(fill)){colors.add(thisClass.rgbToHex(fill).toLowerCase());}}if(stroke&&stroke!=="none"){if(thisClass.isCssColor(stroke)){colors.add(thisClass.rgbToHex(stroke).toLowerCase());}}if(element.tagName==="stop"){var stopColor=element.getAttribute("stop-color");if(stopColor&&thisClass.isCssColor(stopColor)){colors.add(thisClass.rgbToHex(stopColor).toLowerCase());}}try{var colorRegex=/(fill|stroke|stop-color):((#[0-9a-fA-F]{3,6})|(rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\))|([a-zA-Z]+))/g;var style=element.getAttribute("style");if(style){var match;while((match=colorRegex.exec(style))!==null){if(match.length>2){var attributeName=match[1];var colorValue=match[2];if(thisClass.isCssColor(colorValue)){colors.add(thisClass.rgbToHex(colorValue).toLowerCase());}}}}if(element.tagName=="style"){var colorRegex2=/(#[0-9a-fA-F]{3,6})|(rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\))|([a-zA-Z]+)/g;var cssText=element.textContent;var match4;while((match4=colorRegex2.exec(cssText))!==null){var colorValue=match4[0];if(thisClass.isCssColor(colorValue)){colors.add(thisClass.rgbToHex(colorValue).toLowerCase());}}}}catch(e){}});}catch(e){console.log(e);}return Array.from(colors);};this.isCssColor=function(color){try{if(/^#([A-Fa-f0-9]{3,4}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/.test(color)){return true;}if(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.test(color)||/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?\.?\d+)\)$/.test(color)){return true;}if(/^hsl\((\d+),\s*(\d+%),\s*(\d+%)\)$/.test(color)||/^hsla\((\d+),\s*(\d+%),\s*(\d+%),\s*(\d?\.?\d+)\)$/.test(color)){return true;}const colorKeywords=["aqua","black","blue","fuchsia","gray","green","lime","maroon","navy","olive","orange","purple","red","silver","teal","white","yellow"];if(colorKeywords.includes(color.toLowerCase())){return true;}}catch(e){}return false;};this.rgbToHex=function(rgb){try{if(rgb){var parts=rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(parts){return"#"+parseInt(parts[1]).toString(16).padStart(2,"0")+parseInt(parts[2]).toString(16).padStart(2,"0")+parseInt(parts[3]).toString(16).padStart(2,"0");}}return rgb;}catch(e){}};this.applySvgIconSettings=function(){try{var ajaxpass=true;if(mf_main.EXPORTHTML){ajaxpass=false;}if(!ajaxpass){if(typeof MFOFFLINEMODE!=="undefined"&&MFOFFLINEMODE){var imgurl="images/"+thisClass.imageID;$("#"+thisClass.eid+"_img").attr("src",imgurl);}else{var actualurl="";if(MF_Global.getS3Bucket()=="assets.mockflow.com"){actualurl="https://assets.mockflow.com/app/wireframepro/company/"+mf_main.editorController.projectObj.company+"/projects/"+mf_main.editorController.projectObj.id+"/images/"+thisClass.imageID;}else{actualurl="https://s3.amazonaws.com/"+MF_Global.getS3Bucket()+"/app/wireframepro/company/"+mf_main.editorController.projectObj.company+"/projects/"+mf_main.editorController.projectObj.id+"/images/"+thisClass.imageID;}$("#"+thisClass.eid+"_img").attr("src",actualurl);}$("#"+thisClass.eid+"_img").show();return;}var parser=new DOMParser();xmlDoc=parser.parseFromString(thisClass.svgData,"text/xml");xmlDoc.getElementsByTagName("svg")[0].setAttribute("height","100%");xmlDoc.getElementsByTagName("svg")[0].setAttribute("width","100%");if(thisClass.maintainSize){xmlDoc.getElementsByTagName("svg")[0].removeAttribute("preserveAspectRatio");}else{xmlDoc.getElementsByTagName("svg")[0].setAttribute("preserveAspectRatio","none");}try{if(thisClass.colorEnabled){xmlDoc.getElementsByTagName("svg")[0].setAttribute("fill","rgb("+thisClass.rgb+")");try{thisClass.applyColorNode(xmlDoc,"circle");thisClass.applyColorNode(xmlDoc,"ellipse");thisClass.applyColorNode(xmlDoc,"line");thisClass.applyColorNode(xmlDoc,"path");thisClass.applyColorNode(xmlDoc,"polygon");thisClass.applyColorNode(xmlDoc,"polyline");thisClass.applyColorNode(xmlDoc,"rect");}catch(e){console.log(e);}}}catch(e){}thisClass.applyIllustrationColors(xmlDoc);var xmlText=new XMLSerializer().serializeToString(xmlDoc);thisClass.svgTxt=xmlText;var svg64=btoa(unescape(encodeURIComponent(xmlText)));var b64Start="data:image/svg+xml;base64,";var image64=b64Start+svg64;$("#"+thisClass.eid+"_img").attr("src",image64);$("#"+thisClass.eid+"_img").on("load",function(){$("#"+thisClass.eid+"_img").show();});}catch(e){thisClass.svgTxt="";try{var svg64=btoa(unescape(encodeURIComponent(thisClass.svgData)));var b64Start="data:image/svg+xml;base64,";var image64=b64Start+svg64;$("#"+thisClass.eid+"_img").attr("src",image64);$("#"+thisClass.eid+"_img").on("load",function(){$("#"+thisClass.eid+"_img").show();});}catch(e){try{var svg64=btoa(thisClass.svgData);var b64Start="data:image/svg+xml;base64,";var image64=b64Start+svg64;$("#"+thisClass.eid+"_img").attr("src",image64);$("#"+thisClass.eid+"_img").on("load",function(){$("#"+thisClass.eid+"_img").show();});}catch(e){thisClass.setImgLoaded(true);}}}if(thisClass.flip){$("#"+thisClass.eid+"_img").css("transform","scaleX(-1)");if(mf_main.RENDER){$("#"+thisClass.eid+"_img").css("-webkit-transform","scaleX(-1)");}}else{$("#"+thisClass.eid+"_img").css("transform","scaleX(1)");if(mf_main.RENDER){$("#"+thisClass.eid+"_img").css("-webkit-transform","scaleX(1)");}}$("#"+thisClass.eid).css("opacity",thisClass.opacity);thisClass.setImgLoaded(true);return;};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}if(thisClass.imageID!=null&&thisClass.imageID.includes("/illustrations/")){thisClass.illustration=true;try{var catarr=thisClass.imageID.split("/");if(catarr.length>=3){thisClass.illustrationpack=catarr[2];}}catch(e){}}else{thisClass.illustration=false;}if(thisClass.imageID!=null&&thisClass.imageID.includes("/svg/")){thisClass.icon=true;try{var catarr=thisClass.imageID.split("/");if(catarr.length>=3){thisClass.iconpack=catarr[2];}}catch(e){}}else{thisClass.icon=false;}thisClass.preserveSize=false;if(thisClass.originalEsize==null){thisClass.originalEsize=new Object();thisClass.originalEsize.width=100;thisClass.originalEsize.height=100;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var thickness=parseInt(thisClass.borderWidth);if(thisClass.borderType=="none"){thickness=0;}thisClass.delta=(1*thickness)+5;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(thisClass.imageID!=""){thisClass.delta=0;cwidth=thisClass.width;cheight=thisClass.height;ctop=thisClass.y;cleft=thisClass.x;}var imgCode="";if(redraw){$("#"+thisClass.eid).remove();var imgurl="";if(thisClass.colorEnabled){thisClass.canvasDraw=true;}else{thisClass.canvasDraw=false;}thisClass.isSVG=false;if(thisClass.imageID==""){thisClass.canvasDraw=true;}else{if(thisClass.imageID.indexOf(".svg")!=-1){thisClass.isSVG=true;}}if(thisClass.isSVG==false){thisClass.svgData=null;}var actualurl="https://assets.mockflow.com/app/wireframepro/company/"+mf_main.editorController.projectObj.company+"/projects/"+mf_main.editorController.projectObj.id+"/images/"+thisClass.imageID;if(MF_Global.getS3Bucket()=="assets.mockflow.com"){actualurl="https://assets.mockflow.com/app/wireframepro/company/"+mf_main.editorController.projectObj.company+"/projects/"+mf_main.editorController.projectObj.id+"/images/"+thisClass.imageID;}else{actualurl="https://s3.amazonaws.com/"+MF_Global.getS3Bucket()+"/app/wireframepro/company/"+mf_main.editorController.projectObj.company+"/projects/"+mf_main.editorController.projectObj.id+"/images/"+thisClass.imageID;}if(thisClass.imageID.includes("wireframepro/store/")){actualurl=thisClass.imageID;}if(thisClass.illustration||thisClass.icon){thisClass.isSVG=true;thisClass.canvasDraw=false;actualurl="https://assets.mockflow.com/app/wireframepro"+thisClass.imageID;imgurl=actualurl;}else{imgurl=MF_Global.serverURL()+"imageproxy.jsp?url="+actualurl;if(thisClass.tempURL){imgurl=MF_Global.serverURL()+"imageproxy.jsp?url="+actualurl;}if(mf_main.EXPORTHTML){imgurl=actualurl;if(thisClass.imageID!=""){thisClass.canvasDraw=false;}}else{imgurl=MF_Global.serverURL()+"imageproxy.jsp?url="+actualurl;}}if(thisClass.canvasDraw==false&&!thisClass.isSVG){imgurl=actualurl;}if(mf_main.editorController.imageController&&mf_main.editorController.imageController.base64CacheCollection&&mf_main.editorController.imageController.base64CacheCollection.hasOwnProperty(thisClass.imageID)){imgurl=mf_main.editorController.imageController.base64CacheCollection[thisClass.imageID];}if(typeof MFOFFLINEMODE!=="undefined"){if(MFOFFLINEMODE&&thisClass.imageID!=""){imgurl="images/"+thisClass.imageID;thisClass.canvasDraw=false;}}if(thisClass.imageID==""){imgurl="";}var aurl=imgurl;if(thisClass.isSVG){aurl="";}imgCode="<div class='mfWFCompCls image_css_"+thisClass.eid+"'  id=\""+thisClass.eid+'" style="overflow: hidden;  pointer-events: none; -webkit-transform: translateZ(0);   position:absolute; text-align: center;width:'+cwidth.toString()+"px; height:"+cheight.toString()+"px; top:"+ctop.toString()+"px; left:"+cleft.toString()+'px; " > ';if(thisClass.isSVG){imgCode=imgCode+'<img id="'+thisClass.eid+"_img\" src='"+aurl+"' style='border:0; display: none; outline: none; user-drag: none;  user-select: none; -webkit-user-drag: none; -webkit-user-select: none; position:absolute; opacity: "+thisClass.opacity+"; width: 100%; height: 100%;' />";}else{if(thisClass.maintainSize){if(thisClass.width<thisClass.height){imgCode=imgCode+'<img  id="'+thisClass.eid+"_img\" src='"+aurl+"' style='border:0; user-drag: none;  user-select: none; -webkit-user-drag: none; -webkit-user-select: none; position:absolute; opacity: "+thisClass.opacity+"; width:100%; ' />";}else{imgCode=imgCode+'<img  id="'+thisClass.eid+"_img\" src='"+aurl+"' style='border:0; user-drag: none;  user-select: none; -webkit-user-drag: none; -webkit-user-select: none; position:absolute; opacity: "+thisClass.opacity+"; height:100%;' />";}}else{imgCode=imgCode+'<img id="'+thisClass.eid+"_img\" src='"+aurl+"' style='border:0; user-drag: none;  user-select: none; -webkit-user-drag: none; -webkit-user-select: none; position:absolute; opacity: "+thisClass.opacity+"; width:"+thisClass.width.toString()+"px; height:"+thisClass.height.toString()+"px;' />";}}imgCode=imgCode+'<canvas id="'+thisClass.eid+'_cvs" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="display: none; -webkit-transform: translateZ(0);   position:absolute; text-align: center;width:'+cwidth.toString()+"px; height:"+cheight.toString()+'px; position: absolute; top: 0px; left:0px; " > ';imgCode=imgCode+"</canvas>";imgCode=imgCode+'<span id="'+thisClass.eid+'_txt"  style=" display: none; padding-left: 5px; padding-right: 5px;  overflow: hidden; white-space: nowrap; text-align: center; font-weight: bold; -webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; line-height:"+(cheight).toString()+"px;  top:"+(thisClass.delta).toString()+"px; left:"+(thisClass.delta).toString()+'px;  " > ';imgCode=imgCode+"</span>";imgCode=imgCode+"</div>";if(mfpage){$("#mfPage"+mfpage.eid).append(imgCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(imgCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}if(mf_main.EXPORTHTML){if(thisClass.imageID!=""&&thisClass.grayScale&&!thisClass.canvasDraw&&!thisClass.isSVG){$("#"+thisClass.eid+"_img").css("filter","grayscale(100%)");}}if(thisClass.isSVG){$("#"+thisClass.eid+"_img").hide();try{if(typeof MFOFFLINEMODE!=="undefined"){if(MFOFFLINEMODE){if(MFSVGOBJARR[thisClass.imageID]){thisClass.svgData=MFSVGOBJARR[thisClass.imageID];thisClass.applySvgIconSettings();}else{thisClass.setImgLoaded(true);}}else{thisClass.setImgLoaded(true);}}else{var ajaxpass=true;if(mf_main.EXPORTHTML){ajaxpass=false;}if(ajaxpass){$.ajax(imgurl,{type:"GET",dataType:"text",success:function(data){data=MF_Utils.sanitizeSvgData(data);thisClass.svgData=data;thisClass.applySvgIconSettings();},error:function(){thisClass.setImgLoaded(true);return;}});}else{if(typeof MFOFFLINEMODE!=="undefined"&&MFOFFLINEMODE){$("#"+thisClass.eid+"_img").attr("src",imgurl);}else{$("#"+thisClass.eid+"_img").attr("src",actualurl);}$("#"+thisClass.eid+"_img").show();}}}catch(e){}}else{$("#"+thisClass.eid+"_img").on("load",function(){thisClass.setImgLoaded(true);});$("#"+thisClass.eid+"_img").on("error",function(){thisClass.setImgLoaded(true);});}if(thisClass.canvasDraw&&!thisClass.isSVG){$("#"+thisClass.eid+"_img").hide();$("#"+thisClass.eid+"_cvs").show();$("#"+thisClass.eid+"_txt").show();$("#"+thisClass.eid).css("opacity",thisClass.opacity);if(thisClass.imageID==""){thisClass.placeholderDraw(cwidth,cheight);}else{var newwidth=thisClass.width;var newheight=thisClass.height;if(thisClass.maintainSize){var maxWidth=thisClass.width;var maxHeight=thisClass.height;var srcWidth=thisClass.originalEsize.width;var srcHeight=thisClass.originalEsize.height;var ratioarr=[maxWidth/srcWidth,maxHeight/srcHeight];ratioarr=Math.min(ratioarr[0],ratioarr[1]);newwidth=srcWidth*ratioarr;newheight=srcHeight*ratioarr;}var canv=document.getElementById(thisClass.eid+"_cvs");var ctx=canv.getContext("2d");canv.width=thisClass.width;canv.height=thisClass.height;ctx.imageSmoothingEnabled=true;ctx.mozImageSmoothingEnabled=true;ctx.msImageSmoothingEnabled=true;var img=new Image();img.onload=function(){thisClass.img=img;if(thisClass.tempFile){thisClass.originalWidth=thisClass.img.width;thisClass.originalHeight=thisClass.img.height;cwidth=thisClass.img.width;cheight=thisClass.img.height;}thisClass.img.crossOrigin="Anonymous";thisClass.setImgLoaded(true);thisClass.imageDraw(cwidth,cheight);if(thisClass.tempFile&&thisClass.tempSizeSet==false){thisClass.tempSizeSet=true;var sizeUI=new Object();sizeUI.height=thisClass.img.height;sizeUI.width=thisClass.img.width;thisClass.e2xml.addPropObject("esize",sizeUI,"default");thisClass.render(true);mf_main.editorController.addSelectorResize(thisClass.selector);}};img.onerror=function(){thisClass.setImgLoaded(true);};if(thisClass.tempFile){var reader=new FileReader();reader.onload=function(eventImg){img.src=eventImg.target.result;};reader.readAsDataURL(thisClass.tempFile);}else{if(mf_main.EXPORTHTML){$.get(imgurl,function(data){img.src=data;});}else{img.src=imgurl;}}}}else{$("#"+thisClass.eid+"_img").css("left",thisClass.delta);$("#"+thisClass.eid+"_img").css("top",thisClass.delta);$("#"+thisClass.eid).css("opacity",thisClass.opacity);if(thisClass.imageID!=""){$("#"+thisClass.eid).css("border-radius",thisClass.borderRadius);}$("#"+thisClass.eid+"_cvs").hide();$("#"+thisClass.eid+"_txt").hide();}}else{if(thisClass.canvasDraw&&!thisClass.isSVG){$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid).css("opacity",thisClass.opacity);var canv=document.getElementById(thisClass.eid+"_cvs");var ctx=canv.getContext("2d");if(ctx){ctx.clearRect(0,0,$("#"+thisClass.eid+"_cvs").width(),$("#"+thisClass.eid+"_cvs").height());}document.getElementById(thisClass.eid+"_cvs").width=$("#"+thisClass.eid+"_cvs").width();$("#"+thisClass.eid+"_cvs").css("width",cwidth);$("#"+thisClass.eid+"_cvs").css("height",cheight);document.getElementById(thisClass.eid+"_cvs").width=cwidth;document.getElementById(thisClass.eid+"_cvs").height=cheight;$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid+"_cvs").css("opacity",thisClass.opacity);if(thisClass.imageID==""){thisClass.placeholderDraw(cwidth,cheight);}else{thisClass.imageDraw(cwidth,cheight);}}else{if(thisClass.isSVG){$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid).css("opacity",thisClass.opacity);}else{$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid).css("opacity",thisClass.opacity);$("#"+thisClass.eid+"_img").css("height","auto");$("#"+thisClass.eid+"_img").css("width","auto");if(thisClass.maintainSize){if(thisClass.width<thisClass.height){$("#"+thisClass.eid+"_img").css("width",thisClass.width.toString()+"px");}else{$("#"+thisClass.eid+"_img").css("height",thisClass.height.toString()+"px");}}else{$("#"+thisClass.eid+"_img").css("width",thisClass.width.toString()+"px");$("#"+thisClass.eid+"_img").css("height",thisClass.height.toString()+"px");}}}}if(thisClass.isSVG){if(!redraw){thisClass.applySvgIconSettings();}}if(!thisClass.canvasDraw){$("#"+thisClass.eid+"_img").css("left",thisClass.delta);$("#"+thisClass.eid+"_img").css("top",thisClass.delta);$("#"+thisClass.eid).css("opacity",thisClass.opacity);if(thisClass.imageID!=""){$("#"+thisClass.eid).css("border-radius",thisClass.borderRadius);}if(thisClass.maintainSize){var maxWidth=thisClass.width;var maxHeight=thisClass.height;var srcWidth=thisClass.originalEsize.width;var srcHeight=thisClass.originalEsize.height;var ratioarr=[maxWidth/srcWidth,maxHeight/srcHeight];ratioarr=Math.min(ratioarr[0],ratioarr[1]);$("#"+thisClass.eid+"_img").css("width",srcWidth*ratioarr);$("#"+thisClass.eid+"_img").css("height",srcHeight*ratioarr);$("#"+thisClass.eid+"_img").css("left",thisClass.width/2-(srcWidth*ratioarr)/2);}if(thisClass.flip){$("#"+thisClass.eid+"_img").css("transform","scaleX(-1)");if(mf_main.RENDER){$("#"+thisClass.eid+"_img").css("-webkit-transform","scaleX(-1)");}}else{$("#"+thisClass.eid+"_img").css("transform","scaleX(1)");if(mf_main.RENDER){$("#"+thisClass.eid+"_img").css("-webkit-transform","scaleX(1)");}}}else{if(thisClass.imageID!=""){$("#"+thisClass.eid).css("border-radius",thisClass.borderRadius);}}var txt=thisClass.text.trim();if(txt!=""&&txt!=null&&thisClass.showAltText){var tx=thisClass.borderWidth+2+thisClass.delta;var ty=((thisClass.height+thisClass.delta+thisClass.delta)/2)-(thisClass.fontSize/2);var tw=thisClass.width-thisClass.delta-thickness;var th=thisClass.fontSize;$("#"+thisClass.eid+"_txt").css("left",tx);$("#"+thisClass.eid+"_txt").css("top",ty);$("#"+thisClass.eid+"_txt").css("width",tw);$("#"+thisClass.eid+"_txt").css("height",th);$("#"+thisClass.eid+"_txt").css("line-height","100%");var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);var htext=$("#"+thisClass.eid+"_txt").html(thisClass.text).text();htext=MF_ComponentUtils.getRefactoredText(htext);$("#"+thisClass.eid+"_txt").show();$("#"+thisClass.eid+"_txt").html(htext);$("#"+thisClass.eid+"_txt").css("font-family",fontFamily);$("#"+thisClass.eid+"_txt").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"_txt").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"_txt").css("text-decoration",thisClass.textDecoration);$("#"+thisClass.eid+"_txt").css("font-size",thisClass.fontSize.toString()+"px");$("#"+thisClass.eid+"_txt").css("color",thisClass.fontColor);}MF_ComponentUtils.setComponentShadowImageCSS(thisClass.eid,thisClass.shadowType);thisClass.cropWidth=0;thisClass.cropHeight=0;thisClass.cropX=0;thisClass.cropY=0;if(thisClass.imageID!=""&&!thisClass.canvasDraw){$("#"+thisClass.eid+"_img").css("opacity",thisClass.opacity);$("#"+thisClass.eid).css("opacity",thisClass.opacity);}if(thisClass.imageID!=""&&!thisClass.canvasDraw){if(thisClass.grayScale){$("#"+thisClass.eid+"_img").css("filter","grayscale(100%)");}else{$("#"+thisClass.eid+"_img").css("filter","none");}var cropArr=thisClass.crop.split(",");if(cropArr.length==4){if(cropArr[0]!="0"||cropArr[1]!="0"||cropArr[2]!="0"||cropArr[3]!="0"){var cropWidth=0;var cropHeight=0;var cropX=0;var cropY=0;if(cropArr[2]!="0"){cropHeight=(thisClass.height*parseFloat(cropArr[2]))/100;}if(cropArr[1]!="0"){cropWidth=(thisClass.width*parseFloat(cropArr[1]))/100;}if(cropArr[0]!="0"){cropY=-(parseFloat(cropArr[0])*(thisClass.height+cropHeight))/100;}if(cropArr[3]!="0"){cropX=-(parseFloat(cropArr[3])*(thisClass.width+cropWidth))/100;}$("#"+thisClass.eid+"_img").css("top",cropY);$("#"+thisClass.eid+"_img").css("left",cropX);$("#"+thisClass.eid+"_img").width(thisClass.width+cropWidth);$("#"+thisClass.eid+"_img").height(thisClass.height+cropHeight);thisClass.cropWidth=cropWidth;thisClass.cropHeight=cropHeight;thisClass.cropX=cropX;thisClass.cropY=cropY;}}}MF_Utils.rotate(thisClass.eid,thisClass.eangle);MF_ComponentUtils.applyCSS(thisClass);if(thisClass.selector){thisClass.selector.transform(thisClass);}};this.isCropped=function(){var res=false;var cropArr=thisClass.crop.split(",");if(cropArr.length==4){if(cropArr[0]!="0"||cropArr[1]!="0"||cropArr[2]!="0"||cropArr[3]!="0"){res=true;}}return res;};}function MF_ImageCompSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.shadowSettings=null;thisClass.borderSettings=null;thisClass.fontSettings=null;thisClass.themeSettings=null;thisClass.cssSettings=null;thisClass.colorSettings=null;thisClass.borderRadiusBox=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfBorderRadius_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfBorderRadius_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfFillOpacity_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfFillOpacity_"+thisClass.eid).data("kendoNumericTextBox").destroy();}thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.shadowSettings.remove();thisClass.fontSettings.remove();thisClass.borderSettings.remove();thisClass.themeSettings.remove();thisClass.cssSettings.remove();thisClass.colorSettings.remove();}}catch(e){console.log("error occured in the component MF_ImageComp.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.showAlign=false;thisClass.fontSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings2();thisClass.borderSettings.init(thisClass);thisClass.cssSettings=new MF_CSSSettings();thisClass.cssSettings.init(thisClass);thisClass.themeSettings=new MF_ThemeSettings();thisClass.themeSettings.init(thisClass);thisClass.colorSettings=new MF_IllustrationColors();thisClass.colorSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.cssSettings.init(thisClass);thisClass.themeSettings.init(thisClass);thisClass.colorSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}if(thisClass.component.isSVG){$("#"+thisClass.eid+"_colors").show();}else{$("#"+thisClass.eid+"_colors").hide();}$("#mfBorderRadiusContainer_"+thisClass.eid).show();$("#mfGrayScaleWrapper_"+thisClass.eid).show();$("#mfGrayScaleLbl_"+thisClass.eid).show();if(!mf_main.INTEGRATION){$("#mfFillWithAIContainer_"+thisClass.eid).show();}$("#mfEditImageContainer_"+thisClass.eid).show();$("#mfCropImageContainer_"+thisClass.eid).show();$(".mfImgPropCls"+thisClass.eid+" .mfImageSettingNonImageHide").show();$("#"+thisClass.eid+"_border").show();$("#"+thisClass.eid+"_font").show();if(thisClass.component.imageID==""){thisClass.forUnImageUI();}else{if(thisClass.component.isSVG){thisClass.forSVGUI();}else{thisClass.forImageUI();}}};thisClass.closeCrop=function(){$("#mfCropImage_"+thisClass.eid).text("Crop Image");if(thisClass.component.eangle==0){$("#mfCropImage_"+thisClass.eid).show();if(thisClass.component.isCropped()){$("#mfResetCropImageContainer_"+thisClass.eid).show();}else{$("#mfResetCropImageContainer_"+thisClass.eid).hide();}}else{$("#mfCropImage_"+thisClass.eid).hide();$("#mfResetCropImageContainer_"+thisClass.eid).hide();}};thisClass.forSVGUI=function(){thisClass.forImageUI();$("#mfBorderRadiusContainer_"+thisClass.eid).hide();$("#mfRevertContainer"+thisClass.eid).hide();$("#mfEditImageContainer_"+thisClass.eid).hide();if(!thisClass.component.colorEnabled){$("#mfEnableColorSec_"+thisClass.eid).hide();$("#mfGrayScaleSec_"+thisClass.eid).hide();}};thisClass.forImageUI=function(){$(".mfImgPropCls"+thisClass.eid+" .mfImageSettingNonImageHide").show();if(!mf_main.INTEGRATION){$("#mfFillWithAIContainer_"+thisClass.eid).show();}$("#"+thisClass.eid+"_border").hide();$("#"+thisClass.eid+"_font").hide();$("#mfEditImageContainer_"+thisClass.eid).show();$("#mfCropImageContainer_"+thisClass.eid).show();$("#mfRevertContainer"+thisClass.eid).show();$("#mfToggleImage_"+thisClass.eid).css("width","100px");$("#mfReplaceImage_"+thisClass.eid).show();$("#mfCropImage_"+thisClass.eid).show();if(thisClass.component.isCropped()){$("#mfResetCropImageContainer_"+thisClass.eid).show();}else{$("#mfResetCropImageContainer_"+thisClass.eid).hide();}if(thisClass.component.eangle!=0){$("#mfCropImage_"+thisClass.eid).hide();$("#mfResetCropImageContainer_"+thisClass.eid).hide();}thisClass.cropModeToggle();if(thisClass.component.canvasDraw){$("#mfResetCropImageContainer_"+thisClass.eid).hide();$("#mfCropImage_"+thisClass.eid).hide();}var isSvg=thisClass.component.isSVG;if(isSvg){$("#"+thisClass.eid+"_partSetting").height(380);$("#"+thisClass.eid+"").height(1450);}else{$("#"+thisClass.eid+"_partSetting").height(510);$("#"+thisClass.eid+"").height(1450);}};thisClass.cropModeToggle=function(){if(mf_main.editorController.CROPMODE){$("#mfCropImage_"+thisClass.eid).text("Exit Crop");}else{$("#mfCropImage_"+thisClass.eid).text("Crop Image");}};thisClass.forUnImageUI=function(){$(".mfImgPropCls"+thisClass.eid+" .mfImageSettingNonImageHide").hide();$("#"+thisClass.eid+"_border").show();$("#"+thisClass.eid+"_font").show();if(!mf_main.INTEGRATION){$("#mfFillWithAIContainer_"+thisClass.eid).show();}$("#mfEditImageContainer_"+thisClass.eid).hide();$("#mfCropImageContainer_"+thisClass.eid).hide();$("#mfRevertContainer"+thisClass.eid).hide();$("#mfToggleImage_"+thisClass.eid).css("width","220px");$("#mfReplaceImage_"+thisClass.eid).hide();$("#mfResetCropImageContainer_"+thisClass.eid).hide();};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfBorderRadius_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfBorderRadius_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfBorderRadius_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:onRadiusChange,decimals:0});$("#mfBorderRadius_"+thisClass.eid).focus(function(){$("#mfBorderRadius_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onRadiusChange);$("#mfBorderRadius_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onRadiusChange);});$("#mfFillOpacity_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfFillOpacity_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfFillOpacity_"+thisClass.eid).kendoNumericTextBox({spinners:true,spin:opacityOnChange,decimal:0});$("#mfFillOpacity_"+thisClass.eid).focus(function(){$("#mfFillOpacity_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",opacityOnChange);$("#mfFillOpacity_"+thisClass.eid).data("kendoNumericTextBox").bind("change",opacityOnChange);});$("#aspectToggleBtn_"+thisClass.eid).click(toggleSelectionAspect);$("#flipToggleBtn_"+thisClass.eid).click(toggleSelectionFlip);$("#colorToggleBtn_"+thisClass.eid).click(toggleSelectionColor);$("#grayToggleBtn_"+thisClass.eid).click(toggleSelectionGrayscale);$("#altTextToggleBtn_"+thisClass.eid).click(toggleSelectionAltText);$("#mfRevert"+thisClass.eid).on("click",function(){mf_main.editorController.disableCropMode();var szObject=new Object();szObject.width=thisClass.component.originalEsize.width;szObject.height=thisClass.component.originalEsize.height;thisClass.component.e2xml.addPropObject("esize",szObject);thisClass.component.render(true);mf_main.editorController.reStackComponents();mf_main.editorController.addSelectorResize(thisClass.component.selector);thisClass.updateTransform(true);if(mf_main.editorController.currentGroupEdit!=null){mf_main.editorController.page.groupManager.resetParentSelectorGroups(mf_main.editorController.currentGroupEdit);}});$("#mfEditImage_"+thisClass.eid).on("click",function(){mf_main.editorController.disableCropMode();mf_main.editorController.imageController.openImageEditor(thisClass.component.imageID,thisClass.component);});$("#mfToggleImage_"+thisClass.eid).on("click",function(){if(thisClass.component.imageID==""){$("#mfToggleImage_"+thisClass.eid).text("Clear");mf_main.editorController.openNavBarContent("mfNavImagesBtn");thisClass.component.preserveSize=false;mf_main.editorController.imageController.component=thisClass.component;thisClass.forImageUI();}else{$("#mfToggleImage_"+thisClass.eid).text("Pick Image");thisClass.component.e2xml.addPropSingle("imageID","");thisClass.component.render(true);mf_main.editorController.reStackComponents();thisClass.forUnImageUI();}});$("#mfReplaceImage_"+thisClass.eid).on("click",function(e){mf_main.editorController.disableCropMode();if(thisClass.component.illustration){mf_main.componentList.addIconMode=false;if($("#mfSvgIllustrationListSearchBox").val().trim()==""){if(thisClass.component.illustrationpack!=""&&mf_main.componentList.activeSvgIllustrationPackType!=thisClass.component.illustrationpack){mf_main.componentList.svgIllustrationComponents=new Array();mf_main.componentList.activeSvgIllustrationPackType=thisClass.component.illustrationpack;}}mf_main.componentList.svgIllustrationListHandler(e);}else{if(thisClass.component.icon){mf_main.componentList.addIconMode=false;if($("#mfSvgIconListSearchBox").val().trim()==""){if(thisClass.component.iconpack!=""&&mf_main.componentList.activeSvgIconPackType!=thisClass.component.iconpack){mf_main.componentList.svgIconComponents=new Array();mf_main.componentList.activeSvgIconPackType=thisClass.component.iconpack;}}mf_main.componentList.svgIconListHandler(e);}else{mf_main.editorController.openNavBarContent("mfNavImagesBtn");thisClass.component.preserveSize=true;mf_main.editorController.imageController.component=thisClass.component;}}});$("#mfCropImage_"+thisClass.eid).on("click",function(){if(thisClass.component.eangle!=0){MF_Utils.display_ActionIndicator("Image cannot be cropped when rotated");}else{if(mf_main.editorController.CROPMODE){$("#mfCropImage_"+thisClass.eid).text("Crop Image");mf_main.editorController.disableCropMode();}else{$("#mfCropImage_"+thisClass.eid).text("Exit Crop");mf_main.editorController.enableCropMode();}}});$("#mfResetCropImage_"+thisClass.eid).on("click",function(){if(thisClass.component.isCropped){$("#mfResetCropImageContainer_"+thisClass.eid).hide();mf_main.editorController.disableCropMode();var undoarr=new Array();var undo=new MF_UndoDAO();undo.propSingleUndo(thisClass.component,"crop",thisClass.component.crop);undoarr.push(undo);undo=new MF_UndoDAO();undo.propObjectUndo(thisClass.component,"esize",thisClass.component.esize);undoarr[undoarr.length]=undo;undo=new MF_UndoDAO();undo.propObjectUndo(thisClass.component,"ecoordinates",thisClass.component.ecoordinates);undoarr[undoarr.length]=undo;thisClass.component.e2xml.addPropSingle("crop","0,0,0,0","default");var szObject=new Object();szObject.width=thisClass.component.width+thisClass.component.cropWidth;szObject.height=thisClass.component.height+thisClass.component.cropHeight;thisClass.component.e2xml.addPropObject("esize",szObject,"default");var posObject=new Object();posObject.x=thisClass.component.x+thisClass.component.cropX;posObject.y=thisClass.component.y+thisClass.component.cropY;thisClass.component.e2xml.addPropObject("ecoordinates",posObject,"default");thisClass.component.render(true);mf_main.editorController.reStackComponents();var undoObj=new MF_UndoDAO();var meta=new MF_MetaUndo(undoarr);meta.reselectMeta=true;undoObj.metaUndo(meta);MF_ChangeManager.addUndo(undoObj);$("#mfResetCropImageContainer_"+thisClass.eid).hide();mf_main.editorController.addSelectorResize(thisClass.component.selector);thisClass.updateTransform(true);if(mf_main.editorController.currentGroupEdit!=null){mf_main.editorController.page.groupManager.resetParentSelectorGroups(mf_main.editorController.currentGroupEdit);}}});$("#mfImgColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){mf_main.editorController.disableCropMode();var rgbStr=color.toRgbString();var digits=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(rgbStr);var red=parseInt(digits[2]);var green=parseInt(digits[3]);var blue=parseInt(digits[4]);thisClass.component.e2xml.addPropSingle("rgb",red+","+green+","+blue);thisClass.component.render(true);mf_main.editorController.reStackComponents();}});$("#mfFillWithAI_"+thisClass.eid).on("click",function(event){mf_main.editorController.openNavBarContent("mfNavAIToolsBtn");mf_main.editorController.aiToolsController.openAIImage();});if(mf_main.INTEGRATION){$("#mfFillWithAIContainer_"+thisClass.eid).hide();}}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}function onRadiusChange(){$("#mfBorderRadius_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onRadiusChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var r=this.value();var cjson=MF_ComponentUtils.updateCSS(thisClass.component,["border","border-radius"]);if(cjson!=""){MF_ComponentUtils.applyCSSPropSingle(thisClass,"borderRadius",r,cjson);}else{thisClass.component.e2xml.addPropSingle("borderRadius",r);thisClass.component.render(false);}}thisClass.borderRadiusBox=$("#mfBorderRadius_"+thisClass.eid).data("kendoNumericTextBox");thisClass.borderRadiusBox.value(thisClass.component.borderRadius);function opacityOnChange(){$("#mfFillOpacity_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",opacityOnChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var cjson=MF_ComponentUtils.updateCSS(thisClass.component,["opacity"]);if(cjson!=""){MF_ComponentUtils.applyCSSPropSingle(thisClass,"opacity",this.value(),cjson,true);}else{thisClass.component.e2xml.addPropSingle("opacity",this.value());thisClass.component.render(true);mf_main.editorController.reStackComponents();}}var imgOpacity=$("#mfFillOpacity_"+thisClass.eid).data("kendoNumericTextBox");imgOpacity.value(thisClass.component.opacity);$("#aspectToggleBtn_"+thisClass.eid).prop("checked",thisClass.component.maintainSize);function toggleSelectionAspect(e){mf_main.editorController.disableCropMode();var $this=$(this);if($this.is(":checked")){if(thisClass.component.isCropped()){thisClass.component.e2xml.addPropSingle("maintainSize",true);thisClass.component.render(true);mf_main.editorController.reStackComponents();}else{var undoarr=new Array();var undo=new MF_UndoDAO();undo.propSingleUndo(thisClass.component,"maintainSize",thisClass.component.maintainSize);undoarr.push(undo);undo=new MF_UndoDAO();undo.propObjectUndo(thisClass.component,"esize",thisClass.component.esize);undoarr[undoarr.length]=undo;undo=new MF_UndoDAO();undo.propObjectUndo(thisClass.component,"ecoordinates",thisClass.component.ecoordinates);undoarr[undoarr.length]=undo;thisClass.component.e2xml.addPropSingle("maintainSize",true,"default");var maxWidth=thisClass.component.width;var maxHeight=thisClass.component.height;var srcWidth=thisClass.component.originalEsize.width;var srcHeight=thisClass.component.originalEsize.height;var ratioarr=[maxWidth/srcWidth,maxHeight/srcHeight];ratioarr=Math.min(ratioarr[0],ratioarr[1]);newwidth=srcWidth*ratioarr;newheight=srcHeight*ratioarr;var szObject=new Object();szObject.width=newwidth;szObject.height=newheight;thisClass.component.e2xml.addPropObject("esize",szObject,"default");var undoObj=new MF_UndoDAO();var meta=new MF_MetaUndo(undoarr);meta.reselectMeta=true;undoObj.metaUndo(meta);MF_ChangeManager.addUndo(undoObj);thisClass.component.render(true);mf_main.editorController.reStackComponents();mf_main.editorController.addSelectorResize(thisClass.component.selector);thisClass.updateTransform(true);}}else{thisClass.component.e2xml.addPropSingle("maintainSize",false);thisClass.component.render(true);mf_main.editorController.reStackComponents();}}$("#flipToggleBtn_"+thisClass.eid).prop("checked",thisClass.component.flip);function toggleSelectionFlip(e){var $this=$(this);if($this.is(":checked")){var cjson=MF_ComponentUtils.updateCSS(thisClass.component,["transform","-webkit-transform"]);if(cjson!=""){MF_ComponentUtils.applyCSSPropSingle(thisClass,"flip",true,cjson,true);}else{thisClass.component.e2xml.addPropSingle("flip",true);thisClass.component.render(true);mf_main.editorController.reStackComponents();}}else{var cjson=MF_ComponentUtils.updateCSS(thisClass.component,["transform","-webkit-transform"]);if(cjson!=""){MF_ComponentUtils.applyCSSPropSingle(thisClass,"flip",false,cjson,true);}else{thisClass.component.e2xml.addPropSingle("flip",false);thisClass.component.render(true);mf_main.editorController.reStackComponents();}}}$("#colorToggleBtn_"+thisClass.eid).prop("checked",thisClass.component.colorEnabled);function toggleSelectionColor(e){mf_main.editorController.disableCropMode();var $this=$(this);if($this.is(":checked")){$("#mfResetCropImage_"+thisClass.eid).click();thisClass.component.e2xml.addPropSingle("colorEnabled",true);$("#mfImgColorDiv_"+thisClass.eid).show();$("#mfCropImage_"+thisClass.eid).hide();}else{thisClass.component.e2xml.addPropSingle("colorEnabled",false);$("#mfImgColorDiv_"+thisClass.eid).hide();$("#mfCropImage_"+thisClass.eid).show();}thisClass.component.render(true);mf_main.editorController.reStackComponents();}$("#grayToggleBtn_"+thisClass.eid).prop("checked",thisClass.component.grayScale);$("#altTextToggleBtn_"+thisClass.eid).prop("checked",thisClass.component.showAltText);function toggleSelectionGrayscale(e){var $this=$(this);if($this.is(":checked")){var cjson=MF_ComponentUtils.updateCSS(thisClass.component,["filter","-webkit-filter"]);if(cjson!=""){MF_ComponentUtils.applyCSSPropSingle(thisClass,"grayScale",true,cjson,true);}else{thisClass.component.e2xml.addPropSingle("grayScale",true);thisClass.component.render(true);mf_main.editorController.reStackComponents();}}else{var cjson=MF_ComponentUtils.updateCSS(thisClass.component,["filter","-webkit-filter"]);if(cjson!=""){MF_ComponentUtils.applyCSSPropSingle(thisClass,"grayScale",false,cjson,true);}else{thisClass.component.e2xml.addPropSingle("grayScale",false);thisClass.component.render(true);mf_main.editorController.reStackComponents();}}}function toggleSelectionAltText(e){mf_main.editorController.disableCropMode();var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("showAltText",true);}else{thisClass.component.e2xml.addPropSingle("showAltText",false);}thisClass.component.render(true);mf_main.editorController.reStackComponents();}if(thisClass.component.imageID==""){$("#mfToggleImage_"+thisClass.eid).text("Pick Image");$("#mfReplaceImage_"+thisClass.eid).hide();}else{$("#mfToggleImage_"+thisClass.eid).text("Clear");$("#mfReplaceImage_"+thisClass.eid).show();}var rgbArr=thisClass.component.rgb.split(",");$("#mfImgColor_"+thisClass.eid).spectrum("set","#"+MF_Utils.toHex(rgbArr[0])+MF_Utils.toHex(rgbArr[1])+MF_Utils.toHex(rgbArr[2]));if(thisClass.component.colorEnabled){$("#mfImgColorDiv_"+thisClass.eid).show();}else{$("#mfImgColorDiv_"+thisClass.eid).hide();}function showImageTextEdit(e){if(mf_main.editorController.EDITOR){if(mf_main.editorController.lastSetting&&mf_main.editorController.lastSetting.component&&mf_main.editorController.lastSetting.component.EDITABLE){mf_main.editorController.lastTextEditComp=mf_main.editorController.lastSetting.component;mf_main.editorController.startEditingText();}}}};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1350px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Comp / Click Here to edit text
						</div>
						
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							 
						</div>
						
						<div id="{{eid}}_theme"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_imagesettings"  style="overflow: hidden; width:100%; " >
							
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
										<div style="float: left; width: 185px; padding-left: 5px;">Image</div>
										
										<div style="float: left; width: 50px; text-align: right;">
											<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
											<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
										</div>
								</div>
											
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 100%;" class="mf_image_partSettings">	
							   
							   
				   
								   <div class='mfImgPropCls{{eid}}' >

								   		<div class="mfImgsettingsWrapper">
											<div class="mfImgsettingsitem mfImageSettingNonImageHide">
												<div >Maintain Size Ratio:</div>
												<div class="checkbox">
													<input  type="checkbox" checked=true id="aspectToggleBtn_{{eid}}" class="tgl tgl-ios" value="">
													<label class='tgl-btn' for='aspectToggleBtn_{{eid}}'></label>
												</div>
											</div>

											<div class="mfImgsettingsitem mfImageSettingNonImageHide">
													<div>Flip:</div>
													<div class="checkbox">
														<input  type="checkbox" checked=true id="flipToggleBtn_{{eid}}" class="tgl tgl-ios" value="">
														<label class='tgl-btn' for='flipToggleBtn_{{eid}}'></label>
													</div>
											</div>

											<div id="mfEnableColorSec_{{eid}}" class="mfImgsettingsitem mfImageSettingNonImageHide">
												<div>Enable Color:</div>
												<div class="d-flex align-items-center" style="height:25px;overflow:hidden;">
													<div class="checkbox" style="width:auto;padding-bottom: 0;margin-right: 8px;">
													<input  type="checkbox" checked=true id="colorToggleBtn_{{eid}}" class="tgl tgl-ios" value="">
													<label class='tgl-btn' for='colorToggleBtn_{{eid}}'></label>
												</div>
												<div  id='mfImgColorDiv_{{eid}}'><input  id='mfImgColor_{{eid}}' style='width: 100px;' type='text'  /></div>
												</div>
												
											</div>
											
											<div id="mfGrayScaleSec_{{eid}}" class="mfImgsettingsitem mfImageSettingNonImageHide">
												<div id="mfGrayScaleLbl_{{eid}}">GrayScale:</div>
												<div  id="mfGrayScaleWrapper_{{eid}}" class="checkbox">
													<input  type="checkbox" checked=true id="grayToggleBtn_{{eid}}" class="tgl tgl-ios" value="">
													<label class='tgl-btn' for='grayToggleBtn_{{eid}}'></label>
												</div>
											</div>

											<div class="mfImgsettingsitem mfImageSettingNonImageHide" id="mfBorderRadiusContainer_{{eid}}">
												<div id="mfBorderRadiusLbl_{{eid}}">Corner Radius:</div>
									   			<div id="mfBorderRadiusWrapper_{{eid}}" ><input style="width: 70px;" id="mfBorderRadius_{{eid}}" type="number" value="0" min="0" max="10000000" step="1" /></div>
											</div>

											<div class="mfImgsettingsitem">
												<div  id="mfOpacityLbl_{{eid}}">Opacity:</div>
												<div  id="mfOpacityWrapper_{{eid}}" style="height: 25px; font-size: 11px;  width: 100px; ">
													<input id="mfFillOpacity_{{eid}}"  type="number" style="width: 70px;" value="1" min="0" max="1" step="0.1"/>
												</div>
											</div>

											<div class="mfImgsettingsitem">
												<div id="mfAltTextLbl_{{eid}}">Show Alt Text:</div>
												<div  id="mfAltTextWrapper_{{eid}}" class="checkbox" style="position:unset;width: 100%;">
													<input  type="checkbox" checked=true id="altTextToggleBtn_{{eid}}" class="tgl tgl-ios" value="" style="position:unset">
													<label class='tgl-btn' for='altTextToggleBtn_{{eid}}'></label>
												</div>
											</div>


											

											

										</div>		
									   
								   </div>

								   
									<div style="padding-left:0;width: 220px;margin: 5px auto;margin-top: 10px; display:none;" id="mfResetCropImageContainer_{{eid}}">
										<a style="cursor: pointer; font-size: 14px; width: 100%; color: #2196F3;" class="btn mfSidebarBlueButton" id="mfResetCropImage_{{eid}}" >Reset crop</a>
									</div>

									<div class="mfImgsettingsWrapper" style="padding-top: 12px;">

											<div class="mfImgsettingsitem" id="mfEditImageContainer_{{eid}}" style="display:none;">
												<a style="width: 100px; " class="btn mfSidebarBlueButton" id="mfEditImage_{{eid}}" >Edit Image</a>
											</div>

											<div class="mfImgsettingsitem" id="mfCropImageContainer_{{eid}}">
												<a style="width: 100px; " class="btn mfSidebarBlueButton" id="mfCropImage_{{eid}}" >Crop Image</a>
											</div>

									</div>

									<div class="mfImgsettingsWrapper" style="padding-top: 12px;">

											<div class="mfImgsettingsitem">
												<a style="width: 100%" class="btn mfSidebarShadowButton mfImgclearbtn" id="mfToggleImage_{{eid}}" ></a>
											</div>

											<div class="mfImgsettingsitem">
												<a style=" width: 100%" class="btn mfSidebarShadowButton" id="mfReplaceImage_{{eid}}">Replace</a>
											</div>

									</div>
									
								
									<div class="w-100" id="mfRevertContainer{{eid}}" style="display:none;margin-bottom: 16px;margin-top: 10px;">
										<a style="width: 220px;margin: auto;display: flex;align-items: center;justify-content: center;" class="btn mfSidebarShadowButton" id="mfRevert{{eid}}" >Revert to Original Size</a>
									</div>


									<div class="w-100" id="mfFillWithAIContainer_{{eid}}">
										<a id="mfFillWithAI_{{eid}}" style="width: 220px; margin: auto;font-weight: normal;display: flex;align-items: center;justify-content: center;" class="btn mfSidebarBlueButton mfSidebarPurpleButton">Generate Image with AI</a>
									</div>
		
									   
								</div>
						</div>
						
						<div id="{{eid}}_colors"  style="overflow: hidden; width:100%; " >
							 
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
							<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						
							<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_css"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_ArrowPath(){var thisClass=this;thisClass.NAME="MF_ArrowPath";thisClass.LABEL="ArrowPath";thisClass.GENONLY=false;thisClass.TRANSFORM=true;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=true;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=200;thisClass.height=200;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.esize=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.startX=0;thisClass.startY=0;thisClass.endX=0;thisClass.endY=0;thisClass.startType="bottomLeft";thisClass.arrowColor="#ff0000";thisClass.arrowThickness=2;thisClass.shadowType="none";thisClass.selectedDragId=null;thisClass.mouseX=0;thisClass.mouseY=0;thisClass.connectorMaxXpos=0;thisClass.connectorMaxYpos=0;thisClass.connectorMinXpos=0;thisClass.connectorMinYpos=0;thisClass.arrowStyle="solid";thisClass.arrowHeadStart="noArrowLeft";thisClass.arrowHeadEnd="singleHeadRight";thisClass.wayPoints=new Array();thisClass.dragPoints=new Array();thisClass.dragReference=new Object();thisClass.isComponentMoved=false;thisClass.undoFlag=false;thisClass.arrowHeadStartData={noArrowLeft:{arrowType:"noArrowLeft",arrowSide:"left",arrowHeadElement:"",markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},singleHeadLeft:{arrowType:"singleHeadLeft",arrowSide:"left",arrowHeadElement:'<polygon points="7.45 6.46 0.52 3.37 7.46 0.32 7.46 3.47 7.45 6.46" fill="#7A7A7A" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},singleHeadOutlineLeft:{arrowType:"singleHeadOutlineLeft",arrowSide:"left",arrowHeadElement:'<polygon points="7.45 6.46 0.52 3.37 7.46 0.32 7.46 3.47 7.45 6.46" stroke="#7A7A7A" fill="#fff" />',markerStart:"",markerEnd:"",isOutline:true,isFillTransparent:false},singleHeadInvertedLeft:{arrowType:"singleHeadInvertedLeft",arrowSide:"left",arrowHeadElement:'<path d="M6.92,6.23.53,3.5,7,.56A4.06,4.06,0,0,0,5.74,3.41,4.12,4.12,0,0,0,6.92,6.23Z" fill="#7A7A7A" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},singleHeadInvertedOutlineLeft:{arrowType:"singleHeadInvertedOutlineLeft",arrowSide:"left",arrowHeadElement:'<path d="M6.92,6.23.53,3.5,7,.56A4.06,4.06,0,0,0,5.74,3.41,4.12,4.12,0,0,0,6.92,6.23Z" stroke="#7A7A7A" fill="#fff" />',markerStart:"",markerEnd:"",isOutline:true,isFillTransparent:false},singleLineHeadLeft:{arrowType:"singleLineHeadLeft",arrowSide:"left",arrowHeadElement:'<polyline points="7.45 6.33 0.52 3.24 7.46 0.19" stroke="#7A7A7A" fill="transparent"/>',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:true},doubleLineHeadLeft:{arrowType:"doubleLineHeadLeft",arrowSide:"left",arrowHeadElement:'<path d="M4.2,6.62.32,3.5,4.2.16" stroke="#7A7A7A" fill="transparent" /><path d="M6,6.62,2.13,3.49,6,.16" stroke="#7A7A7A" fill="transparent" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:true},squareLeft:{arrowType:"squareLeft",arrowSide:"left",arrowHeadElement:'<rect x="0.23" y="0.23" width="6.28" height="6.28" fill="#7A7A7A" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},squareOutlineLeft:{arrowType:"squareOutlineLeft",arrowSide:"left",arrowHeadElement:'<rect x="0.23" y="0.23" width="6.28" height="6.28" stroke="#7A7A7A" fill="#fff" />',markerStart:"",markerEnd:"",isOutline:true,isFillTransparent:false},circleLeft:{arrowType:"circleLeft",arrowSide:"left",arrowHeadElement:'<circle cx="3.6" cy="3.6" r="3" fill="#7A7A7A" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},circleOutlineLeft:{arrowType:"circleOutlineLeft",arrowSide:"left",arrowHeadElement:'<circle class="cls-1" cx="3.6" cy="3.6" r="3" stroke="#7A7A7A" fill="#fff" />',markerStart:"",markerEnd:"",isOutline:true,isFillTransparent:false},};thisClass.arrowHeadEndData={noArrowRight:{arrowType:"noArrowRight",arrowSide:"right",arrowHeadElement:"",markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},singleHeadRight:{arrowType:"singleHeadRight",arrowSide:"right",arrowHeadElement:'<polygon points="0.21 3.47 0.21 0.32 7.16 3.37 0.23 6.46 0.21 3.47" fill="#7A7A7A" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},singleHeadOutlineRight:{arrowType:"singleHeadOutlineRight",arrowSide:"right",arrowHeadElement:'<polygon points="0.21 3.47 0.21 0.32 7.16 3.37 0.23 6.46 0.21 3.47" stroke="#7A7A7A" fill="#fff" />',markerStart:"",markerEnd:"",isOutline:true,isFillTransparent:false},singleHeadInvertedRight:{arrowType:"singleHeadInvertedRight",arrowSide:"right",arrowHeadElement:'<path d="M.77.58,7.14,3.5.77,6.24A4.07,4.07,0,0,0,1.93,3.41,4,4,0,0,0,.77.58Z" fill="#7A7A7A" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},singleHeadInvertedOutlineRight:{arrowType:"singleHeadInvertedOutlineRight",arrowSide:"right",arrowHeadElement:'<path d="M.77.58,7.14,3.5.77,6.24A4.07,4.07,0,0,0,1.93,3.41,4,4,0,0,0,.77.58Z" stroke="#7A7A7A" fill="#fff" />',markerStart:"",markerEnd:"",isOutline:true,isFillTransparent:false},singleLineHeadRight:{arrowType:"singleLineHeadRight",arrowSide:"right",arrowHeadElement:'<path d="M.13.25,7.19,3.52l-7.06,3" stroke="#7A7A7A" fill="transparent" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:true},doubleLineHeadRight:{arrowType:"doubleLineHeadRight",arrowSide:"right",arrowHeadElement:'<path d="M3.47.17,7.35,3.5,3.47,6.62" stroke="#7A7A7A" fill="transparent" /><path d="M1.73.17,5.54,3.5,1.73,6.62" stroke="#7A7A7A" fill="transparent" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:true},squareRight:{arrowType:"squareRight",arrowSide:"right",arrowHeadElement:'<rect x="0.23" y="0.23" width="6.28" height="6.28" fill="#7A7A7A" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},squareOutlineRight:{arrowType:"squareOutlineRight",arrowSide:"right",arrowHeadElement:'<rect x="0.23" y="0.23" width="6.28" height="6.28" stroke="#7A7A7A" fill="#fff" />',markerStart:"",markerEnd:"",isOutline:true,isFillTransparent:false},circleRight:{arrowType:"circleRight",arrowSide:"right",arrowHeadElement:'<circle cx="3.6" cy="3.6" r="3" fill="#7A7A7A" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},circleOutlineRight:{arrowType:"circleOutlineRight",arrowSide:"right",arrowHeadElement:'<circle cx="3.6" cy="3.6" r="3" stroke="#7A7A7A" fill="#fff" />',markerStart:"",markerEnd:"",isOutline:true,isFillTransparent:false}};thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};this.updateDimensions=function(newWidth,newHeight,newX,newY,origX,origY){var waypointCollection=thisClass.wayPoints;if(typeof(thisClass.wayPoints)=="string"){waypointCollection=JSON.parse(thisClass.wayPoints);}var currentWidth=thisClass.width-(thisClass.delta);var currentHeight=thisClass.height-(thisClass.delta);for(var i=0;i<waypointCollection.length;i++){var widthRatio=(newWidth/currentWidth)*(waypointCollection[i].x-origX);var heightRatio=(newHeight/currentHeight)*(waypointCollection[i].y-origY);waypointCollection[i].x=widthRatio+newX;waypointCollection[i].y=heightRatio+newY;}thisClass.connectorMinXpos=thisClass.getWaypointValue(Math.min,waypointCollection,"x");thisClass.connectorMinYpos=thisClass.getWaypointValue(Math.min,waypointCollection,"y");thisClass.connectorMaxXpos=thisClass.getWaypointValue(Math.max,waypointCollection,"x");thisClass.connectorMaxYpos=thisClass.getWaypointValue(Math.max,waypointCollection,"y");thisClass.e2xml.addPropSingle("connectorMinXpos",thisClass.connectorMinXpos,"default");thisClass.e2xml.addPropSingle("connectorMinYpos",thisClass.connectorMinYpos,"default");thisClass.e2xml.addPropSingle("connectorMaxXpos",thisClass.connectorMaxXpos,"default");thisClass.e2xml.addPropSingle("connectorMaxYpos",thisClass.connectorMaxYpos,"default");thisClass.e2xml.addPropSingle("wayPoints",JSON.stringify(waypointCollection),"default");thisClass.render(false);};thisClass.getVisible=function(){return thisClass.visible;};thisClass.transformSelector=function(){thisClass.selector.transform(thisClass);};thisClass.computePoints=function(){var obj=MF_Utils.computePoints(thisClass.startType,thisClass.x+thisClass.delta,thisClass.y+thisClass.delta,thisClass.width-(thisClass.delta*2),thisClass.height-(thisClass.delta*2));thisClass.startX=obj.startx;thisClass.startY=obj.starty;thisClass.endX=obj.endx;thisClass.endY=obj.endy;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("arrowColor",thisClass.arrowColor,"default");thisClass.e2xml.addPropSingle("arrowThickness",thisClass.arrowThickness,"default");thisClass.e2xml.addPropSingle("arrowHeadStart",thisClass.arrowHeadStart,"default");thisClass.e2xml.addPropSingle("arrowHeadEnd",thisClass.arrowHeadEnd,"default");thisClass.e2xml.addPropSingle("arrowStyle",thisClass.arrowStyle,"default");thisClass.e2xml.addPropSingle("wayPoints",JSON.stringify(thisClass.wayPoints),"default");thisClass.e2xml.addPropSingle("connectorMinXpos",thisClass.connectorMinXpos,"default");thisClass.e2xml.addPropSingle("connectorMinYpos",thisClass.connectorMinYpos,"default");thisClass.e2xml.addPropSingle("connectorMaxXpos",thisClass.connectorMaxXpos,"default");thisClass.e2xml.addPropSingle("connectorMaxYpos",thisClass.connectorMaxYpos,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.arrowColor!=null){thisClass.arrowColor=thisClass.e2xml.settings.properties.arrowColor;}if(thisClass.e2xml.settings.properties.arrowThickness!=null){thisClass.arrowThickness=thisClass.e2xml.settings.properties.arrowThickness;}if(thisClass.e2xml.settings.properties.arrowHeadStart!=null){thisClass.arrowHeadStart=thisClass.e2xml.settings.properties.arrowHeadStart;}if(thisClass.e2xml.settings.properties.arrowHeadEnd!=null){thisClass.arrowHeadEnd=thisClass.e2xml.settings.properties.arrowHeadEnd;}if(thisClass.e2xml.settings.properties.arrowStyle!=null){thisClass.arrowStyle=thisClass.e2xml.settings.properties.arrowStyle;}if(thisClass.e2xml.settings.properties.wayPoints!=null){thisClass.wayPoints=JSON.parse(thisClass.e2xml.settings.properties.wayPoints);}if(thisClass.e2xml.settings.properties.connectorMinXpos!=null){thisClass.connectorMinXpos=thisClass.e2xml.settings.properties.connectorMinXpos;}if(thisClass.e2xml.settings.properties.connectorMinYpos!=null){thisClass.connectorMinYpos=thisClass.e2xml.settings.properties.connectorMinYpos;}if(thisClass.e2xml.settings.properties.connectorMaxXpos!=null){thisClass.connectorMaxXpos=thisClass.e2xml.settings.properties.connectorMaxXpos;}if(thisClass.e2xml.settings.properties.connectorMaxXpos!=null){thisClass.connectorMaxXpos=thisClass.e2xml.settings.properties.connectorMaxXpos;}};this.calculateDimensions=function(startx,starty,endx,endy,delta){var dim;if(thisClass.wayPoints.length!=0){var waypointCollection=thisClass.wayPoints;if(thisClass.undoFlag){var undoarr=new Array();var undo=new MF_UndoDAO();undo.propObjectUndo(thisClass,"ecoordinates",thisClass.ecoordinates);undoarr.push(undo);var undo=new MF_UndoDAO();var wayPoints=thisClass.wayPoints;if(typeof(thisClass.wayPoints)!="string"){wayPoints=JSON.stringify(thisClass.wayPoints);}undo.propArrayUndo(thisClass,"wayPoints",wayPoints);undoarr.push(undo);var undoObj=new MF_UndoDAO();var meta=new MF_MetaUndo(undoarr);undoObj.metaUndo(meta);MF_ChangeManager.addUndo(undoObj);MF_ChangeManager.CHANGED(true);thisClass.undoFlag=false;}if(thisClass.isComponentMoved){var xdiff=Math.round((thisClass.x+thisClass.delta)-thisClass.connectorMinXpos);var ydiff=Math.round((thisClass.y+thisClass.delta)-thisClass.connectorMinYpos);for(var i=0;i<waypointCollection.length;i++){waypointCollection[i].x+=xdiff;waypointCollection[i].y+=ydiff;}thisClass.isComponentMoved=false;}thisClass.connectorMinXpos=thisClass.getWaypointValue(Math.min,thisClass.wayPoints,"x");thisClass.connectorMinYpos=thisClass.getWaypointValue(Math.min,thisClass.wayPoints,"y");thisClass.connectorMaxXpos=thisClass.getWaypointValue(Math.max,thisClass.wayPoints,"x");thisClass.connectorMaxYpos=thisClass.getWaypointValue(Math.max,thisClass.wayPoints,"y");dim=MF_Utils.calculateDimensions(thisClass.connectorMinXpos,thisClass.connectorMinYpos,thisClass.connectorMaxXpos,thisClass.connectorMaxYpos,thisClass.delta);dim.startx,thisClass.startX=thisClass.wayPoints[0].x;dim.starty,thisClass.startY=thisClass.wayPoints[0].y;dim.endx,thisClass.endX=thisClass.wayPoints[thisClass.wayPoints.length-1].x;dim.endy,thisClass.endY=thisClass.wayPoints[thisClass.wayPoints.length-1].y;}else{dim=MF_Utils.calculateDimensions(thisClass.startX,thisClass.startY,thisClass.endX,thisClass.endY,thisClass.delta);}return dim;};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}thisClass.getValues();thisClass.delta=2*(thisClass.arrowThickness/15)+(4*thisClass.arrowThickness);var rectDim=thisClass.calculateDimensions(thisClass.startX,thisClass.startY,thisClass.endX,thisClass.endY,thisClass.delta);thisClass.startType=rectDim.startType;var cvsCode="";var cwidth=rectDim.width+(thisClass.delta*2);var cheight=rectDim.height+(thisClass.delta*2);var ctop=rectDim.y-thisClass.delta;var cleft=rectDim.x-thisClass.delta;thisClass.x=cleft;thisClass.y=ctop;thisClass.width=cwidth;thisClass.height=cheight;var arrowHeadStartObj=thisClass.arrowHeadStartData[thisClass.arrowHeadStart];var arrowHeadEndObj=thisClass.arrowHeadEndData[thisClass.arrowHeadEnd];if(redraw){$("#"+thisClass.eid).remove();$(".transformPathHandle").remove();var arrsvg='<div id="'+thisClass.eid+'" class="mfWFCompCls mfArrowPathCls" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  pointer-events: none; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px">';if(!mf_main.RENDER){arrsvg=arrsvg+'<svg style="width: 100%;height: 100%;"><defs><marker id="'+thisClass.eid+'_startarrow" markerWidth="10" markerHeight="7" refX="1.8" refY="3.4" orient="auto"></marker><marker id="'+thisClass.eid+'_endarrow" markerWidth="10" markerHeight="7" refX="6" refY="3.4" orient="auto" markerUnits="strokeWidth"></marker></defs><path class="mfNodeConnectorPath" fill="none" style="stroke:#bdcfde; stroke-width: 2px; fill: none;"/><g class="splitter" xmlns="http://www.w3.org/2000/svg" fill="black"></svg></g>';arrsvg=arrsvg+"</div>";}if(mf_main.RENDER){arrsvg=arrsvg+'<svg style="width: 100%;height: 100%;"><defs>';if(arrowHeadEndObj.arrowHeadElement!="noArrowRight"){arrsvg=arrsvg+'<marker id="'+thisClass.eid+'_endarrow" markerWidth="10" markerHeight="7" refX="6" refY="3.4" orient="auto" markerUnits="strokeWidth">'+arrowHeadEndObj.arrowHeadElement+"</marker>";}if(arrowHeadStartObj.arrowHeadElement!="noArrowLeft"){arrsvg=arrsvg+'<marker id="'+thisClass.eid+'_startarrow" markerWidth="10" markerHeight="7" refX="1.8" refY="3.4" orient="auto">'+arrowHeadStartObj.arrowHeadElement+"</marker>";}arrsvg=arrsvg+'</defs><path class="mfNodeConnectorPath" fill="none" style="stroke:#bdcfde; stroke-width: 2px; fill: none;"/><g class="splitter" xmlns="http://www.w3.org/2000/svg" fill="black"></g><svg/>';arrsvg=arrsvg+"</div>";}arrsvg=arrsvg+"</div>";if(mfpage){$("#mfPage"+mfpage.eid).append(arrsvg);}else{$("#mfPage"+mf_main.editorController.page.eid).append(arrsvg);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);$("#"+thisClass.eid).css("width",thisClass.width);$("#"+thisClass.eid).css("height",thisClass.height);}if(thisClass.wayPoints.length==0){var pathAxis;pathAxis=rectDim.startx+","+rectDim.starty+" "+rectDim.startx+","+rectDim.endy+" "+rectDim.endx+","+rectDim.endy;$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").attr("d","M"+pathAxis);var wayPointId1=mf_main.editorController.guidGenerator();var wayPointId2=mf_main.editorController.guidGenerator();var wayPointId3=mf_main.editorController.guidGenerator();var offsetStartX=Math.round(rectDim.startx+cleft);var offsetStartY=Math.round(rectDim.starty+ctop);var offsetEndX=Math.round(rectDim.endx+cleft);var offsetEndY=Math.round(rectDim.endy+ctop);thisClass.wayPoints.push({x:offsetStartX,y:offsetStartY,id:wayPointId1},{x:offsetStartX,y:offsetEndY,id:wayPointId2},{x:offsetEndX,y:offsetEndY,id:wayPointId3});thisClass.connectorMinXpos=thisClass.getWaypointValue(Math.min,thisClass.wayPoints,"x");thisClass.connectorMinYpos=thisClass.getWaypointValue(Math.min,thisClass.wayPoints,"y");thisClass.connectorMaxXpos=thisClass.getWaypointValue(Math.max,thisClass.wayPoints,"x");thisClass.connectorMaxYpos=thisClass.getWaypointValue(Math.max,thisClass.wayPoints,"y");thisClass.updateDragPoints();thisClass.e2xml.addPropSingle("wayPoints",JSON.stringify(thisClass.wayPoints),"default");}else{if(!redraw&&!mf_main.editorController.isDrag&&mf_main.editorController.transformDrag&&mf_main.editorController.selectorTransformStart&&thisClass.wayPoints.length>1&&mf_main.editorController.transformDragType=="start"){var fwaypoint1=thisClass.wayPoints[0];var fwaypoint2=thisClass.wayPoints[1];if(thisClass.wayPoints.length>2){if(fwaypoint1.x==fwaypoint2.x){fwaypoint1.x=Math.round(mf_main.editorController.selectorTransformStart.x);fwaypoint2.x=Math.round(mf_main.editorController.selectorTransformStart.x);fwaypoint1.y=Math.round(mf_main.editorController.selectorTransformStart.y);}if(fwaypoint1.y==fwaypoint2.y){fwaypoint1.y=Math.round(mf_main.editorController.selectorTransformStart.y);fwaypoint2.y=Math.round(mf_main.editorController.selectorTransformStart.y);fwaypoint1.x=Math.round(mf_main.editorController.selectorTransformStart.x);}thisClass.removeDuplicateWaypoints(thisClass.wayPoints,fwaypoint1,fwaypoint2);}else{if(thisClass.wayPoints.length=2){var refStartX=Math.round(mf_main.editorController.selectorTransformStart.x);var refStartY=Math.round(mf_main.editorController.selectorTransformStart.y);var newWaypointId1=mf_main.editorController.guidGenerator();var newWaypointId2=mf_main.editorController.guidGenerator();var test=$.extend(true,[],(thisClass.wayPoints));if(fwaypoint1.x==fwaypoint2.x&&fwaypoint1.y!=fwaypoint2.y&&(fwaypoint1.x!=Math.round(refStartX))&&Math.abs((fwaypoint1.x)-Math.round(refStartX))>5){thisClass.wayPoints.shift();thisClass.wayPoints.unshift({x:Math.round(refStartX),y:Math.round(refStartY),id:newWaypointId1},{x:fwaypoint1.x,y:Math.round(refStartY),id:newWaypointId2});}else{if(fwaypoint1.y==fwaypoint2.y&&fwaypoint1.x!=fwaypoint2.x&&(fwaypoint1.y!=Math.round(refStartY))&&Math.abs((fwaypoint1.y)-Math.round(refStartY))>5){thisClass.wayPoints.shift();thisClass.wayPoints.unshift({x:Math.round(refStartX),y:Math.round(refStartY),id:newWaypointId1},{x:Math.round(refStartX),y:fwaypoint1.y,id:newWaypointId2});}else{if((fwaypoint1.x==fwaypoint2.x)&&fwaypoint1.y!=fwaypoint2.y){fwaypoint1.y=refStartY;}else{if((fwaypoint1.y==fwaypoint2.y)&&fwaypoint1.x!=fwaypoint2.x){fwaypoint1.x=refStartX;}else{if((fwaypoint1.y==fwaypoint2.y)&&fwaypoint1.x==fwaypoint2.x){thisClass.wayPoints.shift();thisClass.wayPoints.unshift({x:Math.round(refStartX),y:Math.round(refStartY),id:newWaypointId1},{x:Math.round(refStartX),y:fwaypoint1.y,id:newWaypointId2});}}}}}}}}else{if(!redraw&&!mf_main.editorController.isDrag&&mf_main.editorController.transformDrag&&mf_main.editorController.selectorTransformEnd&&thisClass.wayPoints.length>1&&mf_main.editorController.transformDragType=="end"){var lwaypoint1=thisClass.wayPoints[thisClass.wayPoints.length-1];var lwaypoint2=thisClass.wayPoints[thisClass.wayPoints.length-2];if(thisClass.wayPoints.length>2){if(lwaypoint1.x==lwaypoint2.x){lwaypoint1.x=Math.round(mf_main.editorController.selectorTransformEnd.x);lwaypoint2.x=Math.round(mf_main.editorController.selectorTransformEnd.x);lwaypoint1.y=Math.round(mf_main.editorController.selectorTransformEnd.y);}if(lwaypoint1.y==lwaypoint2.y){lwaypoint1.y=Math.round(mf_main.editorController.selectorTransformEnd.y);lwaypoint2.y=Math.round(mf_main.editorController.selectorTransformEnd.y);lwaypoint1.x=Math.round(mf_main.editorController.selectorTransformEnd.x);}thisClass.removeDuplicateWaypoints(thisClass.wayPoints,lwaypoint1,lwaypoint2);}else{if(thisClass.wayPoints.length=2){var refEndX=Math.round(mf_main.editorController.selectorTransformEnd.x);var refEndY=Math.round(mf_main.editorController.selectorTransformEnd.y);var newWaypointId1=mf_main.editorController.guidGenerator();var newWaypointId2=mf_main.editorController.guidGenerator();if(lwaypoint1.x==lwaypoint2.x&&lwaypoint1.y!=lwaypoint2.y&&lwaypoint1.x!=Math.round(refEndX)&&Math.abs((lwaypoint1.x)-Math.round(refEndX))>5){thisClass.wayPoints.pop();thisClass.wayPoints.push({x:lwaypoint1.x,y:Math.round(refEndY),id:newWaypointId1},{x:Math.round(refEndX),y:Math.round(refEndY),id:newWaypointId2});}else{if(lwaypoint1.y==lwaypoint2.y&&lwaypoint1.x!=lwaypoint2.x&&lwaypoint1.x!=Math.round(refEndY)&&Math.abs((lwaypoint1.y)-Math.round(refEndY))>5){thisClass.wayPoints.pop();thisClass.wayPoints.push({x:Math.round(refEndX),y:lwaypoint1.y,id:newWaypointId1},{x:Math.round(refEndX),y:Math.round(refEndY),id:newWaypointId2});}else{if((lwaypoint1.x==lwaypoint2.x)&&lwaypoint1.y!=lwaypoint2.y){lwaypoint1.y=refEndY;}else{if((lwaypoint1.y==lwaypoint2.y)&&lwaypoint1.x!=lwaypoint2.x){lwaypoint1.x=refEndX;}else{if((lwaypoint1.y==lwaypoint2.y)&&lwaypoint1.x==lwaypoint2.x){thisClass.wayPoints.pop();thisClass.wayPoints.push({x:Math.round(refEndX),y:lwaypoint1.y,id:newWaypointId1},{x:Math.round(refEndX),y:Math.round(refEndY),id:newWaypointId2});}}}}}}}}else{if(!redraw&&!mf_main.editorController.isDrag&&mf_main.editorController.transformDrag&&mf_main.editorController.selectorTransformPath&&thisClass.wayPoints.length>1&&mf_main.editorController.transformDragType=="path"){thisClass.resizeConnectorPath();}}}thisClass.updateArrowPath();}if(thisClass.arrowStyle=="solid"){$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").removeAttr("stroke-dasharray");}else{if(thisClass.arrowStyle=="dotted"){$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").attr("stroke-dasharray",""+thisClass.arrowThickness+",2");}else{if(thisClass.arrowStyle=="dashed"){$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").attr("stroke-dasharray",""+(thisClass.arrowThickness*2)+",4");}}}var thickness=parseInt(thisClass.arrowThickness);$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").css("stroke-width",thickness+"px");$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").attr("marker-start","");$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").attr("marker-end","");$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").css("stroke",thisClass.arrowColor);$("#"+thisClass.eid+" svg").find("polygon").attr("fill",thisClass.arrowColor);if(arrowHeadStartObj.arrowHeadElement!="noArrowLeft"){$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").attr("marker-start","url(#"+thisClass.eid+"_startarrow)");$("#"+thisClass.eid+"_startarrow").attr("stroke-width","0.6");$("#"+thisClass.eid+"_startarrow").attr("stroke-dasharray","100%");if(!mf_main.RENDER){$("#"+thisClass.eid+"_startarrow").html(arrowHeadStartObj.arrowHeadElement);}if(arrowHeadStartObj.isOutline){$("#"+thisClass.eid+"_startarrow").children().attr({stroke:thisClass.arrowColor,fill:"#fff"});}else{$("#"+thisClass.eid+"_startarrow").children().attr({stroke:thisClass.arrowColor,fill:thisClass.arrowColor});if(arrowHeadStartObj.isFillTransparent){$("#"+thisClass.eid+"_startarrow").children().attr({stroke:thisClass.arrowColor,fill:"transparent"});}else{$("#"+thisClass.eid+"_startarrow").attr("stroke-width","0");}}}if(arrowHeadEndObj.arrowHeadElement!="noArrowRight"){$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").attr("marker-end","url(#"+thisClass.eid+"_endarrow)");if(!mf_main.RENDER){$("#"+thisClass.eid+"_endarrow").html(arrowHeadEndObj.arrowHeadElement);}$("#"+thisClass.eid+"_endarrow").attr("stroke-width","0.6");$("#"+thisClass.eid+"_endarrow").attr("stroke-dasharray","100%");if(arrowHeadEndObj.isOutline){$("#"+thisClass.eid+"_endarrow").children().attr({stroke:thisClass.arrowColor,fill:"#fff"});}else{$("#"+thisClass.eid+"_endarrow").children().attr({stroke:thisClass.arrowColor,fill:thisClass.arrowColor});if(arrowHeadEndObj.isFillTransparent){$("#"+thisClass.eid+"_endarrow").children().attr({stroke:thisClass.arrowColor,fill:"transparent"});}else{$("#"+thisClass.eid+"_endarrow").attr("stroke-width","0");}}}MF_ComponentUtils.setComponentShadowImageCSS(thisClass.eid+" svg",thisClass.shadowType);thisClass.e2xml.addPropSingle("connectorMinXpos",thisClass.connectorMinXpos,"default");thisClass.e2xml.addPropSingle("connectorMinYpos",thisClass.connectorMinYpos,"default");thisClass.e2xml.addPropSingle("connectorMaxXpos",thisClass.connectorMaxXpos,"default");thisClass.e2xml.addPropSingle("connectorMaxYpos",thisClass.connectorMaxYpos,"default");if(thisClass.selector){thisClass.selector.transform(thisClass);}};this.updateDragPoints=function(){var waypointCollection=thisClass.wayPoints;thisClass.dragReference=new Object();thisClass.dragPoints=new Array();for(var i=0;i<waypointCollection.length-1;i++){var id=waypointCollection[i].id;thisClass.dragReference[id]=[waypointCollection[i].id,waypointCollection[i+1].id];}$.each(thisClass.dragReference,function(index,val){var node=thisClass.dragReference[index];var nodeAIndx=MF_Utils.searchObjArray(waypointCollection,"id",node[0]);var nodeBIndx=MF_Utils.searchObjArray(waypointCollection,"id",node[1]);var nodeA=waypointCollection[nodeAIndx];var nodeB=waypointCollection[nodeBIndx];if(nodeA.y==nodeB.y){var val;if(nodeA.x>nodeB.x){val=((nodeA.x-nodeB.x)/2)+nodeB.x;}else{val=((nodeB.x-nodeA.x)/2)+nodeA.x;}thisClass.dragPoints.push({x:val,y:nodeA.y,id:index});}if(nodeA.x==nodeB.x){var val;if(nodeA.y>nodeB.y){val=((nodeA.y-nodeB.y)/2)+nodeB.y;}else{val=((nodeB.y-nodeA.y)/2)+nodeA.y;}thisClass.dragPoints.push({x:nodeA.x,y:val,id:index});}});if(thisClass.selector&&mf_main.editorController.selectorTransformPath&&!mf_main.editorController.transformDrag){mf_main.editorController.addSelectorTransform(thisClass.selector);thisClass.selectedDragId=null;}else{$(".transformPathHandle").remove();}};this.resizeConnectorPath=function(){try{var dragdata=thisClass.dragReference;var waypointCollection=thisClass.wayPoints;if(thisClass.selectedDragId&&dragdata[thisClass.selectedDragId]&&waypointCollection.length>1){var nodeAID=dragdata[thisClass.selectedDragId][0];var nodeBID=dragdata[thisClass.selectedDragId][1];nodeAIndx=MF_Utils.searchObjArray(waypointCollection,"id",nodeAID);nodeBIndx=MF_Utils.searchObjArray(waypointCollection,"id",nodeBID);nodeA=waypointCollection[nodeAIndx];nodeB=waypointCollection[nodeBIndx];var waypoint1=$.extend(true,{},(nodeA));var waypoint2=$.extend(true,{},(nodeB));var wayptref=$.extend(true,[],(waypointCollection));if(waypoint1.x==waypoint2.x){waypointCollection[nodeAIndx].x=Math.round(thisClass.mouseX);waypointCollection[nodeBIndx].x=Math.round(thisClass.mouseX);}if(waypoint1.y==waypoint2.y){waypointCollection[nodeAIndx].y=Math.round(thisClass.mouseY);waypointCollection[nodeBIndx].y=Math.round(thisClass.mouseY);}if(nodeAIndx==0){var id=mf_main.editorController.guidGenerator();waypoint1.id=mf_main.editorController.guidGenerator();dragdata[id]=[waypoint1.id,nodeA.id];waypointCollection.unshift(waypoint1);}else{if(nodeAIndx==waypointCollection.length-1){var id=mf_main.editorController.guidGenerator();waypoint1.id=id;dragdata[id]=[waypoint1.id,nodeA.id];waypointCollection.push(waypoint1);}}if(nodeBIndx==0){var id=mf_main.editorController.guidGenerator();waypoint2.id=id;dragdata[id]=[waypoint2.id,nodeB.id];waypointCollection.unshift(waypoint2);}else{if(nodeBIndx==waypointCollection.length-1){var id=mf_main.editorController.guidGenerator();waypoint2.id=id;dragdata[id]=[waypoint2.id,nodeB.id];waypointCollection.push(waypoint2);}}thisClass.removeDuplicateWaypoints(wayptref,nodeA,nodeB);}}catch(e){console.log("Error in ArrowPath");}};this.removeDuplicateWaypoints=function(wayptref,nodeA,nodeB){var waypointCollection=thisClass.wayPoints;if(waypointCollection.length>2){for(var i=0;i<wayptref.length;i++){var indexA=MF_Utils.searchObjArray(wayptref,"id",nodeA.id);if((wayptref[i].id!=nodeA.id)&&((Math.abs((wayptref[i].x)-(nodeA.x))==0)&&(Math.abs((wayptref[i].y)-(nodeA.y))==0)&&Math.abs(i-indexA)==1)){var index=MF_Utils.searchObjArray(waypointCollection,"id",wayptref[i].id);if(index!=-1&&index!=0&&index!=wayptref.length-1){waypointCollection.splice(index,1);}var index=MF_Utils.searchObjArray(waypointCollection,"id",nodeA.id);if(index!=0&&index!=wayptref.length-1){waypointCollection.splice(index,1);}}var indexB=MF_Utils.searchObjArray(wayptref,"id",nodeB.id);if((wayptref[i].id!=nodeB.id)&&((Math.abs((wayptref[i].x)-(nodeB.x))==0)&&(Math.abs((wayptref[i].y)-(nodeB.y))==0)&&Math.abs(i-indexB)==1)){var index=MF_Utils.searchObjArray(waypointCollection,"id",wayptref[i].id);if(index!=-1&&index!=0&&index!=wayptref.length-1){waypointCollection.splice(index,1);}var index=MF_Utils.searchObjArray(waypointCollection,"id",nodeB.id);if(index!=-1&&index!=0&&index!=wayptref.length-1){waypointCollection.splice(indexB,1);}}}}};this.updateArrowPath=function(){try{var pathdata;var waypointCollection=thisClass.wayPoints;var wayptref=$.extend(true,[],(waypointCollection));if(waypointCollection.length>2){if(wayptref[0].x!=wayptref[1].x&&wayptref[0].y!=wayptref[1].y){waypointCollection.splice(0,1);}if(wayptref[wayptref.length-1].x!=wayptref[wayptref.length-2].x&&wayptref[wayptref.length-1].y!=wayptref[wayptref.length-2].y){waypointCollection.splice(waypointCollection.length-1,1);}}if(thisClass.selector&&mf_main.editorController.selectorTransformPath&&!mf_main.editorController.transformDrag){var minValue=thisClass.arrowThickness*7;if(waypointCollection.length>2){if((wayptref[0].y==wayptref[1].y)&&Math.abs(wayptref[0].x-wayptref[1].x)<eval(thisClass.arrowHeadStart=="noArrowLeft"?10:minValue)){waypointCollection.splice(0,1);}else{if((wayptref[0].x==wayptref[1].x)&&Math.abs(wayptref[0].y-wayptref[1].y)<eval(thisClass.arrowHeadStart=="noArrowLeft"?10:minValue)){waypointCollection.splice(0,1);}}}if(waypointCollection.length>2){if((wayptref[wayptref.length-1].x==wayptref[wayptref.length-2].x)&&Math.abs(wayptref[wayptref.length-1].y-wayptref[wayptref.length-2].y)<eval(thisClass.arrowHeadEnd=="noArrowRight"?10:minValue)){waypointCollection.splice(waypointCollection.length-1,1);}else{if((wayptref[wayptref.length-1].y==wayptref[wayptref.length-2].y)&&Math.abs(wayptref[wayptref.length-1].x-wayptref[wayptref.length-2].x)<eval(thisClass.arrowHeadEnd=="noArrowRight"?10:minValue)){waypointCollection.splice(waypointCollection.length-1,1);}}}thisClass.startX=thisClass.wayPoints[0].x;thisClass.startY=thisClass.wayPoints[0].y;thisClass.endX=thisClass.wayPoints[thisClass.wayPoints.length-1].x;thisClass.endY=thisClass.wayPoints[thisClass.wayPoints.length-1].y;}for(var i=0;i<waypointCollection.length;i++){if(i==0){pathdata=(waypointCollection[i].x-thisClass.x)+","+(waypointCollection[i].y-thisClass.y);}else{pathdata+=" "+(waypointCollection[i].x-thisClass.x)+","+(waypointCollection[i].y-thisClass.y);}}if(pathdata){$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").attr("d","M"+pathdata);}thisClass.updateDragPoints();thisClass.e2xml.addPropSingle("wayPoints",JSON.stringify(thisClass.wayPoints),"default");}catch(e){console.log("Error in ArrowPath");}};this.getWaypointValue=function(cmd,arr,key){var val=arr[0][key];for(var i=1;i<arr.length;i++){val=cmd(val,arr[i][key]);}return val;};this.updateDimension=function(newWidth,newHeight){var waypointCollection=thisClass.wayPoints;if(typeof(thisClass.wayPoints)=="string"){waypointCollection=JSON.parse(thisClass.wayPoints);}for(var i=0;i<waypointCollection.length;i++){var widthRatio=(newWidth/thisClass.width)*(waypointCollection[i].x-thisClass.connectorMinXpos);var heightRatio=(newHeight/thisClass.height)*(waypointCollection[i].y-thisClass.connectorMinYpos);if(waypointCollection[i].x!=thisClass.connectorMinXpos){waypointCollection[i].x=widthRatio+thisClass.connectorMinXpos;}if(waypointCollection[i].y!=thisClass.connectorMinYpos){waypointCollection[i].y=heightRatio+thisClass.connectorMinYpos;}}thisClass.e2xml.addPropSingle("wayPoints",JSON.stringify(waypointCollection),"default");thisClass.render(false);};}function MF_ArrowPathSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.linkSettings=null;thisClass.shadowSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfArrowThickness_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfArrowThickness_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfArrowStyle_"+thisClass.eid).data("kendoDropDownList")){$("#mfArrowStyle_"+thisClass.eid).data("kendoDropDownList").destroy();}thisClass.shadowSettings.remove();}}catch(e){console.log("error occured in the component MF_ArrowPath.js");}mf_main.editorController.removeSelectorTransform();$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);}else{thisClass.shadowSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfArrowColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){color=MF_Utils.RGBToHex(color.toRgbString());thisClass.component.e2xml.addPropSingle("arrowColor",color);thisClass.component.render(false);}});$("#mfArrowThickness_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfArrowThickness_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfArrowThickness_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:onArrowThicknessChange,decimals:0});$("#mfArrowThickness_"+thisClass.eid).focus(function(){$("#mfArrowThickness_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onArrowThicknessChange);$("#mfArrowThickness_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onArrowThicknessChange);});$("#mfArrowStyle_"+thisClass.eid).kendoDropDownList({select:onArrowStyleSelect});$("#mfArrowStartDropdown"+thisClass.eid,"#mfArrowEndDropdown"+thisClass.eid).on("shown.bs.dropdown",function(){$(".mfCustomDropDownInt"+thisClass.eid).scrollTop(0);});var markerStartData=thisClass.component.arrowHeadStartData;$("#mfArrowHeadStart_"+thisClass.eid).empty();$.each(markerStartData,function(index,val){$("#mfArrowHeadStart_"+thisClass.eid).append('<li class="dropdown-item arrowHeadSelectorItem" data-value="'+val.arrowType+'"><svg style="width:80px;height: 24px;"><defs><marker id="'+val.arrowType+'" markerWidth="10" markerHeight="7" refX="5" refY="3.4" orient="auto" markerUnits="strokeWidth">'+val.arrowHeadElement+'</marker></defs><line x1="'+eval(val.arrowType=="noArrowLeft"?10:15)+'" y1="15" x2="80" y2="15" style="stroke:#7A7A7A;stroke-width:1.8" marker-start="url(#'+val.arrowType+')"></line></svg></li>');});var markerEndData=thisClass.component.arrowHeadEndData;$("#mfArrowHeadEnd_"+thisClass.eid).empty();$.each(markerEndData,function(index,val){$("#mfArrowHeadEnd_"+thisClass.eid).append('<li class="dropdown-item arrowHeadSelectorItem" data-value="'+val.arrowType+'"><svg style="width:82px;height: 24px;"><defs><marker id="'+val.arrowType+'" markerWidth="10" markerHeight="7" refX="5" refY="3.4" orient="auto" markerUnits="strokeWidth">'+val.arrowHeadElement+'</marker></defs><line x1="10" y1="15" x2="77" y2="15" style="stroke:#7A7A7A;stroke-width:1.8" marker-end="url(#'+val.arrowType+')"></line></svg></li>');});$("#mfArrowHeadStart_"+thisClass.eid+" .arrowHeadSelectorItem").click(arrowHeadStartSelect);$("#mfArrowHeadEnd_"+thisClass.eid+" .arrowHeadSelectorItem").click(arrowHeadEndSelect);$("#mfAnnotateToggleBtn_"+thisClass.eid).on("click",thisClass.toggleAnnotation);}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}$("#mfArrowColor_"+thisClass.eid).spectrum("set",thisClass.component.arrowColor);function onArrowThicknessChange(){$("#mfArrowThickness_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onArrowThicknessChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();thisClass.component.e2xml.addPropSingle("arrowThickness",w);thisClass.component.render(false);}thisClass.arrowThicknessBox=$("#mfArrowThickness_"+thisClass.eid).data("kendoNumericTextBox");thisClass.arrowThicknessBox.value(thisClass.component.arrowThickness);function arrowHeadStartSelect(e){var arrowType=$(this).attr("data-value");thisClass.component.e2xml.addPropSingle("arrowHeadStart",arrowType);thisClass.component.arrowHeadStart=arrowType;thisClass.component.render(false);updateArrowStartValue();}function updateArrowStartValue(){var arrowStartObj=thisClass.component.arrowHeadStartData[thisClass.component.arrowHeadStart];$("#mfArrowStartValue").html('<svg style="width:90px;height: 24px;margin-left: -5px;"><defs><marker id="'+arrowStartObj.arrowType+'_value" markerWidth="10" markerHeight="7" refX="5" refY="3.4" orient="auto" markerUnits="strokeWidth">'+arrowStartObj.arrowHeadElement+'</marker></defs><line x1="'+eval(arrowStartObj.arrowType=="noArrowLeft"?5:10)+'" y1="6" x2="75" y2="6" style="stroke:#7A7A7A;stroke-width:1.8" marker-start="url(#'+arrowStartObj.arrowType+'_value)"></line></svg>');}updateArrowStartValue();function arrowHeadEndSelect(e){var arrowType=$(this).attr("data-value");thisClass.component.e2xml.addPropSingle("arrowHeadEnd",arrowType);thisClass.component.arrowHeadEnd=arrowType;thisClass.component.render(false);updateArrowEndValue();}function updateArrowEndValue(){var arrowEndObj=thisClass.component.arrowHeadEndData[thisClass.component.arrowHeadEnd];$("#mfArrowEndValue").html('<svg style="width:90px;height: 24px;margin-left: -5px;"><defs><marker id="'+arrowEndObj.arrowType+'_value" markerWidth="10" markerHeight="7" refX="5" refY="3.4" orient="auto" markerUnits="strokeWidth">'+arrowEndObj.arrowHeadElement+'</marker></defs><line x1="5" y1="6" x2="75" y2="6" style="stroke:#7A7A7A;stroke-width:1.8" marker-end="url(#'+arrowEndObj.arrowType+'_value)"></line></svg>');}updateArrowEndValue();var arrowStyleDropdown=$("#mfArrowStyle_"+thisClass.eid).data("kendoDropDownList");if(thisClass.component.arrowStyle=="solid"){arrowStyleDropdown.select(0);}if(thisClass.component.arrowStyle=="dashed"){arrowStyleDropdown.select(1);}if(thisClass.component.arrowStyle=="dotted"){arrowStyleDropdown.select(2);}function onArrowStyleSelect(e){var atype="solid";if(e.item.index()==0){atype="solid";}if(e.item.index()==1){atype="dashed";}if(e.item.index()==2){atype="dotted";}thisClass.component.e2xml.addPropSingle("arrowStyle",atype);thisClass.component.render(false);}if(thisClass.component.ANNOTATION){thisClass.markAsAnnotate();}else{thisClass.unMarkAsAnnotate();}};thisClass.toggleAnnotation=function(e){if(thisClass.component){if(thisClass.component.ANNOTATION){thisClass.unMarkAsAnnotate();thisClass.component.e2xml.addPropSingle("ANNOTATION",false);}else{thisClass.markAsAnnotate();thisClass.component.e2xml.addPropSingle("ANNOTATION",true);}$("#mfAnnotateToggleBtn_"+thisClass.eid).tooltip("hide");}};thisClass.markAsAnnotate=function(){$("#mfAnnotateToggleBtn_"+thisClass.eid).css("color","#ff0000");$("#mfAnnotateToggleBtn_"+thisClass.eid).attr("data-original-title","Unmark component as 'Annotation'. Annotation components can be toggled - shown/hidden in review mode.");};thisClass.unMarkAsAnnotate=function(){$("#mfAnnotateToggleBtn_"+thisClass.eid).css("color","#8C95A4");$("#mfAnnotateToggleBtn_"+thisClass.eid).attr("data-original-title","Mark component as 'Annotation'. Annotation components can be toggled - shown/hidden in review mode.");};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 650px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
					
						<div id="{{eid}}_builtin"  style=" width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Arrow</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
								
								
										
								<div id="{{eid}}_partSetting" class="arrowPathSettings" style="position: relative; width:100%; height: 300px;">
											
											
											<div style="position: absolute; left: 10px; top: 20px;">Start Arrow:</div>
			


								<div style="position: absolute; left: 100px; top: 14px;" class="btn-group" id="mfArrowStartDropdown">
								 
								  <a class="btn dropdown-toggle" data-toggle="dropdown" style="width: 115px;height: 28px;border-radius: 4px !important;padding:7px 12px;">
								  	<div id="mfArrowStartValue"></div>
								  	<span class="caret" style="position: absolute;right: 6px;top: 11px;color:#4f4f4f;"></span>
								  </a>
								  
								  <ul id="mfArrowHeadStart_{{eid}}" class="dropdown-menu mfCustomDropDown mfCustomDropDownInt{{eid}}">
								  </ul>
								</div>
								


										 
										 <div style="position: absolute; left: 10px; top: 69px;">End Arrow:</div>
										 
										 <div style="position: absolute; left: 100px; top: 64px;" class="btn-group" id="mfArrowEndDropdown{{eid}}">
								 
										  <a class="btn dropdown-toggle" data-toggle="dropdown" style="width: 115px;height: 28px;border-radius: 4px !important; padding:7px 12px;">
										  	<div id="mfArrowEndValue"></div>
										  	<span class="caret" style="position: absolute;right: 6px;top: 11px;color:#4f4f4f;"></span>
										  </a>
										  
										  <ul id="mfArrowHeadEnd_{{eid}}" class="dropdown-menu mfCustomDropDown mfCustomDropDownInt{{eid}}">
										  </ul>
										</div>
										 
										 <div style="position: absolute; left: 10px; top: 118px;">Arrow Style:</div>
			
										 <select style="position: absolute;left: 100px; top: 114px; width: 115px;" id="mfArrowStyle_{{eid}}">
										 <option>Solid</option>
										 <option>Dashed</option>
										 <option>Dotted</option>
										 </select>								
								
											<div style="position: absolute; left: 10px; top: 168px;">Thickness:</div>
											<div style="position: absolute;left: 100px; top: 164px; width: 115px;"><input style="width: 70px;" id="mfArrowThickness_{{eid}}" type="number" value="2" min="1" max="10" step="1" /></div>
											
								
											<div style="position: absolute; left: 10px; top: 220px;">Color:</div>
											<div  style='position: absolute;left: 100px; top: 214px; width: 100px;' ><input  id='mfArrowColor_{{eid}}' style='width: 100px;' type='text'  /></div>
											
											<div style="position: absolute; left: 10px; top: 270px;">Annotation:</div>
											
											<span class="ico-border_color" data-toggle="tooltip"  data-placement="bottom"   id="mfAnnotateToggleBtn_{{eid}}" style="position: absolute; font-size: 18px; cursor:pointer; left: 100px; top: 270px;"></span>

						
											
								</div>
						</div>
						
						
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					 
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}